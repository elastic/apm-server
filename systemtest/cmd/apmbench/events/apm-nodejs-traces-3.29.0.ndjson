{"metadata":{"service":{"name":"opbeans-node","environment":"production","runtime":{"name":"node","version":"14.19.0"},"language":{"name":"javascript"},"agent":{"name":"nodejs","version":"3.29.0"},"version":"1.0.0"},"process":{"pid":34,"ppid":1,"title":"node /app/node_modules/.bin/workload","argv":["/usr/local/bin/node","/usr/local/lib/node_modules/pm2/lib/ProcessContainer.js","ecosystem-workload.config.js","-f",".workload.js"]},"system":{"hostname":"698fd446b62a","architecture":"x64","platform":"linux"}}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0ade42c6ef3d5617","trace_id":"22ce49b1aad6131ea366ce3ad6176d84","duration":203.095,"timestamp":1646055421489327,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:37:01 GMT","content-length":"401","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"fe964d6345cba85a","transaction_id":"0ade42c6ef3d5617","parent_id":"0ade42c6ef3d5617","trace_id":"22ce49b1aad6131ea366ce3ad6176d84","subtype":"http","action":"GET","timestamp":1646055421561690,"duration":95.946,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 5xx","id":"d5952ba2b485dc70","trace_id":"bd5afb176eb4cd16cb068b24d8e5c77c","duration":56.447,"timestamp":1646055421947125,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-node:3000/api/products/2/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":502,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:37:01 GMT","content-length":"0","connection":"close"}}},"span_count":{"started":1},"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"111d7262ba8fd2bb","transaction_id":"d5952ba2b485dc70","parent_id":"d5952ba2b485dc70","trace_id":"bd5afb176eb4cd16cb068b24d8e5c77c","subtype":"http","action":"GET","timestamp":1646055421965163,"duration":29.61,"context":{"http":{"method":"GET","status_code":502,"url":"http://opbeans-go:3000/api/products/2/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"OPTIONS unknown route","type":"request","result":"HTTP 2xx","id":"22da724dd0b9dd72","trace_id":"90fd060c6e54bc2ee7afc4535f7a0e01","duration":85.211,"timestamp":1646055435377800,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"OPTIONS","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","content-length":"0","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","allow":"GET,HEAD","content-type":"text/html; charset=utf-8","content-length":"8","etag":"W/\"8-ZRAf8oNBS3Bjb/SU2GYZCmbtmXg\"","date":"Mon, 28 Feb 2022 13:37:15 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"5dacf8e5be1b8225","trace_id":"d90ebf60dd2ed87a711aeb98ff329bfb","duration":158.99,"timestamp":1646055435840103,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/691","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/691","full":"http://opbeans-node:3000/api/customers/691"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"179","etag":"W/\"b3-Gypk18rk6LM3zylHdedIaUqLLWw\"","date":"Mon, 28 Feb 2022 13:37:15 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"cfb2af97d92ccab6","transaction_id":"5dacf8e5be1b8225","parent_id":"5dacf8e5be1b8225","trace_id":"d90ebf60dd2ed87a711aeb98ff329bfb","subtype":"postgresql","action":"query","timestamp":1646055435941099,"duration":25.194,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8c15d79a9454281c","transaction_id":"ccc2eeb1c34a3941","parent_id":"ccc2eeb1c34a3941","trace_id":"569186f74b022884e6a3187ec69c1790","subtype":"postgresql","action":"query","timestamp":1646055436432917,"duration":7.465,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"ccc2eeb1c34a3941","trace_id":"569186f74b022884e6a3187ec69c1790","duration":116.576,"timestamp":1646055436337188,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:37:16 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"b55bfffaf301f347","transaction_id":"ccc2eeb1c34a3941","parent_id":"ccc2eeb1c34a3941","trace_id":"569186f74b022884e6a3187ec69c1790","subtype":"redis","action":null,"timestamp":1646055436394011,"duration":26.681,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":59,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/products', function (req, res) {"],"context_line":"  redis.get('products', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"992b90c9444b3e99","transaction_id":"f1457c4651c55812","parent_id":"f1457c4651c55812","trace_id":"345ffa265a4c5f64ca69883b634de7fc","subtype":"redis","action":null,"timestamp":1646055436836324,"duration":5.484,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"f1457c4651c55812","trace_id":"345ffa265a4c5f64ca69883b634de7fc","duration":102.683,"timestamp":1646055436817031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"841","etag":"W/\"349-y916hkUXWELhGsutVQ/n/TzfWjk\"","date":"Mon, 28 Feb 2022 13:37:16 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"bc71b954e54e67bb","transaction_id":"f1457c4651c55812","parent_id":"f1457c4651c55812","trace_id":"345ffa265a4c5f64ca69883b634de7fc","subtype":"postgresql","action":"query","timestamp":1646055436845599,"duration":41.945,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"2fbd525cc5fd43a5","transaction_id":"c7cb9901214de794","parent_id":"c7cb9901214de794","trace_id":"294f712a1adcb6cf72bec2207bbdf68b","subtype":"postgresql","action":"query","timestamp":1646055437340044,"duration":14.874,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"db2110e5102c5b2f","transaction_id":"c7cb9901214de794","parent_id":"c7cb9901214de794","trace_id":"294f712a1adcb6cf72bec2207bbdf68b","subtype":"postgresql","action":"query","timestamp":1646055437368190,"duration":23.156,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a72a1e721a1aa70d","transaction_id":"c7cb9901214de794","parent_id":"c7cb9901214de794","trace_id":"294f712a1adcb6cf72bec2207bbdf68b","subtype":"postgresql","action":"query","timestamp":1646055437406965,"duration":11.668,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"9b8b29553469212b","transaction_id":"c7cb9901214de794","parent_id":"c7cb9901214de794","trace_id":"294f712a1adcb6cf72bec2207bbdf68b","subtype":"postgresql","action":"query","timestamp":1646055437429951,"duration":9.144,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"c7cb9901214de794","trace_id":"294f712a1adcb6cf72bec2207bbdf68b","duration":131.476,"timestamp":1646055437321039,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-Q7H4ZgCC+NDZvqku10YCSCzLv5I\"","date":"Mon, 28 Feb 2022 13:37:17 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"fb1b454dc6468c02","transaction_id":"d952051cce6b6d94","parent_id":"d952051cce6b6d94","trace_id":"80287f2458010ce6ee85e8ad378409ac","subtype":"redis","action":null,"timestamp":1646055437848239,"duration":13.15,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":168,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/customers', function (req, res) {"],"context_line":"  redis.get('customers', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"d952051cce6b6d94","trace_id":"80287f2458010ce6ee85e8ad378409ac","duration":311.046,"timestamp":1646055437824048,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:37:17 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"e063f11d5bd789b1","transaction_id":"d952051cce6b6d94","parent_id":"d952051cce6b6d94","trace_id":"80287f2458010ce6ee85e8ad378409ac","subtype":"postgresql","action":"query","timestamp":1646055437877522,"duration":221.742,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"304545814e2d03da","trace_id":"0575a5309d39f09040d3c1ef602727b4","parent_id":"223969e704f605d4","duration":72.907,"timestamp":1646055438320027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:37:18 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"dbf916e161ce7a27","transaction_id":"10a295a228201b02","parent_id":"10a295a228201b02","trace_id":"9a7f1b3080ae43b00c2acc10f382d168","subtype":"redis","action":null,"timestamp":1646055438837168,"duration":2.28,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"539a8f16e244b57d","transaction_id":"10a295a228201b02","parent_id":"10a295a228201b02","trace_id":"9a7f1b3080ae43b00c2acc10f382d168","subtype":"postgresql","action":"query","timestamp":1646055438845772,"duration":8.726,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"10a295a228201b02","trace_id":"9a7f1b3080ae43b00c2acc10f382d168","duration":54.536,"timestamp":1646055438822025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:37:18 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"c331471e5b550ba9","trace_id":"7b78db52eafdf997939207cb360802f1","duration":403.581,"timestamp":1646055452386833,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers?count=orders&limit=50","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","search":"?count=orders&limit=50","full":"http://opbeans-node:3000/api/products/5/customers?count=orders&limit=50"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:37:32 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b3ec4b7c41b1443d","trace_id":"3fcfaa5c98d6208f2362d3284089c8f0","duration":203.501,"timestamp":1646055452869032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:37:33 GMT","content-length":"110","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"17cf98ca8a8debf2","transaction_id":"b3ec4b7c41b1443d","parent_id":"b3ec4b7c41b1443d","trace_id":"3fcfaa5c98d6208f2362d3284089c8f0","subtype":"http","action":"GET","timestamp":1646055452955272,"duration":96.22,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"ace69f7d7733e44c","transaction_id":"c331471e5b550ba9","parent_id":"c331471e5b550ba9","trace_id":"7b78db52eafdf997939207cb360802f1","subtype":"postgresql","action":"query","timestamp":1646055452590679,"duration":119.817,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"256d3817539cedbe","trace_id":"905aeb5cb5a4cbf682beeec7a93d497b","duration":79.232,"timestamp":1646055453632033,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:37:33 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"d92739f14ce278e0","trace_id":"6b5ebcbc7ab74c9a8c20d71129064274","parent_id":"73426329ca4e70fa","duration":46.986,"timestamp":1646055453686024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:37:33 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"69dc3347ae8b1499","trace_id":"4c09fd0a9b427c51805446f3d7d540ab","duration":66.385,"timestamp":1646055453792026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"250","etag":"W/\"fa-O2pSp/nl49sefAwhjFNnvOX493Y\"","date":"Mon, 28 Feb 2022 13:37:33 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"cdf25cd315c84036","transaction_id":"69dc3347ae8b1499","parent_id":"69dc3347ae8b1499","trace_id":"4c09fd0a9b427c51805446f3d7d540ab","subtype":"postgresql","action":"query","timestamp":1646055453821048,"duration":21.613,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"754d8d65cab721c9","trace_id":"077c50319880762e0a8247282bf1da93","parent_id":"56cd3f4fce363a52","duration":17.798,"timestamp":1646055454262028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:37:34 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"50b88feec6888a02","transaction_id":"50b6958f61caed53","parent_id":"50b6958f61caed53","trace_id":"c2e45f8d04da3a69a2da02fbfa954684","subtype":"redis","action":null,"timestamp":1646055454775102,"duration":4.711,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"50b6958f61caed53","trace_id":"c2e45f8d04da3a69a2da02fbfa954684","duration":54.819,"timestamp":1646055454762036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"841","etag":"W/\"349-y916hkUXWELhGsutVQ/n/TzfWjk\"","date":"Mon, 28 Feb 2022 13:37:34 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"ffc4ad53f6dcd4ac","transaction_id":"50b6958f61caed53","parent_id":"50b6958f61caed53","trace_id":"c2e45f8d04da3a69a2da02fbfa954684","subtype":"postgresql","action":"query","timestamp":1646055454783821,"duration":13.836,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3cc4551c3766e714","trace_id":"ee8d9ad179319220cf639b1d5aff5996","duration":121.048,"timestamp":1646055455275032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/452","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/452","full":"http://opbeans-node:3000/api/orders/452"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:37:35 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"336","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"1029043b1eb36a15","transaction_id":"3cc4551c3766e714","parent_id":"3cc4551c3766e714","trace_id":"ee8d9ad179319220cf639b1d5aff5996","subtype":"http","action":"GET","timestamp":1646055455282550,"duration":106.013,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders/452"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"25d9304f9e514f31","transaction_id":"27b898fd13e39de0","parent_id":"27b898fd13e39de0","trace_id":"f5e8eb885f7592dec78e5f124f43a96e","subtype":"postgresql","action":"query","timestamp":1646055455796971,"duration":6.42,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"27b898fd13e39de0","trace_id":"f5e8eb885f7592dec78e5f124f43a96e","duration":55.698,"timestamp":1646055455781058,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/171","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/171","full":"http://opbeans-node:3000/api/customers/171"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"187","etag":"W/\"bb-03/WerYypcNhIKvJonxcgjDg1/k\"","date":"Mon, 28 Feb 2022 13:37:35 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"384955e628bdf3ee","trace_id":"f4081f0687b7d3cbff1449f703ed01d0","duration":17.336,"timestamp":1646055456266040,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:37:36 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"51042e08c535724f","trace_id":"8e48d2f8f487924cc876ee58f047f2b9","duration":23.066,"timestamp":1646055456762032,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:37:36 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /throw-error","type":"request","result":"HTTP 5xx","id":"e254f7651ce692a3","trace_id":"32c4faf6d9cd1d9539d3d6bc42747d55","duration":124.681,"timestamp":1646055469003277,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/throw-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/throw-error","full":"http://opbeans-node:3000/throw-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:37:49 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"1fe2a81701bf720b","trace_id":"7daa2f6c9aacfdf3ce481e2e55dab562","parent_id":"af137c82f54aa40c","duration":78.549,"timestamp":1646055469400046,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:37:49 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"feaaf81c2628e71c","trace_id":"7a118b9c44745d6bf62d01c13f586b00","duration":38.07,"timestamp":1646055469883019,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:37:49 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"735134b7dbcf34f8","trace_id":"418823839120a4f38d3c233687223640","duration":209.081,"timestamp":1646055470391036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:37:50 GMT","content-length":"401","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"4f966299636a6858","transaction_id":"735134b7dbcf34f8","parent_id":"735134b7dbcf34f8","trace_id":"418823839120a4f38d3c233687223640","subtype":"http","action":"GET","timestamp":1646055470461647,"duration":81.875,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 5xx","id":"a949de902a23b975","trace_id":"9de92b203e3f8f3a5c7e08afc337a170","duration":58.266,"timestamp":1646055470885029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":502,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:37:50 GMT","content-length":"0","connection":"close"}}},"span_count":{"started":1},"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"943b921648682a97","transaction_id":"a949de902a23b975","parent_id":"a949de902a23b975","trace_id":"9de92b203e3f8f3a5c7e08afc337a170","subtype":"http","action":"GET","timestamp":1646055470902614,"duration":27.918,"context":{"http":{"method":"GET","status_code":502,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /throw-error","type":"request","result":"HTTP 5xx","id":"1c970428e28abfdf","trace_id":"7e716d436e4a8fda836459a785595e88","duration":31.244,"timestamp":1646055471387045,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/throw-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/throw-error","full":"http://opbeans-node:3000/throw-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:37:51 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"63ad52d656aacec3","trace_id":"39f4e68b22f0a78d0abbfbf564fbc703","duration":1484.56,"timestamp":1646055471887330,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:37:53 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"8ccd718e874a56d7","trace_id":"19711787ae19a2b2df4477d135d1f4fc","duration":708.05,"timestamp":1646055472907200,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers?count=orders&limit=50","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","search":"?count=orders&limit=50","full":"http://opbeans-node:3000/api/products/5/customers?count=orders&limit=50"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:37:53 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"f557c2f53508beef","transaction_id":"8ccd718e874a56d7","parent_id":"8ccd718e874a56d7","trace_id":"19711787ae19a2b2df4477d135d1f4fc","subtype":"http","action":"GET","timestamp":1646055473167984,"duration":421.582,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/5/customers?count=orders&limit=50"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1dd0ab254ae8b392","transaction_id":"63ad52d656aacec3","parent_id":"63ad52d656aacec3","trace_id":"39f4e68b22f0a78d0abbfbf564fbc703","subtype":"postgresql","action":"query","timestamp":1646055473256924,"duration":30.295,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"da766bf8a02ed5d9","transaction_id":"1b8153da6d30cdd8","parent_id":"1b8153da6d30cdd8","trace_id":"1489b252faaf3d654dc83416384920de","subtype":"postgresql","action":"query","timestamp":1646055473539174,"duration":173.157,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"4356f7e9c2ea5e64","trace_id":"d91036010edcf3a7b5b4fe6f7fb3e4ce","duration":163.796,"timestamp":1646055473769615,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:37:53 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"15333e08f7cc4dab","transaction_id":"4356f7e9c2ea5e64","parent_id":"4356f7e9c2ea5e64","trace_id":"d91036010edcf3a7b5b4fe6f7fb3e4ce","subtype":"postgresql","action":"query","timestamp":1646055473835369,"duration":51.176,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"1b8153da6d30cdd8","trace_id":"1489b252faaf3d654dc83416384920de","duration":863.767,"timestamp":1646055473400046,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-Alv1Zr5rpXiCFIdc5jgoIm/gAlI\"","date":"Mon, 28 Feb 2022 13:37:54 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"653a5a83d7387db2","transaction_id":"1b8153da6d30cdd8","parent_id":"1b8153da6d30cdd8","trace_id":"1489b252faaf3d654dc83416384920de","subtype":"postgresql","action":"query","timestamp":1646055474206074,"duration":22.272,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"901823862a79e531","transaction_id":"1b8153da6d30cdd8","parent_id":"1b8153da6d30cdd8","trace_id":"1489b252faaf3d654dc83416384920de","subtype":"postgresql","action":"query","timestamp":1646055474210387,"duration":24.399,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1ba8e0a538e5d541","transaction_id":"1b8153da6d30cdd8","parent_id":"1b8153da6d30cdd8","trace_id":"1489b252faaf3d654dc83416384920de","subtype":"postgresql","action":"query","timestamp":1646055474214712,"duration":26.632,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"846df67b32916d97","transaction_id":"4356f7e9c2ea5e64","parent_id":"4356f7e9c2ea5e64","trace_id":"d91036010edcf3a7b5b4fe6f7fb3e4ce","subtype":"redis","action":null,"timestamp":1646055473798524,"duration":17.999,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":59,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/products', function (req, res) {"],"context_line":"  redis.get('products', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 5xx","id":"a5bdc0d0bfcce5e5","trace_id":"bc32c2ac722b33079a450896a288f2fd","duration":124.88,"timestamp":1646055474282027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":502,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:37:54 GMT","content-length":"0","connection":"close"}}},"span_count":{"started":1},"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"1714e0c6738dc9e9","transaction_id":"a5bdc0d0bfcce5e5","parent_id":"a5bdc0d0bfcce5e5","trace_id":"bc32c2ac722b33079a450896a288f2fd","subtype":"http","action":"GET","timestamp":1646055474303587,"duration":68.228,"context":{"http":{"method":"GET","status_code":502,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"45494877c75e992f","transaction_id":"63ad52d656aacec3","parent_id":"63ad52d656aacec3","trace_id":"39f4e68b22f0a78d0abbfbf564fbc703","subtype":"postgresql","action":"query","timestamp":1646055473085284,"duration":116.565,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"e3597d9c65e06902","transaction_id":"1b8153da6d30cdd8","parent_id":"1b8153da6d30cdd8","trace_id":"1489b252faaf3d654dc83416384920de","subtype":"postgresql","action":"query","timestamp":1646055473850932,"duration":210.567,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"a05571e5b2ae5778","transaction_id":"1b8153da6d30cdd8","parent_id":"1b8153da6d30cdd8","trace_id":"1489b252faaf3d654dc83416384920de","subtype":"postgresql","action":"query","timestamp":1646055473859498,"duration":290.882,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"bf81d4cece1e3ab0","transaction_id":"1b8153da6d30cdd8","parent_id":"1b8153da6d30cdd8","trace_id":"1489b252faaf3d654dc83416384920de","subtype":"postgresql","action":"query","timestamp":1646055474170631,"duration":30.238,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"c307ef546866aba1","trace_id":"97d8c332cc9e65270dcdfb2c68e9a392","parent_id":"0e31ea8ce9df166c","duration":316.978,"timestamp":1646055474548121,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:37:54 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"ae75767aad5e7990","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475226504,"duration":30.811,"context":{"db":{"statement":"SELECT id FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":307,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    })",""],"context_line":"    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","post_context":["    req.body.lines.forEach(function (line) {","      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"4f1912350502d47b","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475235324,"duration":29.534,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d05d6112c35416e3","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475240227,"duration":66.059,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"cad054bbd211c36c","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475247122,"duration":70.733,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"9ea4669c6ea9981e","transaction_id":"8a8366f1ce8a918e","parent_id":"8a8366f1ce8a918e","trace_id":"a7b2625a3c72902f925d822c9a0dfbee","subtype":"postgresql","action":"query","timestamp":1646055475300079,"duration":25.892,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"8a8366f1ce8a918e","trace_id":"a7b2625a3c72902f925d822c9a0dfbee","parent_id":"0ea5716b93d8924c","duration":136.44,"timestamp":1646055475273039,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-a7b2625a3c72902f925d822c9a0dfbee-0ea5716b93d8924c-01","elastic-apm-traceparent":"00-a7b2625a3c72902f925d822c9a0dfbee-0ea5716b93d8924c-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-Q7H4ZgCC+NDZvqku10YCSCzLv5I\"","date":"Mon, 28 Feb 2022 13:37:55 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"07c4d4ba2789b68e","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475248472,"duration":106.259,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"beaa890a22cc90ce","transaction_id":"8a8366f1ce8a918e","parent_id":"8a8366f1ce8a918e","trace_id":"a7b2625a3c72902f925d822c9a0dfbee","subtype":"postgresql","action":"query","timestamp":1646055475331072,"duration":36.279,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c4d342cabd52fc6c","transaction_id":"8a8366f1ce8a918e","parent_id":"8a8366f1ce8a918e","trace_id":"a7b2625a3c72902f925d822c9a0dfbee","subtype":"postgresql","action":"query","timestamp":1646055475334444,"duration":37.802,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"674a3d3a5a826d9e","transaction_id":"8a8366f1ce8a918e","parent_id":"8a8366f1ce8a918e","trace_id":"a7b2625a3c72902f925d822c9a0dfbee","subtype":"postgresql","action":"query","timestamp":1646055475339465,"duration":43.488,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c1326b0b94e23389","trace_id":"a7b2625a3c72902f925d822c9a0dfbee","duration":779.83,"timestamp":1646055474775062,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:37:55 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"275","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"5230d26e0652f8ba","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475249661,"duration":259.186,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"2fde35e6f50ac108","transaction_id":"c1326b0b94e23389","parent_id":"c1326b0b94e23389","trace_id":"a7b2625a3c72902f925d822c9a0dfbee","subtype":"http","action":"GET","timestamp":1646055474784384,"duration":748.494,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"BEGIN","type":"db","id":"18413b4553cd0cf3","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475519824,"duration":55.064,"context":{"db":{"statement":"BEGIN","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":264,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["      }",""],"context_line":"      client.query('BEGIN', function (err) {","post_context":["        if (err) return rollback(err)",""]},{"filename":"node_modules/after-all-results/index.js","lineno":20,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/after-all-results/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO orders","type":"db","id":"f0cd1c5db3a6d3c7","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475581798,"duration":41.651,"context":{"db":{"statement":"INSERT INTO orders (customer_id) VALUES ($1) RETURNING id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":269,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["        const sql = 'INSERT INTO orders (customer_id) VALUES ($1) RETURNING id'",""],"context_line":"        client.query(sql, [req.body.customer_id], function (err, result) {","post_context":["          if (err) return rollback(err)",""]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"ad8ff7b76f4fd9dc","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475632806,"duration":31.096,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"eff04f192985cb70","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475636238,"duration":33.216,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"d405160e5b16f61e","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475639447,"duration":39.181,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"35299932ccc049de","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475641002,"duration":44.972,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"c919c6c558ba933a","trace_id":"97d03dadee49a3ac2202a0e7c7939236","parent_id":"605d25482303ac13","duration":45.48,"timestamp":1646055475649080,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:37:55 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"730569c94dbf6fee","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055475644676,"duration":55.685,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f6dc4871e877d5a8","transaction_id":"41bb6e91c56f6680","parent_id":"41bb6e91c56f6680","trace_id":"cef42b38a1dab35a7f6bfadd3e85c711","subtype":"postgresql","action":"query","timestamp":1646055475983426,"duration":9.086,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"41bb6e91c56f6680","trace_id":"cef42b38a1dab35a7f6bfadd3e85c711","duration":39.693,"timestamp":1646055475965207,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"243","etag":"W/\"f3-6sVO4eOixKeSqLsiOclAUoIfJnQ\"","date":"Mon, 28 Feb 2022 13:37:55 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"POST /api/orders","type":"request","result":"HTTP 2xx","id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","duration":1351.754,"timestamp":1646055475039041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"POST","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","accept":"application/json","content-type":"application/json","content-length":"129","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"},"body":"[REDACTED]"},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"13","etag":"W/\"d-y//SfV0QD0KV5wNxBPHfRWeEXeM\"","date":"Mon, 28 Feb 2022 13:37:56 GMT","connection":"close"}}},"span_count":{"started":16},"outcome":"success","sample_rate":1}}
{"span":{"name":"SET","type":"cache","id":"4354c92ee2bc970d","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"redis","action":null,"timestamp":1646055476318998,"duration":30.46,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":281,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["                if (err) return rollback(err)","                done()"],"context_line":"                redis.set('newest-order', id, function (err) {","post_context":["                  if (err) return error(err, res)","                  res.json({ id: id })"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"POST example.com","type":"external","id":"a223b73222b81dea","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"http","action":"POST","timestamp":1646055475737883,"duration":516.549,"context":{"http":{"method":"POST","status_code":404,"url":"http://example.com:80/opbeans"},"destination":{"service":{"name":"http://example.com","resource":"example.com:80","type":"external"},"address":"example.com","port":80}},"stacktrace":[{"filename":"node_modules/request/request.js","lineno":751,"function":"Request.start","library_frame":true,"abs_path":"/app/node_modules/request/request.js"},{"filename":"node_modules/request/request.js","lineno":1505,"function":"Request.end","library_frame":true,"abs_path":"/app/node_modules/request/request.js"},{"filename":"node_modules/request/request.js","lineno":564,"function":"end","library_frame":true,"abs_path":"/app/node_modules/request/request.js"},{"filename":"node_modules/request/request.js","lineno":578,"function":"Immediate.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/request/request.js"},{"filename":"internal/timers.js","lineno":464,"function":"processImmediate","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"COMMIT","type":"db","id":"00fd89aca58ed40a","transaction_id":"12716138751bef82","parent_id":"12716138751bef82","trace_id":"561c11d87c0fd892badd48aee6a035e3","subtype":"postgresql","action":"query","timestamp":1646055476269883,"duration":16.26,"context":{"db":{"statement":"COMMIT","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":278,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            accounting.placeOrder({ id: id }, function (err) {","              if (err) return rollback(err)"],"context_line":"              client.query('COMMIT', function (err) {","post_context":["                if (err) return rollback(err)","                done()"]},{"filename":"server/accounting.js","lineno":7,"function":"Request._callback","library_frame":false,"abs_path":"/app/server/accounting.js","pre_context":["exports.placeOrder = function (order, cb) {","  request.post('http://example.com/opbeans', order, function (err, res, body) {"],"context_line":"    cb(err, body)","post_context":["  })","}"]},{"filename":"node_modules/request/request.js","lineno":185,"function":"self.callback","library_frame":true,"abs_path":"/app/node_modules/request/request.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/request/request.js","lineno":1154,"function":"Request.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/request/request.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/request/request.js","lineno":1076,"function":"IncomingMessage.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/request/request.js"},{"filename":"events.js","lineno":519,"function":"onceWrapper","library_frame":true,"abs_path":"events.js"},{"filename":"events.js","lineno":412,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":1334,"function":"endReadableNT","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/process/task_queues.js","lineno":82,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-message","type":"request","result":"HTTP 5xx","id":"1cf30144bb09493f","trace_id":"fe0dcb863369063a7c601343655690cb","duration":100.379,"timestamp":1646055476467022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-message","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-message","full":"http://opbeans-node:3000/log-message"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:37:56 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"91b7355d8df28973","trace_id":"b296d55ffc012cc8a0e1ca6d95575e1b","duration":287.113,"timestamp":1646055487429394,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:38:07 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b3f7f1b7dc5e4042","trace_id":"9267bb759a7fa7843da4960fba465492","duration":114.559,"timestamp":1646055487882096,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:07 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"e85113d3f23ec9e7","transaction_id":"b3f7f1b7dc5e4042","parent_id":"b3f7f1b7dc5e4042","trace_id":"9267bb759a7fa7843da4960fba465492","subtype":"http","action":"GET","timestamp":1646055487901512,"duration":67.864,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"81cf7d9fdba765ad","transaction_id":"b33dc054176eb1b0","parent_id":"b33dc054176eb1b0","trace_id":"3d8f919c5127377cac6f02f97832901d","subtype":"redis","action":null,"timestamp":1646055488408099,"duration":6.914,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"b33dc054176eb1b0","trace_id":"3d8f919c5127377cac6f02f97832901d","duration":155.667,"timestamp":1646055488388046,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:38:08 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"b50a2ff0b0bc9209","transaction_id":"b33dc054176eb1b0","parent_id":"b33dc054176eb1b0","trace_id":"3d8f919c5127377cac6f02f97832901d","subtype":"postgresql","action":"query","timestamp":1646055488479760,"duration":38.131,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"b251cbfb8dcd823f","transaction_id":"d779027676104e24","parent_id":"d779027676104e24","trace_id":"69d677948764f5999dbe8a82c0ca25fb","subtype":"redis","action":null,"timestamp":1646055489209417,"duration":5.188,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"d779027676104e24","trace_id":"69d677948764f5999dbe8a82c0ca25fb","duration":137.648,"timestamp":1646055489126497,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:38:09 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"3b81e5f98524c89b","transaction_id":"d779027676104e24","parent_id":"d779027676104e24","trace_id":"69d677948764f5999dbe8a82c0ca25fb","subtype":"postgresql","action":"query","timestamp":1646055489222686,"duration":11.04,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"606fe26bb0928fd3","transaction_id":"96758a33b18e7df8","parent_id":"96758a33b18e7df8","trace_id":"83c206e4b8d001ef743dd8a27828487d","subtype":"redis","action":null,"timestamp":1646055489517111,"duration":8.168,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"42002ad8714d4704","transaction_id":"96758a33b18e7df8","parent_id":"96758a33b18e7df8","trace_id":"83c206e4b8d001ef743dd8a27828487d","subtype":"postgresql","action":"query","timestamp":1646055489536323,"duration":168.948,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ab6f233691baf0d9","trace_id":"83c206e4b8d001ef743dd8a27828487d","duration":387.84,"timestamp":1646055489407078,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"186769","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:09 GMT","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"96758a33b18e7df8","trace_id":"83c206e4b8d001ef743dd8a27828487d","parent_id":"ffeb3fd143dc5566","duration":324.813,"timestamp":1646055489479031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-83c206e4b8d001ef743dd8a27828487d-ffeb3fd143dc5566-01","traceparent":"00-83c206e4b8d001ef743dd8a27828487d-ffeb3fd143dc5566-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:38:09 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"4710c7b76c097bce","transaction_id":"ab6f233691baf0d9","parent_id":"ab6f233691baf0d9","trace_id":"83c206e4b8d001ef743dd8a27828487d","subtype":"http","action":"GET","timestamp":1646055489443860,"duration":345.886,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"4a6e3a188938bfce","trace_id":"8af954e71f043ae5b016448dd873505d","duration":187.257,"timestamp":1646055497665346,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/888","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/888","full":"http://opbeans-node:3000/api/customers/888"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"200","etag":"W/\"c8-+pUtv7cA6KJLNOQ3Asg1KUYsjFk\"","date":"Mon, 28 Feb 2022 13:38:17 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"069da15261c7b1e2","transaction_id":"4a6e3a188938bfce","parent_id":"4a6e3a188938bfce","trace_id":"8af954e71f043ae5b016448dd873505d","subtype":"postgresql","action":"query","timestamp":1646055497747369,"duration":27.903,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"53143ff614c1cc90","transaction_id":"0bdf59dc612775e2","parent_id":"0bdf59dc612775e2","trace_id":"d72ff2e25f27de70f3c6919a060eada4","subtype":"redis","action":null,"timestamp":1646055498329153,"duration":6.349,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"0bdf59dc612775e2","trace_id":"d72ff2e25f27de70f3c6919a060eada4","duration":72.648,"timestamp":1646055498307033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:38:18 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"8eea6e42e14213e6","transaction_id":"0bdf59dc612775e2","parent_id":"0bdf59dc612775e2","trace_id":"d72ff2e25f27de70f3c6919a060eada4","subtype":"postgresql","action":"query","timestamp":1646055498342926,"duration":16.397,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"26d1f31d0f2bbb72","trace_id":"4b4d1c7a6e32a18bc6584a6dc037097b","duration":22.119,"timestamp":1646055498618020,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:38:18 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"2ec669b268b2dcd7","trace_id":"1327a3b8ea92eb5b4d1fde7d499d76e8","parent_id":"5f02c8b6abf9f77c","duration":84.393,"timestamp":1646055505238539,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:38:25 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"af08df2cc3c5d541","trace_id":"0f3cbb1b5ea89ee74345ab79c08bd41d","duration":189.947,"timestamp":1646055506987036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-kkuzj37GZDzXDh0CWqh5Gan0VO4\"","date":"Mon, 28 Feb 2022 13:38:27 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d31dd80f2ae49e64","transaction_id":"af08df2cc3c5d541","parent_id":"af08df2cc3c5d541","trace_id":"0f3cbb1b5ea89ee74345ab79c08bd41d","subtype":"postgresql","action":"query","timestamp":1646055507108117,"duration":33.383,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"5d814adbdab24c20","trace_id":"da61307e05a5d4195773fc273985b73a","duration":318.233,"timestamp":1646055507445022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/433","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/433","full":"http://opbeans-node:3000/api/orders/433"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:27 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"bb4084f0ea612bb0","transaction_id":"5d814adbdab24c20","parent_id":"5d814adbdab24c20","trace_id":"da61307e05a5d4195773fc273985b73a","subtype":"http","action":"GET","timestamp":1646055507483954,"duration":259.025,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders/433"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"230c4bbec74383cf","transaction_id":"2bbf7e2c211bad3a","parent_id":"2bbf7e2c211bad3a","trace_id":"5fc3f9712dea633718c5a782046d3c67","subtype":"postgresql","action":"query","timestamp":1646055507931223,"duration":5.399,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"2bbf7e2c211bad3a","trace_id":"5fc3f9712dea633718c5a782046d3c67","duration":25.295,"timestamp":1646055507920046,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/436","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/436","full":"http://opbeans-node:3000/api/orders/436"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:38:27 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f8bd12422cb336e7","trace_id":"25259e2cc304aab0834bdfc246f70978","duration":301.765,"timestamp":1646055508412029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/1/customers","full":"http://opbeans-node:3000/api/products/1/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:28 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"2bd1532ff706ec09","transaction_id":"f8bd12422cb336e7","parent_id":"f8bd12422cb336e7","trace_id":"25259e2cc304aab0834bdfc246f70978","subtype":"http","action":"GET","timestamp":1646055508419026,"duration":289.28,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/1/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"e63b2e7d7eea1805","transaction_id":"5c21f7dcac79da3a","parent_id":"5c21f7dcac79da3a","trace_id":"3d0c7329024e960e52fbf45d444ebe58","subtype":"postgresql","action":"query","timestamp":1646055508917483,"duration":4.695,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"5c21f7dcac79da3a","trace_id":"3d0c7329024e960e52fbf45d444ebe58","duration":20.087,"timestamp":1646055508909021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4/customers","full":"http://opbeans-node:3000/api/products/4/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:38:28 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"4f4ce08d91657b1c","trace_id":"c9be06a56897430b28ca8c5ffd69abaf","duration":118.055,"timestamp":1646055509414024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:38:29 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"fee0e545d19afe2b","trace_id":"602578f5523d8e9ed9c3b54693251603","parent_id":"68a6adca0a8783fc","duration":38.235,"timestamp":1646055509926030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:38:29 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"0e42221a0c41aba0","trace_id":"ce2e76a862d49a4825264e6a786d5e93","parent_id":"bf9db0735731ac21","duration":26.267,"timestamp":1646055510429056,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:38:30 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b53f5727ecc57790","trace_id":"3507e26a72d394f84df5789f6a1af90d","duration":87.646,"timestamp":1646055510922036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:30 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"205","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"8a578bac165e1e8a","transaction_id":"b53f5727ecc57790","parent_id":"b53f5727ecc57790","trace_id":"3507e26a72d394f84df5789f6a1af90d","subtype":"http","action":"GET","timestamp":1646055510929052,"duration":62.627,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types/3"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"c749f1f4d0cfe9dc","trace_id":"6ea846b817de3c967e0b4312fb4ed0bb","duration":42.818,"timestamp":1646055511427024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:38:31 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"ca09ac639d109d69","trace_id":"0fd056cc0fb4931f05a686f644a0216e","duration":41.869,"timestamp":1646055511928045,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3/customers","full":"http://opbeans-node:3000/api/products/3/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2247","etag":"W/\"8c7-DzU3uvPT9Eu5vDsXxF0AVpUtaII\"","date":"Mon, 28 Feb 2022 13:38:31 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"d6e774e8fd7553c2","transaction_id":"ca09ac639d109d69","parent_id":"ca09ac639d109d69","trace_id":"0fd056cc0fb4931f05a686f644a0216e","subtype":"postgresql","action":"query","timestamp":1646055511941849,"duration":11.119,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"77f67350bbf82f28","trace_id":"eba3ee72ce4bbd5431439af9f4057934","duration":192.44,"timestamp":1646055512428036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"195dc75dd23c6abbf5c85d7fd3d619d1\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"0bc2afd8-0d25-4b65-b67e-e8b89345768f","x-runtime":"0.126061","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:32 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"7699a66c60611f6b","transaction_id":"77f67350bbf82f28","parent_id":"77f67350bbf82f28","trace_id":"eba3ee72ce4bbd5431439af9f4057934","subtype":"http","action":"GET","timestamp":1646055512446639,"duration":158.241,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e52c99e6842b3e65","trace_id":"ff835dd40e830476499e465971e9f3b4","duration":80.463,"timestamp":1646055512930038,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/182","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/182","full":"http://opbeans-node:3000/api/orders/182"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:32 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"ebb5d55e254f64ef","transaction_id":"e52c99e6842b3e65","parent_id":"e52c99e6842b3e65","trace_id":"ff835dd40e830476499e465971e9f3b4","subtype":"http","action":"GET","timestamp":1646055512935491,"duration":59.633,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders/182"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"be0bfe7313c9cc12","transaction_id":"a3ca90a0b4d39647","parent_id":"a3ca90a0b4d39647","trace_id":"99151c11d476848bf2c2eb00d99bc3f0","subtype":"postgresql","action":"query","timestamp":1646055513460630,"duration":14.291,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"34badbfb2be95a31","transaction_id":"a3ca90a0b4d39647","parent_id":"a3ca90a0b4d39647","trace_id":"99151c11d476848bf2c2eb00d99bc3f0","subtype":"postgresql","action":"query","timestamp":1646055513488608,"duration":9.643,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"a3ca90a0b4d39647","trace_id":"99151c11d476848bf2c2eb00d99bc3f0","duration":96.092,"timestamp":1646055513427046,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"217","etag":"W/\"d9-cebOOHODBQMZd1wt+ZZBaSPgQLQ\"","date":"Mon, 28 Feb 2022 13:38:33 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"d799f74ac9f6d0a1","transaction_id":"a08bbbbda847bd06","parent_id":"a08bbbbda847bd06","trace_id":"11374722481eb2c95335ebb8f75715b7","subtype":"redis","action":null,"timestamp":1646055513765635,"duration":9.788,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"5740210a0d64a55b","transaction_id":"a08bbbbda847bd06","parent_id":"a08bbbbda847bd06","trace_id":"11374722481eb2c95335ebb8f75715b7","subtype":"postgresql","action":"query","timestamp":1646055513781673,"duration":5.914,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"a08bbbbda847bd06","trace_id":"11374722481eb2c95335ebb8f75715b7","parent_id":"9a435da723b8620a","duration":47.882,"timestamp":1646055513754023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-11374722481eb2c95335ebb8f75715b7-9a435da723b8620a-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-11374722481eb2c95335ebb8f75715b7-9a435da723b8620a-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:38:33 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"97217e769a2c544a","transaction_id":"c3e787370c17b1b3","parent_id":"c3e787370c17b1b3","trace_id":"c36dfecb4d00fb88933796929d161484","subtype":"postgresql","action":"query","timestamp":1646055513930863,"duration":9.219,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"fc12b6d1c08ddb31","transaction_id":"c3e787370c17b1b3","parent_id":"c3e787370c17b1b3","trace_id":"c36dfecb4d00fb88933796929d161484","subtype":"postgresql","action":"query","timestamp":1646055513947024,"duration":16.142,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"773237b695f9cfa6","transaction_id":"c3e787370c17b1b3","parent_id":"c3e787370c17b1b3","trace_id":"c36dfecb4d00fb88933796929d161484","subtype":"postgresql","action":"query","timestamp":1646055513989837,"duration":7.288,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"c3e787370c17b1b3","trace_id":"c36dfecb4d00fb88933796929d161484","duration":85.949,"timestamp":1646055513922025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:38:33 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"5ec9e01d126fa8b6","transaction_id":"c3e787370c17b1b3","parent_id":"c3e787370c17b1b3","trace_id":"c36dfecb4d00fb88933796929d161484","subtype":"postgresql","action":"query","timestamp":1646055513985977,"duration":13.873,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"916e729b40abd741","transaction_id":"e3467589655375f6","parent_id":"e3467589655375f6","trace_id":"aa310126e42d803081f613b8fcb0224b","subtype":"postgresql","action":"query","timestamp":1646055514124257,"duration":8.639,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"e3467589655375f6","trace_id":"aa310126e42d803081f613b8fcb0224b","parent_id":"a2dbdd121a35a527","duration":35.135,"timestamp":1646055514116022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2","full":"http://opbeans-go:3000/api/products/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-aa310126e42d803081f613b8fcb0224b-a2dbdd121a35a527-01","traceparent":"00-aa310126e42d803081f613b8fcb0224b-a2dbdd121a35a527-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"242","etag":"W/\"f2-TrZrMcMTUtdW6GY8TQq8W/JG3iU\"","date":"Mon, 28 Feb 2022 13:38:34 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"f195aa051c98d3d0","transaction_id":"c0630d2a53f666dc","parent_id":"c0630d2a53f666dc","trace_id":"e4c6889bc49ef605f3c8850e87db3eda","subtype":"redis","action":null,"timestamp":1646055514254047,"duration":5.195,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"12a3268daefd133a","transaction_id":"c0630d2a53f666dc","parent_id":"c0630d2a53f666dc","trace_id":"e4c6889bc49ef605f3c8850e87db3eda","subtype":"postgresql","action":"query","timestamp":1646055514261031,"duration":3.077,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"c0630d2a53f666dc","trace_id":"e4c6889bc49ef605f3c8850e87db3eda","parent_id":"e7184ece380f364a","duration":22.839,"timestamp":1646055514247031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-e4c6889bc49ef605f3c8850e87db3eda-e7184ece380f364a-01","elastic-apm-traceparent":"00-e4c6889bc49ef605f3c8850e87db3eda-e7184ece380f364a-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:38:34 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b2980c4c4e2b4588","trace_id":"1fba071b3d4b296c8174678db086f09a","parent_id":"4eb548a2807d9ae0","duration":70.932,"timestamp":1646055514300030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/91","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/91","full":"http://opbeans-node:3000/api/customers/91"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-1fba071b3d4b296c8174678db086f09a-4eb548a2807d9ae0-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-1fba071b3d4b296c8174678db086f09a-4eb548a2807d9ae0-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:34 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"201","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"5bfd104a3ed9d298","transaction_id":"b2980c4c4e2b4588","parent_id":"b2980c4c4e2b4588","trace_id":"1fba071b3d4b296c8174678db086f09a","subtype":"http","action":"GET","timestamp":1646055514306760,"duration":56.042,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/91"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"447059e5a78e5fdd","trace_id":"6b9e3be12373293cb49ca533fcff0c50","parent_id":"ff2f9c257e6d93fe","duration":92.289,"timestamp":1646055514415018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-6b9e3be12373293cb49ca533fcff0c50-ff2f9c257e6d93fe-01","traceparent":"00-6b9e3be12373293cb49ca533fcff0c50-ff2f9c257e6d93fe-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:34 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"123","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"17983116d55180a3","transaction_id":"447059e5a78e5fdd","parent_id":"447059e5a78e5fdd","trace_id":"6b9e3be12373293cb49ca533fcff0c50","subtype":"http","action":"GET","timestamp":1646055514421467,"duration":79.995,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"6d5f05eef65a58b7","trace_id":"0540fa0d5054eef4ad860ab996455cc9","duration":57.494,"timestamp":1646055514463018,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:38:34 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"3a11794d4e6cfade","transaction_id":"6944b5a95f8a8c69","parent_id":"6944b5a95f8a8c69","trace_id":"2db07534d613cfb1ec4fb669056bc81d","subtype":"redis","action":null,"timestamp":1646055514576336,"duration":1.909,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"0b5a6b5f9f452e83","transaction_id":"6944b5a95f8a8c69","parent_id":"6944b5a95f8a8c69","trace_id":"2db07534d613cfb1ec4fb669056bc81d","subtype":"postgresql","action":"query","timestamp":1646055514580635,"duration":109.732,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"6944b5a95f8a8c69","trace_id":"2db07534d613cfb1ec4fb669056bc81d","parent_id":"51b4ee0b1132a7ef","duration":155.203,"timestamp":1646055514570020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-2db07534d613cfb1ec4fb669056bc81d-51b4ee0b1132a7ef-01","traceparent":"00-2db07534d613cfb1ec4fb669056bc81d-51b4ee0b1132a7ef-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:38:34 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"d036d8d1904bbe98","trace_id":"5391e50406c3bf68e0159633f91479c4","parent_id":"f9d2a8daba7b6c55","duration":214.414,"timestamp":1646055514531019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-5391e50406c3bf68e0159633f91479c4-f9d2a8daba7b6c55-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-5391e50406c3bf68e0159633f91479c4-f9d2a8daba7b6c55-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:34 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"203686","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"c24bd10fcfb2227f","transaction_id":"d036d8d1904bbe98","parent_id":"d036d8d1904bbe98","trace_id":"5391e50406c3bf68e0159633f91479c4","subtype":"http","action":"GET","timestamp":1646055514545281,"duration":195.53,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"1e10f7978c841b18","trace_id":"23d2cc67b7a546fbdae6cb1f588c6197","parent_id":"636ae26949f87e18","duration":50.662,"timestamp":1646055514861032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2","full":"http://opbeans-node:3000/api/products/2"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-23d2cc67b7a546fbdae6cb1f588c6197-636ae26949f87e18-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-23d2cc67b7a546fbdae6cb1f588c6197-636ae26949f87e18-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:34 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"259","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"7e7b4bdabd95d272","transaction_id":"1e10f7978c841b18","parent_id":"1e10f7978c841b18","trace_id":"23d2cc67b7a546fbdae6cb1f588c6197","subtype":"http","action":"GET","timestamp":1646055514868785,"duration":36.057,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0794a77c6c95a83a","trace_id":"23d2cc67b7a546fbdae6cb1f588c6197","parent_id":"976e3c79d57d013f","duration":115.52,"timestamp":1646055514818022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2","full":"http://opbeans-go:3000/api/products/2"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-23d2cc67b7a546fbdae6cb1f588c6197-976e3c79d57d013f-01","traceparent":"00-23d2cc67b7a546fbdae6cb1f588c6197-976e3c79d57d013f-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:34 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"1324a24fd1df2ea5","transaction_id":"0794a77c6c95a83a","parent_id":"0794a77c6c95a83a","trace_id":"23d2cc67b7a546fbdae6cb1f588c6197","subtype":"http","action":"GET","timestamp":1646055514824727,"duration":101.171,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"c337fd6209509cae","trace_id":"e731ce4bcdc4fc9dbf006b4f709b60d6","duration":32.088,"timestamp":1646055514954017,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:38:34 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"838e59f5e5c1c80a","transaction_id":"456219a6626d9296","parent_id":"456219a6626d9296","trace_id":"d8223fb2365f4ff8442d525295613dae","subtype":"postgresql","action":"query","timestamp":1646055515190617,"duration":20.41,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"456219a6626d9296","trace_id":"d8223fb2365f4ff8442d525295613dae","parent_id":"131867dc1851550a","duration":77.014,"timestamp":1646055515182022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-d8223fb2365f4ff8442d525295613dae-131867dc1851550a-01","traceparent":"00-d8223fb2365f4ff8442d525295613dae-131867dc1851550a-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:38:35 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"3e05513480fb39af","transaction_id":"456219a6626d9296","parent_id":"456219a6626d9296","trace_id":"d8223fb2365f4ff8442d525295613dae","subtype":"postgresql","action":"query","timestamp":1646055515221503,"duration":13.054,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"264ef8bc6959d1cb","transaction_id":"456219a6626d9296","parent_id":"456219a6626d9296","trace_id":"d8223fb2365f4ff8442d525295613dae","subtype":"postgresql","action":"query","timestamp":1646055515226488,"duration":14.045,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"7d1431fe96c9e617","transaction_id":"456219a6626d9296","parent_id":"456219a6626d9296","trace_id":"d8223fb2365f4ff8442d525295613dae","subtype":"postgresql","action":"query","timestamp":1646055515229755,"duration":16.676,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"886bf5841cbdd6f6","trace_id":"c2dbf4d59a2e2c4987e7ed6edaf7fa19","parent_id":"4a6e931210035e07","duration":33.088,"timestamp":1646055515311021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-node:3000/api/products/5/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-c2dbf4d59a2e2c4987e7ed6edaf7fa19-4a6e931210035e07-01","elastic-apm-traceparent":"00-c2dbf4d59a2e2c4987e7ed6edaf7fa19-4a6e931210035e07-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:38:35 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"ee20f090d07d2b8d","transaction_id":"886bf5841cbdd6f6","parent_id":"886bf5841cbdd6f6","trace_id":"c2dbf4d59a2e2c4987e7ed6edaf7fa19","subtype":"postgresql","action":"query","timestamp":1646055515322151,"duration":14.346,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"7a698d6c4ddd3fac","trace_id":"b0da07f92da13af21346ade0df4f0600","parent_id":"2005478a4a5f9e48","duration":32.422,"timestamp":1646055515430019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:38:35 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"9c6acd1d23baf321","transaction_id":"a1e67201db72d1a3","parent_id":"a1e67201db72d1a3","trace_id":"67af47904dced0bc5f302686fc1c99c1","subtype":"postgresql","action":"query","timestamp":1646055515449399,"duration":18.857,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"4dba6c0befd4c78e","transaction_id":"a1e67201db72d1a3","parent_id":"a1e67201db72d1a3","trace_id":"67af47904dced0bc5f302686fc1c99c1","subtype":"postgresql","action":"query","timestamp":1646055515470931,"duration":9.225,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"270b9d8d77838d62","transaction_id":"a1e67201db72d1a3","parent_id":"a1e67201db72d1a3","trace_id":"67af47904dced0bc5f302686fc1c99c1","subtype":"postgresql","action":"query","timestamp":1646055515474133,"duration":9.249,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"a1e67201db72d1a3","trace_id":"67af47904dced0bc5f302686fc1c99c1","duration":53.272,"timestamp":1646055515439020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:38:35 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"22ab01128289e0c8","transaction_id":"a1e67201db72d1a3","parent_id":"a1e67201db72d1a3","trace_id":"67af47904dced0bc5f302686fc1c99c1","subtype":"postgresql","action":"query","timestamp":1646055515476704,"duration":11.4,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b6c17799776e4673","trace_id":"6f92a1203acfe474da4c8f13579c8537","parent_id":"60b8e1cb82d217c9","duration":54.506,"timestamp":1646055515562022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-6f92a1203acfe474da4c8f13579c8537-60b8e1cb82d217c9-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-6f92a1203acfe474da4c8f13579c8537-60b8e1cb82d217c9-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:35 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"309","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"23af1314900f632b","transaction_id":"b6c17799776e4673","parent_id":"b6c17799776e4673","trace_id":"6f92a1203acfe474da4c8f13579c8537","subtype":"http","action":"GET","timestamp":1646055515566629,"duration":45.01,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"cc8d718aa09c6577","transaction_id":"4af847d12465d002","parent_id":"4af847d12465d002","trace_id":"7e82b45c4499baadb96330ab249aa12a","subtype":"postgresql","action":"query","timestamp":1646055515787894,"duration":10.1,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"7ad3836541555657","transaction_id":"4af847d12465d002","parent_id":"4af847d12465d002","trace_id":"7e82b45c4499baadb96330ab249aa12a","subtype":"postgresql","action":"query","timestamp":1646055515790206,"duration":10.717,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"3dd76ac925b4e988","transaction_id":"4af847d12465d002","parent_id":"4af847d12465d002","trace_id":"7e82b45c4499baadb96330ab249aa12a","subtype":"postgresql","action":"query","timestamp":1646055515792398,"duration":11.104,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"9a463b242f635349","trace_id":"09273ca90df6ecdfad8985cbe271c065","parent_id":"758180f915d391d9","duration":47.392,"timestamp":1646055515770019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/924","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/924","full":"http://opbeans-node:3000/api/customers/924"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-09273ca90df6ecdfad8985cbe271c065-758180f915d391d9-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-09273ca90df6ecdfad8985cbe271c065-758180f915d391d9-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:35 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"206","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"0616ef81ead0861d","transaction_id":"9a463b242f635349","parent_id":"9a463b242f635349","trace_id":"09273ca90df6ecdfad8985cbe271c065","subtype":"http","action":"GET","timestamp":1646055515776076,"duration":34.501,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/924"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"97355032aef0b228","transaction_id":"4af847d12465d002","parent_id":"4af847d12465d002","trace_id":"7e82b45c4499baadb96330ab249aa12a","subtype":"postgresql","action":"query","timestamp":1646055515849175,"duration":3.344,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e089a7e81d8207a3","transaction_id":"4af847d12465d002","parent_id":"4af847d12465d002","trace_id":"7e82b45c4499baadb96330ab249aa12a","subtype":"postgresql","action":"query","timestamp":1646055515866624,"duration":9.04,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"4af847d12465d002","trace_id":"7e82b45c4499baadb96330ab249aa12a","parent_id":"054dd549e69d50cb","duration":100.268,"timestamp":1646055515782118,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-7e82b45c4499baadb96330ab249aa12a-054dd549e69d50cb-01","elastic-apm-traceparent":"00-7e82b45c4499baadb96330ab249aa12a-054dd549e69d50cb-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:38:35 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"dd59ca964710ca17","transaction_id":"4af847d12465d002","parent_id":"4af847d12465d002","trace_id":"7e82b45c4499baadb96330ab249aa12a","subtype":"postgresql","action":"query","timestamp":1646055515859614,"duration":10.226,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"30f75a10757a65d8","transaction_id":"4af847d12465d002","parent_id":"4af847d12465d002","trace_id":"7e82b45c4499baadb96330ab249aa12a","subtype":"postgresql","action":"query","timestamp":1646055515862929,"duration":10.021,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"POST /api","type":"request","result":"HTTP 4xx","id":"a338082d878870ca","trace_id":"a0bd7356ed711045cc620133c662fc04","duration":213.298,"timestamp":1646055515946023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"POST","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","accept":"application/json","content-type":"application/json","content-length":"128","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"},"body":"[REDACTED]"},"response":{"status_code":400,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:38:36 GMT","content-length":"0","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"3e8dafa1ad4b7e79","trace_id":"4b27baef14872102fbae512be50fecbd","parent_id":"e32a4ef72d8c721c","duration":62.694,"timestamp":1646055516122027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/1","full":"http://opbeans-go:3000/api/products/1"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-4b27baef14872102fbae512be50fecbd-e32a4ef72d8c721c-01","traceparent":"00-4b27baef14872102fbae512be50fecbd-e32a4ef72d8c721c-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-6JlJegaJ+ir0C8I8EmmOjms1dnc\"","date":"Mon, 28 Feb 2022 13:38:36 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"fed7877f54f9d675","transaction_id":"3e8dafa1ad4b7e79","parent_id":"3e8dafa1ad4b7e79","trace_id":"4b27baef14872102fbae512be50fecbd","subtype":"postgresql","action":"query","timestamp":1646055516134708,"duration":41.374,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"POST opbeans-go:3000","type":"external","id":"051c27b8880be1e7","transaction_id":"a338082d878870ca","parent_id":"a338082d878870ca","trace_id":"a0bd7356ed711045cc620133c662fc04","subtype":"http","action":"POST","timestamp":1646055516112533,"duration":36.019,"context":{"http":{"method":"POST","status_code":400,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":75,"function":"serveStatic","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/body-parser/lib/read.js","lineno":130,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/body-parser/lib/read.js"},{"filename":"node_modules/raw-body/index.js","lineno":224,"function":"invokeCallback","library_frame":true,"abs_path":"/app/node_modules/raw-body/index.js"},{"filename":"node_modules/raw-body/index.js","lineno":213,"function":"done","library_frame":true,"abs_path":"/app/node_modules/raw-body/index.js"},{"filename":"node_modules/raw-body/index.js","lineno":273,"function":"onEnd","library_frame":true,"abs_path":"/app/node_modules/raw-body/index.js"},{"filename":"events.js","lineno":412,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":1334,"function":"endReadableNT","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/process/task_queues.js","lineno":82,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"1f35f861aa7e723f","trace_id":"383c6bb3207030155feef26be6f72966","parent_id":"fe6603f8746bf678","duration":108.094,"timestamp":1646055516193022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-383c6bb3207030155feef26be6f72966-fe6603f8746bf678-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-383c6bb3207030155feef26be6f72966-fe6603f8746bf678-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:36 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"24372d3503134865","transaction_id":"1f35f861aa7e723f","parent_id":"1f35f861aa7e723f","trace_id":"383c6bb3207030155feef26be6f72966","subtype":"http","action":"GET","timestamp":1646055516207514,"duration":88.37,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"29b933aa5da9a8a9","transaction_id":"81e25516257c2988","parent_id":"81e25516257c2988","trace_id":"34d2b7e604229f35f5b3623622df0f9f","subtype":"postgresql","action":"query","timestamp":1646055516465391,"duration":6.135,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"46b6f3908db3a95d","transaction_id":"81e25516257c2988","parent_id":"81e25516257c2988","trace_id":"34d2b7e604229f35f5b3623622df0f9f","subtype":"postgresql","action":"query","timestamp":1646055516474058,"duration":5.626,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"81e25516257c2988","trace_id":"34d2b7e604229f35f5b3623622df0f9f","parent_id":"9f051ecc53a79593","duration":34.58,"timestamp":1646055516453020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-34d2b7e604229f35f5b3623622df0f9f-9f051ecc53a79593-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-34d2b7e604229f35f5b3623622df0f9f-9f051ecc53a79593-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:38:36 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"cd0a5aae45444852","trace_id":"462e1b36465782d2dfbe3ad7edaecdea","parent_id":"9b38d910bc5094d9","duration":109.355,"timestamp":1646055516569021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/2","full":"http://opbeans-node:3000/api/types/2"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-462e1b36465782d2dfbe3ad7edaecdea-9b38d910bc5094d9-01","elastic-apm-traceparent":"00-462e1b36465782d2dfbe3ad7edaecdea-9b38d910bc5094d9-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"86dca956c4d935f7a1a446036838b927\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"40cc9cde-a88c-4c5b-82ba-6fea661017ad","x-runtime":"0.046523","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:36 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"794f80dca2898fd8","transaction_id":"cd0a5aae45444852","parent_id":"cd0a5aae45444852","trace_id":"462e1b36465782d2dfbe3ad7edaecdea","subtype":"http","action":"GET","timestamp":1646055516574986,"duration":87.736,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"34a6bac390af7731","trace_id":"462e1b36465782d2dfbe3ad7edaecdea","parent_id":"f2a95f8b914ee8eb","duration":227.694,"timestamp":1646055516501028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/2","full":"http://opbeans-go:3000/api/types/2"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-462e1b36465782d2dfbe3ad7edaecdea-f2a95f8b914ee8eb-01","traceparent":"00-462e1b36465782d2dfbe3ad7edaecdea-f2a95f8b914ee8eb-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:36 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"117","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"1ffffca7fb97c00b","transaction_id":"34a6bac390af7731","parent_id":"34a6bac390af7731","trace_id":"462e1b36465782d2dfbe3ad7edaecdea","subtype":"http","action":"GET","timestamp":1646055516510397,"duration":210.547,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0871d4816778c52e","trace_id":"462e1b36465782d2dfbe3ad7edaecdea","duration":382.67,"timestamp":1646055516435025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/2","full":"http://opbeans-node:3000/api/types/2"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"117","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:36 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"942caa7a5e73762c","transaction_id":"0871d4816778c52e","parent_id":"0871d4816778c52e","trace_id":"462e1b36465782d2dfbe3ad7edaecdea","subtype":"http","action":"GET","timestamp":1646055516446668,"duration":365.978,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"304f9b08395fe4f1","transaction_id":"589fa594d8c505b2","parent_id":"589fa594d8c505b2","trace_id":"450f5d8eb4b19d32a96c1fd783ffe2e1","subtype":"redis","action":null,"timestamp":1646055516943593,"duration":5.028,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"a618a09ab48034e7","transaction_id":"589fa594d8c505b2","parent_id":"589fa594d8c505b2","trace_id":"450f5d8eb4b19d32a96c1fd783ffe2e1","subtype":"postgresql","action":"query","timestamp":1646055516951096,"duration":9.368,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"589fa594d8c505b2","trace_id":"450f5d8eb4b19d32a96c1fd783ffe2e1","duration":42.11,"timestamp":1646055516930024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:38:36 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"8a2383b8e3dd29e8","trace_id":"da498baa4d1fbbed7184e0735aba3ee0","parent_id":"107ab5fe98eca4d3","duration":57.361,"timestamp":1646055517063025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-da498baa4d1fbbed7184e0735aba3ee0-107ab5fe98eca4d3-01","traceparent":"00-da498baa4d1fbbed7184e0735aba3ee0-107ab5fe98eca4d3-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:37 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"b07602bf7a15c786","transaction_id":"8a2383b8e3dd29e8","parent_id":"8a2383b8e3dd29e8","trace_id":"da498baa4d1fbbed7184e0735aba3ee0","subtype":"http","action":"GET","timestamp":1646055517072306,"duration":35.417,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"05afe766360848a8","trace_id":"da498baa4d1fbbed7184e0735aba3ee0","parent_id":"3ac3fd4e3c520102","duration":198.459,"timestamp":1646055516982020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-da498baa4d1fbbed7184e0735aba3ee0-3ac3fd4e3c520102-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-da498baa4d1fbbed7184e0735aba3ee0-3ac3fd4e3c520102-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:37 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"c31db41f8eb3b9a2","transaction_id":"05afe766360848a8","parent_id":"05afe766360848a8","trace_id":"da498baa4d1fbbed7184e0735aba3ee0","subtype":"http","action":"GET","timestamp":1646055516989831,"duration":184.302,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"d8c5e6befe71532d","transaction_id":"eaea03b0c7e9a67e","parent_id":"eaea03b0c7e9a67e","trace_id":"48a21e10485694ce796f6735cfadde7d","subtype":"postgresql","action":"query","timestamp":1646055517392395,"duration":10.713,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"eaea03b0c7e9a67e","trace_id":"48a21e10485694ce796f6735cfadde7d","parent_id":"fb5810665acabd2d","duration":57.66,"timestamp":1646055517371046,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-48a21e10485694ce796f6735cfadde7d-fb5810665acabd2d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-48a21e10485694ce796f6735cfadde7d-fb5810665acabd2d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"217","etag":"W/\"d9-cebOOHODBQMZd1wt+ZZBaSPgQLQ\"","date":"Mon, 28 Feb 2022 13:38:37 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"471b7c4d331c6215","transaction_id":"eaea03b0c7e9a67e","parent_id":"eaea03b0c7e9a67e","trace_id":"48a21e10485694ce796f6735cfadde7d","subtype":"postgresql","action":"query","timestamp":1646055517405868,"duration":15.214,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"20798625cffae718","transaction_id":"6b2338237c8fd0ea","parent_id":"6b2338237c8fd0ea","trace_id":"2be4f49d9236c66ff59c380b78a35081","subtype":"redis","action":null,"timestamp":1646055517468437,"duration":5.549,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"6b2338237c8fd0ea","trace_id":"2be4f49d9236c66ff59c380b78a35081","duration":142.311,"timestamp":1646055517450031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:38:37 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"87b89a429fad6deb","transaction_id":"6b2338237c8fd0ea","parent_id":"6b2338237c8fd0ea","trace_id":"2be4f49d9236c66ff59c380b78a35081","subtype":"postgresql","action":"query","timestamp":1646055517478419,"duration":62.553,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"70b5824658cc12bc","trace_id":"8d2b02aef7e84b3f006010b9aeed6139","parent_id":"91f91f36b5e2ac8b","duration":66.167,"timestamp":1646055517735038,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/399","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/399","full":"http://opbeans-go:3000/api/customers/399"},"headers":{"host":"opbeans-go:3000","user-agent":"python-requests/2.27.1","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-8d2b02aef7e84b3f006010b9aeed6139-91f91f36b5e2ac8b-01","traceparent":"00-8d2b02aef7e84b3f006010b9aeed6139-91f91f36b5e2ac8b-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.11"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:37 GMT","content-length":"189","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"2f36115394fdc492","transaction_id":"70b5824658cc12bc","parent_id":"70b5824658cc12bc","trace_id":"8d2b02aef7e84b3f006010b9aeed6139","subtype":"http","action":"GET","timestamp":1646055517744307,"duration":34.478,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers/399"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"db035a78b3af1652","transaction_id":"664f75ca5cf119a6","parent_id":"664f75ca5cf119a6","trace_id":"c7c6236051d70c59df647cfd46ff3187","subtype":"postgresql","action":"query","timestamp":1646055517958061,"duration":4.712,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"664f75ca5cf119a6","trace_id":"c7c6236051d70c59df647cfd46ff3187","duration":21.239,"timestamp":1646055517945028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/394","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/394","full":"http://opbeans-node:3000/api/orders/394"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:38:37 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"c52ac5f6424ee1c3","transaction_id":"25a1582af7690b04","parent_id":"25a1582af7690b04","trace_id":"2db6bab86691c73f39606e45e0ca3255","subtype":"redis","action":null,"timestamp":1646055518035562,"duration":1.803,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"25a1582af7690b04","trace_id":"2db6bab86691c73f39606e45e0ca3255","parent_id":"c10a496a06ec9e41","duration":35.872,"timestamp":1646055518028020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-2db6bab86691c73f39606e45e0ca3255-c10a496a06ec9e41-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-2db6bab86691c73f39606e45e0ca3255-c10a496a06ec9e41-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:38:38 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"ca8d3a78905dad66","transaction_id":"25a1582af7690b04","parent_id":"25a1582af7690b04","trace_id":"2db6bab86691c73f39606e45e0ca3255","subtype":"postgresql","action":"query","timestamp":1646055518040005,"duration":13.187,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"1a81d7cf30647370","transaction_id":"06fb242a365ae3d2","parent_id":"06fb242a365ae3d2","trace_id":"0818101a4da8560ba84d546768074734","subtype":"redis","action":null,"timestamp":1646055518206401,"duration":1.994,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"28d7c6db30a48686","transaction_id":"06fb242a365ae3d2","parent_id":"06fb242a365ae3d2","trace_id":"0818101a4da8560ba84d546768074734","subtype":"postgresql","action":"query","timestamp":1646055518210125,"duration":33.289,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"06fb242a365ae3d2","trace_id":"0818101a4da8560ba84d546768074734","parent_id":"e8b1d2f0e10fc736","duration":100.412,"timestamp":1646055518199019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-0818101a4da8560ba84d546768074734-e8b1d2f0e10fc736-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-0818101a4da8560ba84d546768074734-e8b1d2f0e10fc736-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:38:38 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"505fcb4dd9961f6b","trace_id":"d750fc378b96a77141c1e54079aa6800","parent_id":"88ec8a3ad786d14d","duration":39.312,"timestamp":1646055518430028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:38:38 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"1525b52f13683d27","transaction_id":"31d796d798b448ff","parent_id":"31d796d798b448ff","trace_id":"988f0c677464089af0205d3362c3ba3b","subtype":"postgresql","action":"query","timestamp":1646055518572394,"duration":5.162,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"31d796d798b448ff","trace_id":"988f0c677464089af0205d3362c3ba3b","parent_id":"ce4eb7db114dc2bc","duration":16.649,"timestamp":1646055518566016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/928","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/928","full":"http://opbeans-node:3000/api/customers/928"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-988f0c677464089af0205d3362c3ba3b-ce4eb7db114dc2bc-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-988f0c677464089af0205d3362c3ba3b-ce4eb7db114dc2bc-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-wlHWSpsgyrF+Kq8GyYatcMXvymo\"","date":"Mon, 28 Feb 2022 13:38:38 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"16bc267816a90dcb","transaction_id":"7adf74410d533962","parent_id":"7adf74410d533962","trace_id":"7645c73077c62235c327f2711c7e9ada","subtype":"postgresql","action":"query","timestamp":1646055518951315,"duration":23.349,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"7adf74410d533962","trace_id":"7645c73077c62235c327f2711c7e9ada","parent_id":"eeee60ffc26d13b4","duration":71.97,"timestamp":1646055518927101,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/1","full":"http://opbeans-go:3000/api/types/1"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-7645c73077c62235c327f2711c7e9ada-eeee60ffc26d13b4-01","traceparent":"00-7645c73077c62235c327f2711c7e9ada-eeee60ffc26d13b4-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"217","etag":"W/\"d9-cebOOHODBQMZd1wt+ZZBaSPgQLQ\"","date":"Mon, 28 Feb 2022 13:38:38 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"50fbd2c89d5e5591","transaction_id":"7adf74410d533962","parent_id":"7adf74410d533962","trace_id":"7645c73077c62235c327f2711c7e9ada","subtype":"postgresql","action":"query","timestamp":1646055518979918,"duration":13.991,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"af401ece2f1b46fa","trace_id":"2313e5012d721089c629ae3f256e24ed","duration":32.173,"timestamp":1646055518983023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/44","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/44","full":"http://opbeans-node:3000/api/orders/44"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:38:39 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"80bbb0784f7d0564","transaction_id":"af401ece2f1b46fa","parent_id":"af401ece2f1b46fa","trace_id":"2313e5012d721089c629ae3f256e24ed","subtype":"postgresql","action":"query","timestamp":1646055518990987,"duration":13.436,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"d46633cf57353549","transaction_id":"5ad05eca5b75ecbc","parent_id":"5ad05eca5b75ecbc","trace_id":"a5eb07db001744f566a6e6b0371a48df","subtype":"redis","action":null,"timestamp":1646055519479592,"duration":3.796,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"cff9b6bb7b67e0ec","transaction_id":"5ad05eca5b75ecbc","parent_id":"5ad05eca5b75ecbc","trace_id":"a5eb07db001744f566a6e6b0371a48df","subtype":"postgresql","action":"query","timestamp":1646055519485376,"duration":4.918,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"5ad05eca5b75ecbc","trace_id":"a5eb07db001744f566a6e6b0371a48df","duration":35.765,"timestamp":1646055519463024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:38:39 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"6cd2d36a2a118203","trace_id":"6b6ef5c9d542ea2ad14a65f2e9daa645","parent_id":"e3d1241e0c03bad1","duration":52.372,"timestamp":1646055519916027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/2","full":"http://opbeans-node:3000/api/types/2"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-6b6ef5c9d542ea2ad14a65f2e9daa645-e3d1241e0c03bad1-01","elastic-apm-traceparent":"00-6b6ef5c9d542ea2ad14a65f2e9daa645-e3d1241e0c03bad1-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"86dca956c4d935f7a1a446036838b927\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"948a8122-4465-4f7e-935a-8f11d407d2a6","x-runtime":"0.016152","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:39 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"fd1cff3683243a71","transaction_id":"6cd2d36a2a118203","parent_id":"6cd2d36a2a118203","trace_id":"6b6ef5c9d542ea2ad14a65f2e9daa645","subtype":"http","action":"GET","timestamp":1646055519923425,"duration":39.078,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"899a9df484c0336c","trace_id":"6b6ef5c9d542ea2ad14a65f2e9daa645","parent_id":"71b6ac1d3e70defa","duration":602.324,"timestamp":1646055519395063,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/2","full":"http://opbeans-node:3000/api/types/2"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-6b6ef5c9d542ea2ad14a65f2e9daa645-71b6ac1d3e70defa-01","elastic-apm-traceparent":"00-6b6ef5c9d542ea2ad14a65f2e9daa645-71b6ac1d3e70defa-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:39 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"117","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"e156aa4ab5ca033f","transaction_id":"899a9df484c0336c","parent_id":"899a9df484c0336c","trace_id":"6b6ef5c9d542ea2ad14a65f2e9daa645","subtype":"http","action":"GET","timestamp":1646055519417274,"duration":575.343,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"54c9ea910bedb0c2","trace_id":"acc9547e5579efa62a94a5c1f3faae97","duration":53.872,"timestamp":1646055520023016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/388","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/388","full":"http://opbeans-node:3000/api/orders/388"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:40 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"324","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"82a62e8875147d82","transaction_id":"54c9ea910bedb0c2","parent_id":"54c9ea910bedb0c2","trace_id":"acc9547e5579efa62a94a5c1f3faae97","subtype":"http","action":"GET","timestamp":1646055520038056,"duration":31.36,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders/388"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"8fd0e3375579369f","transaction_id":"22840a77a65a30d7","parent_id":"22840a77a65a30d7","trace_id":"42b878a6ba7c0094c1d801272730a591","subtype":"postgresql","action":"query","timestamp":1646055520481999,"duration":4.075,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"22840a77a65a30d7","trace_id":"42b878a6ba7c0094c1d801272730a591","duration":13.661,"timestamp":1646055520476033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/485","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/485","full":"http://opbeans-node:3000/api/orders/485"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:38:40 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"423783739b7097ea","transaction_id":"c6978094b771fe84","parent_id":"c6978094b771fe84","trace_id":"9d1aab10ea29787fe4dc4bc9a3caab2c","subtype":"redis","action":null,"timestamp":1646055521056578,"duration":8.985,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"c6978094b771fe84","trace_id":"9d1aab10ea29787fe4dc4bc9a3caab2c","duration":91.033,"timestamp":1646055521049032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:38:41 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"989a0a04bcdfb796","trace_id":"ab82c349e7407f8e06db0ac71bcda40a","parent_id":"42d34ad29c1ebe83","duration":180.141,"timestamp":1646055520975033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-ab82c349e7407f8e06db0ac71bcda40a-42d34ad29c1ebe83-01","elastic-apm-traceparent":"00-ab82c349e7407f8e06db0ac71bcda40a-42d34ad29c1ebe83-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"309","content-type":"application/json","date":"Mon, 28 Feb 2022 13:38:41 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"ca70425611e4fc99","transaction_id":"c6978094b771fe84","parent_id":"c6978094b771fe84","trace_id":"9d1aab10ea29787fe4dc4bc9a3caab2c","subtype":"postgresql","action":"query","timestamp":1646055521070057,"duration":48.337,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"acf00d62a0c6b681","transaction_id":"989a0a04bcdfb796","parent_id":"989a0a04bcdfb796","trace_id":"ab82c349e7407f8e06db0ac71bcda40a","subtype":"http","action":"GET","timestamp":1646055520984795,"duration":166.181,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"39a4a1404c00190f","trace_id":"697b18e626ec527e403e88c50ab564b2","parent_id":"3089e6ef36a5f79d","duration":110.89,"timestamp":1646055521074019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3/customers","full":"http://opbeans-node:3000/api/products/3/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-697b18e626ec527e403e88c50ab564b2-3089e6ef36a5f79d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-697b18e626ec527e403e88c50ab564b2-3089e6ef36a5f79d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2247","etag":"W/\"8c7-DzU3uvPT9Eu5vDsXxF0AVpUtaII\"","date":"Mon, 28 Feb 2022 13:38:41 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"7163b948a1f41986","transaction_id":"39a4a1404c00190f","parent_id":"39a4a1404c00190f","trace_id":"697b18e626ec527e403e88c50ab564b2","subtype":"postgresql","action":"query","timestamp":1646055521080224,"duration":98.003,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ae28172362ed9e88","trace_id":"50d29d94586a5e13054bfa0fdc8d1ce4","parent_id":"ce1eec01548223db","duration":72.179,"timestamp":1646055521226019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-50d29d94586a5e13054bfa0fdc8d1ce4-ce1eec01548223db-01","traceparent":"00-50d29d94586a5e13054bfa0fdc8d1ce4-ce1eec01548223db-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"6b84b8cfae4908f93f790804f2c9e7c9\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"b2bbe5c4-12be-4b0a-9ce5-872499b62127","x-runtime":"0.033396","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:41 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"80a98f2794c19def","transaction_id":"ae28172362ed9e88","parent_id":"ae28172362ed9e88","trace_id":"50d29d94586a5e13054bfa0fdc8d1ce4","subtype":"http","action":"GET","timestamp":1646055521234896,"duration":58.59,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"bd7e4772c6c35e54","trace_id":"99cb842970d61ba3e69e274e42fde9b2","duration":158.005,"timestamp":1646055521473030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/137","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/137","full":"http://opbeans-node:3000/api/orders/137"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"311","content-type":"application/json","date":"Mon, 28 Feb 2022 13:38:41 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"3684858e48f04fc8","transaction_id":"bd7e4772c6c35e54","parent_id":"bd7e4772c6c35e54","trace_id":"99cb842970d61ba3e69e274e42fde9b2","subtype":"http","action":"GET","timestamp":1646055521483453,"duration":97.497,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders/137"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"498785ad75c85b57","trace_id":"2a87ad925f6dbea029fc5414926b3e54","parent_id":"6c12741376f3e5a7","duration":121.48,"timestamp":1646055521548025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-2a87ad925f6dbea029fc5414926b3e54-6c12741376f3e5a7-01","elastic-apm-traceparent":"00-2a87ad925f6dbea029fc5414926b3e54-6c12741376f3e5a7-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:41 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"248","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"30746e2d95247604","transaction_id":"498785ad75c85b57","parent_id":"498785ad75c85b57","trace_id":"2a87ad925f6dbea029fc5414926b3e54","subtype":"http","action":"GET","timestamp":1646055521552262,"duration":112.172,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/3"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"ce01821cb6cd7442","trace_id":"bfea550d9dde623a97f29d8394d52010","parent_id":"02a69a0a167f9595","duration":370.184,"timestamp":1646055521386018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/7616","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/7616","full":"http://opbeans-node:3000/api/customers/7616"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-bfea550d9dde623a97f29d8394d52010-02a69a0a167f9595-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-bfea550d9dde623a97f29d8394d52010-02a69a0a167f9595-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:41 GMT","connection":"close","content-type":"text/html","x-frame-options":"DENY","content-length":"179","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"3fbed0cce2bc461b","transaction_id":"ce01821cb6cd7442","parent_id":"ce01821cb6cd7442","trace_id":"bfea550d9dde623a97f29d8394d52010","subtype":"http","action":"GET","timestamp":1646055521391159,"duration":356.35,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-python:3000/api/customers/7616"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"ca48564c08b35aeb","transaction_id":"b7a395bcd17ce590","parent_id":"b7a395bcd17ce590","trace_id":"5b259030edd861168e1b197707dca34a","subtype":"redis","action":null,"timestamp":1646055521810738,"duration":2.394,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"b7a395bcd17ce590","trace_id":"5b259030edd861168e1b197707dca34a","parent_id":"e046a4e23bd0295c","duration":56.81,"timestamp":1646055521799018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-5b259030edd861168e1b197707dca34a-e046a4e23bd0295c-01","traceparent":"00-5b259030edd861168e1b197707dca34a-e046a4e23bd0295c-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:38:41 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"3e5d6afa80b55e50","transaction_id":"b7a395bcd17ce590","parent_id":"b7a395bcd17ce590","trace_id":"5b259030edd861168e1b197707dca34a","subtype":"postgresql","action":"query","timestamp":1646055521816975,"duration":18.107,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4fd78c45c0e3d008","trace_id":"5b259030edd861168e1b197707dca34a","parent_id":"9914b914c48ac093","duration":105.457,"timestamp":1646055521787018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-5b259030edd861168e1b197707dca34a-9914b914c48ac093-01","elastic-apm-traceparent":"00-5b259030edd861168e1b197707dca34a-9914b914c48ac093-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"1023","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:41 GMT","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"227e2ca5ea976e2e","transaction_id":"4fd78c45c0e3d008","parent_id":"4fd78c45c0e3d008","trace_id":"5b259030edd861168e1b197707dca34a","subtype":"http","action":"GET","timestamp":1646055521792113,"duration":82.37,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"7cfbbff85c5d19f4","trace_id":"f4117f0cf04b190bcded50b16219c451","parent_id":"2b9188760ed7e831","duration":26.145,"timestamp":1646055521964026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:38:41 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"36747e01ffc24643","transaction_id":"5124c0e412c078fe","parent_id":"5124c0e412c078fe","trace_id":"66cc7e26048214244369584c8658020a","subtype":"postgresql","action":"query","timestamp":1646055521984524,"duration":9.828,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"5124c0e412c078fe","trace_id":"66cc7e26048214244369584c8658020a","parent_id":"2a9d48386fdc4582","duration":27.017,"timestamp":1646055521978024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/597","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/597","full":"http://opbeans-node:3000/api/customers/597"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-66cc7e26048214244369584c8658020a-2a9d48386fdc4582-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-66cc7e26048214244369584c8658020a-2a9d48386fdc4582-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"191","etag":"W/\"bf-chrRuxqHBZvPPD3xAxgWWDCvs/w\"","date":"Mon, 28 Feb 2022 13:38:41 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"65eff0b327c742ca","trace_id":"c642b12a5436af1dfeb8625121b28fd0","parent_id":"daf1b2c9d0836b48","duration":96.579,"timestamp":1646055521942025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-c642b12a5436af1dfeb8625121b28fd0-daf1b2c9d0836b48-01","elastic-apm-traceparent":"00-c642b12a5436af1dfeb8625121b28fd0-daf1b2c9d0836b48-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"309","content-type":"application/json","date":"Mon, 28 Feb 2022 13:38:42 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"a7c76bf7398d3c11","transaction_id":"65eff0b327c742ca","parent_id":"65eff0b327c742ca","trace_id":"c642b12a5436af1dfeb8625121b28fd0","subtype":"http","action":"GET","timestamp":1646055521948333,"duration":85.689,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"337adb48b16356f0","transaction_id":"0d5d09e8693317d8","parent_id":"0d5d09e8693317d8","trace_id":"cf55c2c7c0efb9cfd2449cfad82ad25d","subtype":"postgresql","action":"query","timestamp":1646055522504737,"duration":3.135,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"0d5d09e8693317d8","trace_id":"cf55c2c7c0efb9cfd2449cfad82ad25d","duration":12.289,"timestamp":1646055522500026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/664","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/664","full":"http://opbeans-node:3000/api/customers/664"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"183","etag":"W/\"b7-GegolguyywpEGGN1KR7m3bCOTYo\"","date":"Mon, 28 Feb 2022 13:38:42 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"842e64013605d147","trace_id":"723c6bd8bf2cdc91d20dc3713952bec2","parent_id":"bf164b6d2606d09b","duration":48.962,"timestamp":1646055522645021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-node:3000/api/products/2/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-723c6bd8bf2cdc91d20dc3713952bec2-bf164b6d2606d09b-01","elastic-apm-traceparent":"00-723c6bd8bf2cdc91d20dc3713952bec2-bf164b6d2606d09b-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:42 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"110745","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"d9e4c36edb0079dd","transaction_id":"842e64013605d147","parent_id":"842e64013605d147","trace_id":"723c6bd8bf2cdc91d20dc3713952bec2","subtype":"http","action":"GET","timestamp":1646055522654938,"duration":34.939,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/2/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"6f2d8e27471d274f","transaction_id":"488ca53cf8b9f143","parent_id":"488ca53cf8b9f143","trace_id":"5677803c1cedf784e50c0197a37dda1c","subtype":"postgresql","action":"query","timestamp":1646055522974222,"duration":6.791,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"488ca53cf8b9f143","trace_id":"5677803c1cedf784e50c0197a37dda1c","duration":22.294,"timestamp":1646055522969022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/56","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/56","full":"http://opbeans-node:3000/api/orders/56"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:38:42 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0bf519991a0ea199","trace_id":"8cd0bae491e8391eb872d268656835ba","parent_id":"117e64cbdad45cf0","duration":90.603,"timestamp":1646055522920026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-8cd0bae491e8391eb872d268656835ba-117e64cbdad45cf0-01","traceparent":"00-8cd0bae491e8391eb872d268656835ba-117e64cbdad45cf0-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:43 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"4d675858c71a7195","transaction_id":"0bf519991a0ea199","parent_id":"0bf519991a0ea199","trace_id":"8cd0bae491e8391eb872d268656835ba","subtype":"http","action":"GET","timestamp":1646055522926762,"duration":77.878,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"63290646cef3cb4b","transaction_id":"5931f92cf70ce4c2","parent_id":"5931f92cf70ce4c2","trace_id":"a80ba360042a2db916189deb405f87e0","subtype":"postgresql","action":"query","timestamp":1646055523087078,"duration":7.036,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"5931f92cf70ce4c2","trace_id":"a80ba360042a2db916189deb405f87e0","parent_id":"b1b642e005bf2897","duration":30.678,"timestamp":1646055523073026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3/customers","full":"http://opbeans-node:3000/api/products/3/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-a80ba360042a2db916189deb405f87e0-b1b642e005bf2897-01","elastic-apm-traceparent":"00-a80ba360042a2db916189deb405f87e0-b1b642e005bf2897-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2247","etag":"W/\"8c7-DzU3uvPT9Eu5vDsXxF0AVpUtaII\"","date":"Mon, 28 Feb 2022 13:38:43 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"ea553a0762b5a119","transaction_id":"5594b6f67b8aca4b","parent_id":"5594b6f67b8aca4b","trace_id":"490d3e795f0b2f33fbfdced3d4e24f9b","subtype":"postgresql","action":"query","timestamp":1646055523202928,"duration":9.195,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"5594b6f67b8aca4b","trace_id":"490d3e795f0b2f33fbfdced3d4e24f9b","parent_id":"ffd5dc26b8916806","duration":27.818,"timestamp":1646055523194017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-go:3000/api/products/5/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"python-requests/2.27.1","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-490d3e795f0b2f33fbfdced3d4e24f9b-ffd5dc26b8916806-01","traceparent":"00-490d3e795f0b2f33fbfdced3d4e24f9b-ffd5dc26b8916806-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.11"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:38:43 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"35baaa194c1a0621","trace_id":"8d46ae5185790ae00b53659be51bd28d","duration":39.896,"timestamp":1646055523487031,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:38:43 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"afa36c6d83028dc0","transaction_id":"a369ea44d91ded0d","parent_id":"a369ea44d91ded0d","trace_id":"d4d67cdc1561ea2a3ff41d08876ec07f","subtype":"redis","action":null,"timestamp":1646055523652759,"duration":2.061,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"ea1d5f775a61fe1a","transaction_id":"a369ea44d91ded0d","parent_id":"a369ea44d91ded0d","trace_id":"d4d67cdc1561ea2a3ff41d08876ec07f","subtype":"postgresql","action":"query","timestamp":1646055523656426,"duration":5.443,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"a369ea44d91ded0d","trace_id":"d4d67cdc1561ea2a3ff41d08876ec07f","parent_id":"be33a60e22847497","duration":20.014,"timestamp":1646055523648021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders","full":"http://opbeans-go:3000/api/orders"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-d4d67cdc1561ea2a3ff41d08876ec07f-be33a60e22847497-01","traceparent":"00-d4d67cdc1561ea2a3ff41d08876ec07f-be33a60e22847497-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:38:43 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"5d54176c00d55d10","transaction_id":"4ea49e1ae0ab11b4","parent_id":"4ea49e1ae0ab11b4","trace_id":"e27f2915943739929738a223f96d83e6","subtype":"redis","action":null,"timestamp":1646055523879694,"duration":1.746,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"d186fb17e716815c","transaction_id":"4ea49e1ae0ab11b4","parent_id":"4ea49e1ae0ab11b4","trace_id":"e27f2915943739929738a223f96d83e6","subtype":"postgresql","action":"query","timestamp":1646055523882851,"duration":2.12,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"4ea49e1ae0ab11b4","trace_id":"e27f2915943739929738a223f96d83e6","parent_id":"59cfe1f24459d7bb","duration":13.306,"timestamp":1646055523875017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-e27f2915943739929738a223f96d83e6-59cfe1f24459d7bb-01","elastic-apm-traceparent":"00-e27f2915943739929738a223f96d83e6-59cfe1f24459d7bb-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:38:43 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b15f22041c8a859e","trace_id":"db4c4df8e87ecbd75073399789db915d","parent_id":"82c7c1c55849c735","duration":97.007,"timestamp":1646055523921021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-db4c4df8e87ecbd75073399789db915d-82c7c1c55849c735-01","traceparent":"00-db4c4df8e87ecbd75073399789db915d-82c7c1c55849c735-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:43 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"309","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"798204d6f922c608","transaction_id":"b15f22041c8a859e","parent_id":"b15f22041c8a859e","trace_id":"db4c4df8e87ecbd75073399789db915d","subtype":"http","action":"GET","timestamp":1646055523925966,"duration":81.673,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e5a547c30a4364ab","trace_id":"3ace2b06add51742bd07dcddccdb633c","parent_id":"f1e125b16596c691","duration":49.983,"timestamp":1646055524290036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-3ace2b06add51742bd07dcddccdb633c-f1e125b16596c691-01","traceparent":"00-3ace2b06add51742bd07dcddccdb633c-f1e125b16596c691-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37c402fff98fe986ebf5e3ba08420463\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"6609a09f-067d-4da0-8bc9-3f84fb718d53","x-runtime":"0.019111","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:38:44 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"37b1ca1f4852819c","transaction_id":"e5a547c30a4364ab","parent_id":"e5a547c30a4364ab","trace_id":"3ace2b06add51742bd07dcddccdb633c","subtype":"http","action":"GET","timestamp":1646055524295625,"duration":38.546,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"eb1f7aa4a12f55f5","trace_id":"ec2b7ea55cad3dcea73080fb16f44fd8","duration":75.806,"timestamp":1646055524464020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:44 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"260","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"d6dfae9fb65049fc","transaction_id":"eb1f7aa4a12f55f5","parent_id":"eb1f7aa4a12f55f5","trace_id":"ec2b7ea55cad3dcea73080fb16f44fd8","subtype":"http","action":"GET","timestamp":1646055524468203,"duration":67.075,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/4"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"5bb35fc2d6e806be","transaction_id":"e42360f01303e202","parent_id":"e42360f01303e202","trace_id":"38b002587821f14aa1c8a5e843f5994b","subtype":"postgresql","action":"query","timestamp":1646055524575928,"duration":3.154,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"e42360f01303e202","trace_id":"38b002587821f14aa1c8a5e843f5994b","parent_id":"e1ec70791d6dd262","duration":15.456,"timestamp":1646055524567024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-38b002587821f14aa1c8a5e843f5994b-e1ec70791d6dd262-01","elastic-apm-traceparent":"00-38b002587821f14aa1c8a5e843f5994b-e1ec70791d6dd262-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"243","etag":"W/\"f3-6sVO4eOixKeSqLsiOclAUoIfJnQ\"","date":"Mon, 28 Feb 2022 13:38:44 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4116a55b0e255a0e","trace_id":"1619eff8f8572d1aed899c99f0609f68","parent_id":"5f3c83251f32376d","duration":52.239,"timestamp":1646055524637017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-1619eff8f8572d1aed899c99f0609f68-5f3c83251f32376d-01","elastic-apm-traceparent":"00-1619eff8f8572d1aed899c99f0609f68-5f3c83251f32376d-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","cache-control":"max-age=0, private, must-revalidate","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:44 GMT","etag":"W/\"4059e1403ac9698d997e25789af2cf26\"","referrer-policy":"strict-origin-when-cross-origin","x-content-type-options":"nosniff","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-request-id":"6af6376b-8d92-4ca9-b522-322f0ef9a838","x-runtime":"0.020259","x-xss-protection":"1; mode=block","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"e7ee71a969383b39","transaction_id":"4116a55b0e255a0e","parent_id":"4116a55b0e255a0e","trace_id":"1619eff8f8572d1aed899c99f0609f68","subtype":"http","action":"GET","timestamp":1646055524641620,"duration":37.48,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/4"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0d75d82ae0716a29","transaction_id":"49f454ff094dc83f","parent_id":"49f454ff094dc83f","trace_id":"5ddb088e8fb33b4b1da0db5e2ab62c91","subtype":"postgresql","action":"query","timestamp":1646055524967515,"duration":4.774,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"49f454ff094dc83f","trace_id":"5ddb088e8fb33b4b1da0db5e2ab62c91","duration":15.479,"timestamp":1646055524963022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"243","etag":"W/\"f3-6sVO4eOixKeSqLsiOclAUoIfJnQ\"","date":"Mon, 28 Feb 2022 13:38:44 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"OPTIONS unknown route","type":"request","result":"HTTP 2xx","id":"a3d57238ede27f7a","trace_id":"03d11bf4290f79446fa613b1f3391697","duration":14.744,"timestamp":1646055525480064,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"OPTIONS","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","content-length":"0","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","allow":"GET,HEAD","content-type":"text/html; charset=utf-8","content-length":"8","etag":"W/\"8-ZRAf8oNBS3Bjb/SU2GYZCmbtmXg\"","date":"Mon, 28 Feb 2022 13:38:45 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"4b04ea01975cee7f","trace_id":"6bb51101e38d951fa154ddc30085f040","parent_id":"3b22db9be7167212","duration":10.314,"timestamp":1646055525535018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:38:45 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"bd84d2d4589cbc31","transaction_id":"1212686f58b12306","parent_id":"1212686f58b12306","trace_id":"bb7c96984e5283cde6449059daf2a470","subtype":"postgresql","action":"query","timestamp":1646055526004044,"duration":20.659,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"55517e54d278ef62","transaction_id":"1212686f58b12306","parent_id":"1212686f58b12306","trace_id":"bb7c96984e5283cde6449059daf2a470","subtype":"postgresql","action":"query","timestamp":1646055526010531,"duration":24.677,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"2924bb499dd67621","transaction_id":"1212686f58b12306","parent_id":"1212686f58b12306","trace_id":"bb7c96984e5283cde6449059daf2a470","subtype":"postgresql","action":"query","timestamp":1646055526052000,"duration":11.443,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"f8898efca21ecce2","transaction_id":"1212686f58b12306","parent_id":"1212686f58b12306","trace_id":"bb7c96984e5283cde6449059daf2a470","subtype":"postgresql","action":"query","timestamp":1646055526057615,"duration":19.996,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1a690f0fc4cd5813","transaction_id":"1212686f58b12306","parent_id":"1212686f58b12306","trace_id":"bb7c96984e5283cde6449059daf2a470","subtype":"postgresql","action":"query","timestamp":1646055526086004,"duration":8.914,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"10ab68db898954fa","transaction_id":"1212686f58b12306","parent_id":"1212686f58b12306","trace_id":"bb7c96984e5283cde6449059daf2a470","subtype":"postgresql","action":"query","timestamp":1646055526089396,"duration":7.194,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a8039d96f176a5d8","transaction_id":"1212686f58b12306","parent_id":"1212686f58b12306","trace_id":"bb7c96984e5283cde6449059daf2a470","subtype":"postgresql","action":"query","timestamp":1646055526091257,"duration":6.851,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"1212686f58b12306","trace_id":"bb7c96984e5283cde6449059daf2a470","parent_id":"ac669498c0734764","duration":114.291,"timestamp":1646055525990018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-bb7c96984e5283cde6449059daf2a470-ac669498c0734764-01","traceparent":"00-bb7c96984e5283cde6449059daf2a470-ac669498c0734764-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:38:46 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"06ed9d49ab01419c","trace_id":"bb7c96984e5283cde6449059daf2a470","duration":153.95,"timestamp":1646055525965030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"108","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:46 GMT","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"43accbcc5153a456","transaction_id":"06ed9d49ab01419c","parent_id":"06ed9d49ab01419c","trace_id":"bb7c96984e5283cde6449059daf2a470","subtype":"http","action":"GET","timestamp":1646055525977761,"duration":132.493,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"3ed094cab6b2460d","transaction_id":"f48a84f46bd35ab1","parent_id":"f48a84f46bd35ab1","trace_id":"527256c8a3d41edead201537f012b20b","subtype":"redis","action":null,"timestamp":1646055526472851,"duration":5.621,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"38651a3d916dcb94","transaction_id":"f48a84f46bd35ab1","parent_id":"f48a84f46bd35ab1","trace_id":"527256c8a3d41edead201537f012b20b","subtype":"postgresql","action":"query","timestamp":1646055526479988,"duration":7.644,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"f48a84f46bd35ab1","trace_id":"527256c8a3d41edead201537f012b20b","duration":31.128,"timestamp":1646055526465038,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:38:46 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"9510095cf002b870","trace_id":"fd99b7c60e9106dfaea5b2ad3cbdb947","parent_id":"0d2d152a10b3137f","duration":4856.053,"timestamp":1646055522133030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-fd99b7c60e9106dfaea5b2ad3cbdb947-0d2d152a10b3137f-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-fd99b7c60e9106dfaea5b2ad3cbdb947-0d2d152a10b3137f-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:46 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"108580","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"9833fe2aecab2830","transaction_id":"9510095cf002b870","parent_id":"9510095cf002b870","trace_id":"fd99b7c60e9106dfaea5b2ad3cbdb947","subtype":"http","action":"GET","timestamp":1646055522139948,"duration":4841.67,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"17f3f1009317060e","trace_id":"5da63d92ebf789d551dcff4a8eae6acb","parent_id":"e1a2bd0907ded26d","duration":1898.611,"timestamp":1646055525117028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-5da63d92ebf789d551dcff4a8eae6acb-e1a2bd0907ded26d-01","elastic-apm-traceparent":"00-5da63d92ebf789d551dcff4a8eae6acb-e1a2bd0907ded26d-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:46 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"233","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"0b3b88b7149ec9bd","transaction_id":"17f3f1009317060e","parent_id":"17f3f1009317060e","trace_id":"5da63d92ebf789d551dcff4a8eae6acb","subtype":"http","action":"GET","timestamp":1646055525121739,"duration":1888.918,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types/1"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"71ebefcef4d85aa1","transaction_id":"4fdab4329398ca65","parent_id":"4fdab4329398ca65","trace_id":"1886cf32fe3220d9edac19753cbb5e32","subtype":"postgresql","action":"query","timestamp":1646055527041867,"duration":4.623,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"4fdab4329398ca65","trace_id":"1886cf32fe3220d9edac19753cbb5e32","duration":39.239,"timestamp":1646055527035017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:38:47 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"421dc942a10feb85","transaction_id":"4fdab4329398ca65","parent_id":"4fdab4329398ca65","trace_id":"1886cf32fe3220d9edac19753cbb5e32","subtype":"postgresql","action":"query","timestamp":1646055527048134,"duration":13.339,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"dadae94233b17b1b","transaction_id":"4fdab4329398ca65","parent_id":"4fdab4329398ca65","trace_id":"1886cf32fe3220d9edac19753cbb5e32","subtype":"postgresql","action":"query","timestamp":1646055527051886,"duration":15.112,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c4eb821079e713e3","transaction_id":"4fdab4329398ca65","parent_id":"4fdab4329398ca65","trace_id":"1886cf32fe3220d9edac19753cbb5e32","subtype":"postgresql","action":"query","timestamp":1646055527053973,"duration":15.554,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"52f7b30e0afc2234","transaction_id":"698328f38eba975e","parent_id":"698328f38eba975e","trace_id":"cafc35f232363ed786d4c92a8baf1395","subtype":"http","action":"GET","timestamp":1646055527091049,"duration":8.198,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/3"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"698328f38eba975e","trace_id":"cafc35f232363ed786d4c92a8baf1395","parent_id":"f984cda0b776d0d2","duration":15.773,"timestamp":1646055527086014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/3","full":"http://opbeans-go:3000/api/types/3"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-cafc35f232363ed786d4c92a8baf1395-f984cda0b776d0d2-01","traceparent":"00-cafc35f232363ed786d4c92a8baf1395-f984cda0b776d0d2-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:47 GMT","content-length":"35","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"552b0bad44a4a25c","trace_id":"9ab7ef5d0e6e4dcef0c39ccd0dc75867","parent_id":"9b43c2c1db6e5a8f","duration":58.563,"timestamp":1646055527297051,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/964","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/964","full":"http://opbeans-node:3000/api/orders/964"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-9ab7ef5d0e6e4dcef0c39ccd0dc75867-9b43c2c1db6e5a8f-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-9ab7ef5d0e6e4dcef0c39ccd0dc75867-9b43c2c1db6e5a8f-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:38:47 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"1074e3acda9da496","transaction_id":"552b0bad44a4a25c","parent_id":"552b0bad44a4a25c","trace_id":"9ab7ef5d0e6e4dcef0c39ccd0dc75867","subtype":"postgresql","action":"query","timestamp":1646055527319825,"duration":10.801,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e0cbb455ec39552b","trace_id":"72091ff7ee2276a5164d7de21e48487d","parent_id":"c71170559cd06bdc","duration":161.97,"timestamp":1646055527510016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-72091ff7ee2276a5164d7de21e48487d-c71170559cd06bdc-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-72091ff7ee2276a5164d7de21e48487d-c71170559cd06bdc-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"128","content-type":"application/json","date":"Mon, 28 Feb 2022 13:38:47 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"3852075e128c60b0","transaction_id":"e0cbb455ec39552b","parent_id":"e0cbb455ec39552b","trace_id":"72091ff7ee2276a5164d7de21e48487d","subtype":"http","action":"GET","timestamp":1646055527513078,"duration":138.777,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"065075275198359f","trace_id":"72091ff7ee2276a5164d7de21e48487d","duration":243.752,"timestamp":1646055527469022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","date":"Mon, 28 Feb 2022 13:38:47 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"7df2fafb4101bbff","transaction_id":"065075275198359f","parent_id":"065075275198359f","trace_id":"72091ff7ee2276a5164d7de21e48487d","subtype":"http","action":"GET","timestamp":1646055527474953,"duration":230.456,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"92bfe4de4d0d0502","transaction_id":"83072921ad84f76f","parent_id":"83072921ad84f76f","trace_id":"c6716c67dfd1095cf36df41ddff28ca3","subtype":"postgresql","action":"query","timestamp":1646055527938879,"duration":7.474,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"83072921ad84f76f","trace_id":"c6716c67dfd1095cf36df41ddff28ca3","parent_id":"75a3b87ff54ae498","duration":34.875,"timestamp":1646055527933050,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/6/customers","full":"http://opbeans-node:3000/api/products/6/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-c6716c67dfd1095cf36df41ddff28ca3-75a3b87ff54ae498-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-c6716c67dfd1095cf36df41ddff28ca3-75a3b87ff54ae498-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:38:47 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"4dca336b19a27118","transaction_id":"9a4739b117027a67","parent_id":"9a4739b117027a67","trace_id":"2ca014ac8027c4cdb5d20839ba0d18aa","subtype":"postgresql","action":"query","timestamp":1646055527982921,"duration":10.268,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"af6e70a0751abd13","transaction_id":"9a4739b117027a67","parent_id":"9a4739b117027a67","trace_id":"2ca014ac8027c4cdb5d20839ba0d18aa","subtype":"postgresql","action":"query","timestamp":1646055527985151,"duration":11.178,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"8bc28c7e86d4cf61","transaction_id":"9a4739b117027a67","parent_id":"9a4739b117027a67","trace_id":"2ca014ac8027c4cdb5d20839ba0d18aa","subtype":"postgresql","action":"query","timestamp":1646055527987029,"duration":11.896,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"065f3928c7749874","transaction_id":"9a4739b117027a67","parent_id":"9a4739b117027a67","trace_id":"2ca014ac8027c4cdb5d20839ba0d18aa","subtype":"postgresql","action":"query","timestamp":1646055527988702,"duration":13.384,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a52472e9f0d33e3a","transaction_id":"9a4739b117027a67","parent_id":"9a4739b117027a67","trace_id":"2ca014ac8027c4cdb5d20839ba0d18aa","subtype":"postgresql","action":"query","timestamp":1646055528008879,"duration":5.457,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"9a4739b117027a67","trace_id":"2ca014ac8027c4cdb5d20839ba0d18aa","duration":52.029,"timestamp":1646055527977017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:38:48 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"976b0bfc62492bb5","transaction_id":"9a4739b117027a67","parent_id":"9a4739b117027a67","trace_id":"2ca014ac8027c4cdb5d20839ba0d18aa","subtype":"postgresql","action":"query","timestamp":1646055528006625,"duration":10.08,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c2133231cb0001dc","transaction_id":"9a4739b117027a67","parent_id":"9a4739b117027a67","trace_id":"2ca014ac8027c4cdb5d20839ba0d18aa","subtype":"postgresql","action":"query","timestamp":1646055528004469,"duration":18.602,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"e3012b9c4fbea169","transaction_id":"0affa88e741e56fc","parent_id":"0affa88e741e56fc","trace_id":"8983d970ac27980fc0a6392a0a30f126","subtype":"redis","action":null,"timestamp":1646055528100632,"duration":4.767,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"85badc082eb70a08","transaction_id":"0affa88e741e56fc","parent_id":"0affa88e741e56fc","trace_id":"8983d970ac27980fc0a6392a0a30f126","subtype":"postgresql","action":"query","timestamp":1646055528111773,"duration":3.804,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"0affa88e741e56fc","trace_id":"8983d970ac27980fc0a6392a0a30f126","parent_id":"146f9f782d5f3ae9","duration":41.314,"timestamp":1646055528084026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-8983d970ac27980fc0a6392a0a30f126-146f9f782d5f3ae9-01","elastic-apm-traceparent":"00-8983d970ac27980fc0a6392a0a30f126-146f9f782d5f3ae9-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:38:48 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"394b9ca2a96e35e5","transaction_id":"22fad5670b0b9fd8","parent_id":"22fad5670b0b9fd8","trace_id":"46b8114cf767a9b6b2222c9f74e41436","subtype":"postgresql","action":"query","timestamp":1646055528240217,"duration":6.739,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"22fad5670b0b9fd8","trace_id":"46b8114cf767a9b6b2222c9f74e41436","parent_id":"4760a3cd9e0a7f8d","duration":24.378,"timestamp":1646055528231019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/153","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/153","full":"http://opbeans-node:3000/api/customers/153"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-46b8114cf767a9b6b2222c9f74e41436-4760a3cd9e0a7f8d-01","elastic-apm-traceparent":"00-46b8114cf767a9b6b2222c9f74e41436-4760a3cd9e0a7f8d-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"175","etag":"W/\"af-jWgzEQszfb+OGJ8P8wJbwvNJIXY\"","date":"Mon, 28 Feb 2022 13:38:48 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"Validate CC","type":"custom","id":"43fa40bf09e278c4","transaction_id":"54d661e88ccc1609","parent_id":"54d661e88ccc1609","trace_id":"6213e03958d0935b92189330a4c3dbec","subtype":null,"action":null,"timestamp":1646055528323659,"duration":272.185,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":23,"function":"processPayment","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Process payment', 'Worker')"],"context_line":"  performSubTasks(['Validate CC', 'Reserve funds'], function () {","post_context":["    apm.endTransaction()","    queue(processPayment)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ec5bc6aeb3f9c959","trace_id":"80886e873e2abf69d067804c50284721","duration":40.286,"timestamp":1646055528980035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:48 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"c30de5d853fd61da","transaction_id":"ec5bc6aeb3f9c959","parent_id":"ec5bc6aeb3f9c959","trace_id":"80886e873e2abf69d067804c50284721","subtype":"http","action":"GET","timestamp":1646055528986715,"duration":23.635,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e544454baf04edc3","trace_id":"5187a22f5ef239f643f6b660688e389e","duration":5168.289,"timestamp":1646055523971021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:38:49 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"108580","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"b75d7bc1af7a3b43","transaction_id":"e544454baf04edc3","parent_id":"e544454baf04edc3","trace_id":"5187a22f5ef239f643f6b660688e389e","subtype":"http","action":"GET","timestamp":1646055523995318,"duration":5137.108,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"3a7046fcf0e7f232","trace_id":"89ba6319802fdab3ca59513b4b4724c2","parent_id":"01d43bd4b91bcc2c","duration":10.034,"timestamp":1646055529472028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:38:49 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Process payment","type":"Worker","result":"success","id":"54d661e88ccc1609","trace_id":"6213e03958d0935b92189330a4c3dbec","duration":1231.791,"timestamp":1646055528320040,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Reserve funds","type":"custom","id":"42b0caabdc9907b6","transaction_id":"54d661e88ccc1609","parent_id":"54d661e88ccc1609","trace_id":"6213e03958d0935b92189330a4c3dbec","subtype":null,"action":null,"timestamp":1646055528610909,"duration":938.179,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"0079b1d6ea89b482","transaction_id":"4c97f9e6214a22de","parent_id":"4c97f9e6214a22de","trace_id":"1abce10a08a704ff0d98188dfbeb98e3","subtype":"postgresql","action":"query","timestamp":1646055529561375,"duration":5.437,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"4c97f9e6214a22de","trace_id":"1abce10a08a704ff0d98188dfbeb98e3","parent_id":"bf758eadf2bc3497","duration":59.716,"timestamp":1646055529546031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/1","full":"http://opbeans-go:3000/api/types/1"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-1abce10a08a704ff0d98188dfbeb98e3-bf758eadf2bc3497-01","traceparent":"00-1abce10a08a704ff0d98188dfbeb98e3-bf758eadf2bc3497-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"217","etag":"W/\"d9-cebOOHODBQMZd1wt+ZZBaSPgQLQ\"","date":"Mon, 28 Feb 2022 13:38:49 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"7e4a593475d80bb1","transaction_id":"4c97f9e6214a22de","parent_id":"4c97f9e6214a22de","trace_id":"1abce10a08a704ff0d98188dfbeb98e3","subtype":"postgresql","action":"query","timestamp":1646055529568430,"duration":13.275,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"0ada24d1447a011e","trace_id":"9f555c14a01f5411182ba74b8fbde823","parent_id":"3ae073b5963c7f8a","duration":65.948,"timestamp":1646055535637341,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:38:55 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"687cd067696aac93","trace_id":"bd28a48c28748cd623749e883bc8793b","duration":100.909,"timestamp":1646055536669025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:38:56 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"f4cff5e6a1204384","trace_id":"ab15f5dbf7e2f6417ae22f78b88bde06","duration":19.935,"timestamp":1646055537174042,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:38:57 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"1c9b6b0c37ceb13d","transaction_id":"826ff0f165dd4687","parent_id":"826ff0f165dd4687","trace_id":"d6fa0304efbedac7f0d9c7b5f80b4414","subtype":"redis","action":null,"timestamp":1646055538196832,"duration":5.751,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"826ff0f165dd4687","trace_id":"d6fa0304efbedac7f0d9c7b5f80b4414","duration":104.249,"timestamp":1646055538180066,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:38:58 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"f83fc107122c3803","transaction_id":"826ff0f165dd4687","parent_id":"826ff0f165dd4687","trace_id":"d6fa0304efbedac7f0d9c7b5f80b4414","subtype":"postgresql","action":"query","timestamp":1646055538241958,"duration":24.866,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e425fad8d6669961","trace_id":"3b967836cbae3b269de989c4dd4182c7","duration":43.216,"timestamp":1646055538674024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:38:58 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"ec668f4166e766b3","transaction_id":"e425fad8d6669961","parent_id":"e425fad8d6669961","trace_id":"3b967836cbae3b269de989c4dd4182c7","subtype":"http","action":"GET","timestamp":1646055538680194,"duration":25.601,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"9a0b3535f8fef2c5","trace_id":"a53b998895a3ef636a506727b698e6d8","duration":26.381,"timestamp":1646055539184077,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:38:59 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"OPTIONS unknown route","type":"request","result":"HTTP 2xx","id":"c7d6a6cbcb7277b6","trace_id":"0656fd3a23af3d5a48d290990abfccdb","duration":10.834,"timestamp":1646055539676026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"OPTIONS","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","content-length":"0","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","allow":"GET,HEAD","content-type":"text/html; charset=utf-8","content-length":"8","etag":"W/\"8-ZRAf8oNBS3Bjb/SU2GYZCmbtmXg\"","date":"Mon, 28 Feb 2022 13:38:59 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-message","type":"request","result":"HTTP 5xx","id":"45d81fbb9254ea6e","trace_id":"16f85f752f7d6e5e5948ad507bb651e1","duration":43.318,"timestamp":1646055540177035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-message","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-message","full":"http://opbeans-node:3000/log-message"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:39:00 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"2c7a90c2066eb121","transaction_id":"6082af4d9c770efc","parent_id":"6082af4d9c770efc","trace_id":"46843c8798926899b0ebb14b45433637","subtype":"redis","action":null,"timestamp":1646055540681171,"duration":2.117,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"fe538bb175d133dc","transaction_id":"6082af4d9c770efc","parent_id":"6082af4d9c770efc","trace_id":"46843c8798926899b0ebb14b45433637","subtype":"postgresql","action":"query","timestamp":1646055540686226,"duration":4.889,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"6082af4d9c770efc","trace_id":"46843c8798926899b0ebb14b45433637","duration":27.401,"timestamp":1646055540673018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:39:00 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"12ce79d4080d6362","transaction_id":"b20f4726d37f823d","parent_id":"b20f4726d37f823d","trace_id":"54530b7cabc42ec169d673c704230f95","subtype":"postgresql","action":"query","timestamp":1646055541228846,"duration":5.461,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"b20f4726d37f823d","trace_id":"54530b7cabc42ec169d673c704230f95","duration":36.843,"timestamp":1646055541204091,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"250","etag":"W/\"fa-O2pSp/nl49sefAwhjFNnvOX493Y\"","date":"Mon, 28 Feb 2022 13:39:01 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ac7199290d85f57c","transaction_id":"867c4e53b6bb8dcc","parent_id":"867c4e53b6bb8dcc","trace_id":"11b15fa8fb743d94fb835a75c3e0f865","subtype":"postgresql","action":"query","timestamp":1646055542183574,"duration":10.377,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"04f75c34b39e0bdb","transaction_id":"867c4e53b6bb8dcc","parent_id":"867c4e53b6bb8dcc","trace_id":"11b15fa8fb743d94fb835a75c3e0f865","subtype":"postgresql","action":"query","timestamp":1646055542203968,"duration":14.624,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"9f8cc0e06a0e1c7c","transaction_id":"867c4e53b6bb8dcc","parent_id":"867c4e53b6bb8dcc","trace_id":"11b15fa8fb743d94fb835a75c3e0f865","subtype":"postgresql","action":"query","timestamp":1646055542215818,"duration":11.613,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"6ebcc0e49a322558","transaction_id":"867c4e53b6bb8dcc","parent_id":"867c4e53b6bb8dcc","trace_id":"11b15fa8fb743d94fb835a75c3e0f865","subtype":"postgresql","action":"query","timestamp":1646055542208691,"duration":28.391,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"867c4e53b6bb8dcc","trace_id":"11b15fa8fb743d94fb835a75c3e0f865","duration":77.772,"timestamp":1646055542178021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:39:02 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"aae194318de0a5be","transaction_id":"867c4e53b6bb8dcc","parent_id":"867c4e53b6bb8dcc","trace_id":"11b15fa8fb743d94fb835a75c3e0f865","subtype":"postgresql","action":"query","timestamp":1646055542230971,"duration":12.481,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"5eae7db74b987aab","transaction_id":"867c4e53b6bb8dcc","parent_id":"867c4e53b6bb8dcc","trace_id":"11b15fa8fb743d94fb835a75c3e0f865","subtype":"postgresql","action":"query","timestamp":1646055542233099,"duration":12.678,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"35ff76d53b23b50c","transaction_id":"867c4e53b6bb8dcc","parent_id":"867c4e53b6bb8dcc","trace_id":"11b15fa8fb743d94fb835a75c3e0f865","subtype":"postgresql","action":"query","timestamp":1646055542234763,"duration":12.945,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"e2bd49f16f205cec","trace_id":"1367c3093b72caaf6cb65599fd682e70","duration":69.436,"timestamp":1646055542684031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:39:02 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /is-it-coffee-time","type":"request","result":"HTTP 5xx","id":"517be5a19c3e65a2","trace_id":"89d0e5238ff7648e0e1cadf9c54697e1","duration":20.55,"timestamp":1646055543185055,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/is-it-coffee-time","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/is-it-coffee-time","full":"http://opbeans-node:3000/is-it-coffee-time"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:39:03 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f6c30aedd935c573","trace_id":"0083cc60728c0c5c9e6d536c71154f82","parent_id":"3f184ab40eb2302c","duration":27.951,"timestamp":1646055544435024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-0083cc60728c0c5c9e6d536c71154f82-3f184ab40eb2302c-01","elastic-apm-traceparent":"00-0083cc60728c0c5c9e6d536c71154f82-3f184ab40eb2302c-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:04 GMT","content-length":"110","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"13435c15de499b5e","transaction_id":"f6c30aedd935c573","parent_id":"f6c30aedd935c573","trace_id":"0083cc60728c0c5c9e6d536c71154f82","subtype":"http","action":"GET","timestamp":1646055544441214,"duration":16.459,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"05e9be837e1b4c51","trace_id":"1f3c0dae814ec3ab0050132715702c08","duration":8378.25,"timestamp":1646055536206131,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-node:3000/api/products/2/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:04 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"203686","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"b819bcf9f50d111a","transaction_id":"05e9be837e1b4c51","parent_id":"05e9be837e1b4c51","trace_id":"1f3c0dae814ec3ab0050132715702c08","subtype":"http","action":"GET","timestamp":1646055536225469,"duration":8353.399,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/2/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"78b6a5d9cf68cc73","trace_id":"009fa2397850ca241562ef1691b18439","duration":6953.252,"timestamp":1646055537700041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/461","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/461","full":"http://opbeans-node:3000/api/orders/461"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:04 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"339efd8b2deb2dc7","transaction_id":"78b6a5d9cf68cc73","parent_id":"78b6a5d9cf68cc73","trace_id":"009fa2397850ca241562ef1691b18439","subtype":"http","action":"GET","timestamp":1646055537713772,"duration":6924.31,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders/461"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e9242d8609324cb1","trace_id":"9425175a7471875e1d9d41492cff1692","duration":3022.29,"timestamp":1646055541688025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/69","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/69","full":"http://opbeans-node:3000/api/orders/69"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:04 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"312","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"353b5630098fa59e","transaction_id":"e9242d8609324cb1","parent_id":"e9242d8609324cb1","trace_id":"9425175a7471875e1d9d41492cff1692","subtype":"http","action":"GET","timestamp":1646055541695025,"duration":2999.293,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders/69"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"dfee2e0bf1da118d","trace_id":"f4d0628df359cc52ea3ca87f2aa16438","parent_id":"85f6bf8322231648","duration":572.421,"timestamp":1646055544192027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-go:3000/api/products/5/customers"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-f4d0628df359cc52ea3ca87f2aa16438-85f6bf8322231648-01","traceparent":"00-f4d0628df359cc52ea3ca87f2aa16438-85f6bf8322231648-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"e4763b7c6f912f9b655fa667d293bf0c\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"a645f8df-5df0-4572-a0cd-06a60199f52e","x-runtime":"0.051778","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:04 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"ccbac6df73ae41c6","transaction_id":"dfee2e0bf1da118d","parent_id":"dfee2e0bf1da118d","trace_id":"f4d0628df359cc52ea3ca87f2aa16438","subtype":"http","action":"GET","timestamp":1646055544196763,"duration":561.072,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/5/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"626e35d572384993","trace_id":"f3ff78c40ba4b826d64a764be0c1158d","duration":1205.385,"timestamp":1646055543693054,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:04 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"203686","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0f81794dda73fafa","trace_id":"f4d0628df359cc52ea3ca87f2aa16438","duration":743.988,"timestamp":1646055544180035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-node:3000/api/products/5/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","cache-control":"max-age=0, private, must-revalidate","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:04 GMT","etag":"W/\"e4763b7c6f912f9b655fa667d293bf0c\"","referrer-policy":"strict-origin-when-cross-origin","x-content-type-options":"nosniff","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-request-id":"a645f8df-5df0-4572-a0cd-06a60199f52e","x-runtime":"0.051778","x-xss-protection":"1; mode=block","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"e00e8e16b659094d","transaction_id":"626e35d572384993","parent_id":"626e35d572384993","trace_id":"f3ff78c40ba4b826d64a764be0c1158d","subtype":"http","action":"GET","timestamp":1646055543704180,"duration":1145.476,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"158dc97a7583a9f6","transaction_id":"0f81794dda73fafa","parent_id":"0f81794dda73fafa","trace_id":"f4d0628df359cc52ea3ca87f2aa16438","subtype":"http","action":"GET","timestamp":1646055544183902,"duration":731.62,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/5/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"dc08530df1c50ff6","trace_id":"1a86c3632420e69917d05e919e9f9f61","parent_id":"25e1b944ef75e85a","duration":41.711,"timestamp":1646055544957016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-1a86c3632420e69917d05e919e9f9f61-25e1b944ef75e85a-01","elastic-apm-traceparent":"00-1a86c3632420e69917d05e919e9f9f61-25e1b944ef75e85a-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"243","etag":"W/\"f3-6sVO4eOixKeSqLsiOclAUoIfJnQ\"","date":"Mon, 28 Feb 2022 13:39:04 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e4dac0045c3b6633","transaction_id":"dc08530df1c50ff6","parent_id":"dc08530df1c50ff6","trace_id":"1a86c3632420e69917d05e919e9f9f61","subtype":"postgresql","action":"query","timestamp":1646055544968268,"duration":21.119,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"620aaf64d5d826d2","trace_id":"1a86c3632420e69917d05e919e9f9f61","parent_id":"4857089c5c5a0ad3","duration":1267.127,"timestamp":1646055543756027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-1a86c3632420e69917d05e919e9f9f61-4857089c5c5a0ad3-01","elastic-apm-traceparent":"00-1a86c3632420e69917d05e919e9f9f61-4857089c5c5a0ad3-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:05 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"5920bb952ea4bab2","trace_id":"9080983ee74a2a472a892aa4774dc7e3","duration":107.804,"timestamp":1646055544929016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:39:05 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"8dd283d653e49c03","transaction_id":"620aaf64d5d826d2","parent_id":"620aaf64d5d826d2","trace_id":"1a86c3632420e69917d05e919e9f9f61","subtype":"http","action":"GET","timestamp":1646055543777598,"duration":1240.588,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/4"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"fc794dbae1fc468b","trace_id":"da988ecb255c904c8fda58a8341d61d2","parent_id":"68eb0f7b1a40fa39","duration":76.152,"timestamp":1646055545084020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-da988ecb255c904c8fda58a8341d61d2-68eb0f7b1a40fa39-01","elastic-apm-traceparent":"00-da988ecb255c904c8fda58a8341d61d2-68eb0f7b1a40fa39-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"32a6f2ac22b5ec871f35104a05ba3759\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"75c2b59c-b3ec-4b9c-803e-f7a39333b49e","x-runtime":"0.012552","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:05 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"4b6fe35117b6d6e4","transaction_id":"fc794dbae1fc468b","parent_id":"fc794dbae1fc468b","trace_id":"da988ecb255c904c8fda58a8341d61d2","subtype":"http","action":"GET","timestamp":1646055545088004,"duration":67.836,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"f94ff7d73ff09cc3","trace_id":"b865b657feab44b5b9d3b6ef04da35a5","parent_id":"3d4aa9bb0b9abe9a","duration":214.2,"timestamp":1646055544971018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/8661","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/8661","full":"http://opbeans-node:3000/api/customers/8661"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-b865b657feab44b5b9d3b6ef04da35a5-3d4aa9bb0b9abe9a-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-b865b657feab44b5b9d3b6ef04da35a5-3d4aa9bb0b9abe9a-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:05 GMT","connection":"close","content-type":"text/html; charset=UTF-8","x-frame-options":"DENY","content-length":"1722","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"fba5f1e1be3af62d","transaction_id":"f94ff7d73ff09cc3","parent_id":"f94ff7d73ff09cc3","trace_id":"b865b657feab44b5b9d3b6ef04da35a5","subtype":"http","action":"GET","timestamp":1646055544981892,"duration":194.61,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-python:3000/api/customers/8661"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"9426bff5f678a1b3","transaction_id":"9ba8dfa70dc537f4","parent_id":"9ba8dfa70dc537f4","trace_id":"8a51cceb41f0c30bc002faebffca174c","subtype":"postgresql","action":"query","timestamp":1646055545225148,"duration":32.245,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"36e49f3f675354c8","transaction_id":"9ba8dfa70dc537f4","parent_id":"9ba8dfa70dc537f4","trace_id":"8a51cceb41f0c30bc002faebffca174c","subtype":"postgresql","action":"query","timestamp":1646055545263070,"duration":7.925,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"9ba8dfa70dc537f4","trace_id":"8a51cceb41f0c30bc002faebffca174c","parent_id":"17aed628f88f941c","duration":69.112,"timestamp":1646055545215022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/3","full":"http://opbeans-go:3000/api/types/3"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-8a51cceb41f0c30bc002faebffca174c-17aed628f88f941c-01","traceparent":"00-8a51cceb41f0c30bc002faebffca174c-17aed628f88f941c-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:39:05 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"022a4c2f13df9d9c","trace_id":"8a51cceb41f0c30bc002faebffca174c","duration":101.856,"timestamp":1646055545202019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"189","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:05 GMT","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"cd9fcce9c0aaf162","transaction_id":"022a4c2f13df9d9c","parent_id":"022a4c2f13df9d9c","trace_id":"8a51cceb41f0c30bc002faebffca174c","subtype":"http","action":"GET","timestamp":1646055545206667,"duration":92.793,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/3"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"f1be0fb8874a2ba2","transaction_id":"6bbbb059cfeba796","parent_id":"6bbbb059cfeba796","trace_id":"9f3061c3965960cde64bc45fecd80c67","subtype":"postgresql","action":"query","timestamp":1646055545385591,"duration":6.383,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"6bbbb059cfeba796","trace_id":"9f3061c3965960cde64bc45fecd80c67","parent_id":"966a52d243c20a3a","duration":25.627,"timestamp":1646055545372020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers?limit=60","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2/customers","search":"?limit=60","full":"http://opbeans-node:3000/api/products/2/customers?limit=60"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-9f3061c3965960cde64bc45fecd80c67-966a52d243c20a3a-01","elastic-apm-traceparent":"00-9f3061c3965960cde64bc45fecd80c67-966a52d243c20a3a-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"4827","etag":"W/\"12db-CVjfNlJXPDdUOB1pLPihBDfjg34\"","date":"Mon, 28 Feb 2022 13:39:05 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"1ffca9e7415b1b5b","transaction_id":"ca5ff4b60372aae5","parent_id":"ca5ff4b60372aae5","trace_id":"daad4b2edd03c9ce1416d03ab552020e","subtype":"postgresql","action":"query","timestamp":1646055545627112,"duration":5.414,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"ca5ff4b60372aae5","trace_id":"daad4b2edd03c9ce1416d03ab552020e","parent_id":"bf00fced4801c42b","duration":30.63,"timestamp":1646055545614019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers?limit=100","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3/customers","search":"?limit=100","full":"http://opbeans-node:3000/api/products/3/customers?limit=100"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-daad4b2edd03c9ce1416d03ab552020e-bf00fced4801c42b-01","elastic-apm-traceparent":"00-daad4b2edd03c9ce1416d03ab552020e-bf00fced4801c42b-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2247","etag":"W/\"8c7-DzU3uvPT9Eu5vDsXxF0AVpUtaII\"","date":"Mon, 28 Feb 2022 13:39:05 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"c454488fdf7bd482","trace_id":"6f6ed43f38a88414b0cfdc86ed27499d","duration":9.687,"timestamp":1646055545683017,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:05 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"2645672af54c9b5b","trace_id":"9c5ed1e66f865adc42c6380dca95b818","parent_id":"a6641c3f5fa56bac","duration":8.389,"timestamp":1646055545763019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:05 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"ef97dbdd6534263f","transaction_id":"040105df0dc8ebc7","parent_id":"040105df0dc8ebc7","trace_id":"beb6a2b2770671b93dee984ddfcd89e2","subtype":"redis","action":null,"timestamp":1646055545795024,"duration":3.076,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"4cee64d458db53ed","transaction_id":"040105df0dc8ebc7","parent_id":"040105df0dc8ebc7","trace_id":"beb6a2b2770671b93dee984ddfcd89e2","subtype":"postgresql","action":"query","timestamp":1646055545800341,"duration":2.145,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"040105df0dc8ebc7","trace_id":"beb6a2b2770671b93dee984ddfcd89e2","parent_id":"acd5a65ce7d1e5a1","duration":16.163,"timestamp":1646055545790017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-beb6a2b2770671b93dee984ddfcd89e2-acd5a65ce7d1e5a1-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-beb6a2b2770671b93dee984ddfcd89e2-acd5a65ce7d1e5a1-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:39:05 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c9e20879bb8a950a","trace_id":"bc333b839b350cee5768a041822d7785","parent_id":"3cc7a5cdbb3f260d","duration":84.32,"timestamp":1646055545969078,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-bc333b839b350cee5768a041822d7785-3cc7a5cdbb3f260d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-bc333b839b350cee5768a041822d7785-3cc7a5cdbb3f260d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:06 GMT","content-length":"36","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"7044d044e63326b6","transaction_id":"c9e20879bb8a950a","parent_id":"c9e20879bb8a950a","trace_id":"bc333b839b350cee5768a041822d7785","subtype":"http","action":"GET","timestamp":1646055545991793,"duration":37.728,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/1"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"9cb0eb85c7944d1b","trace_id":"7b85dcedfb5ce7d2687f85879c4ad31e","parent_id":"58cce669f7a3e33a","duration":75.178,"timestamp":1646055546113034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/516","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/516","full":"http://opbeans-go:3000/api/customers/516"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-7b85dcedfb5ce7d2687f85879c4ad31e-58cce669f7a3e33a-01","traceparent":"00-7b85dcedfb5ce7d2687f85879c4ad31e-58cce669f7a3e33a-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"213","content-type":"application/json","date":"Mon, 28 Feb 2022 13:39:06 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"0b5ff6364d59938a","transaction_id":"9cb0eb85c7944d1b","parent_id":"9cb0eb85c7944d1b","trace_id":"7b85dcedfb5ce7d2687f85879c4ad31e","subtype":"http","action":"GET","timestamp":1646055546120193,"duration":62.698,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers/516"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"9401bfd955fb2818","trace_id":"d97acc6822e9fdb068b36ea1b2c97b1a","duration":10.546,"timestamp":1646055546200017,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:06 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"487531031ce22b8a","transaction_id":"36852056e25f0362","parent_id":"36852056e25f0362","trace_id":"2a23406843d9d28692d30d56b6cb0895","subtype":"postgresql","action":"query","timestamp":1646055546262870,"duration":3.762,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"36852056e25f0362","trace_id":"2a23406843d9d28692d30d56b6cb0895","parent_id":"a008eac14c170231","duration":14.193,"timestamp":1646055546257020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-2a23406843d9d28692d30d56b6cb0895-a008eac14c170231-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-2a23406843d9d28692d30d56b6cb0895-a008eac14c170231-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"250","etag":"W/\"fa-O2pSp/nl49sefAwhjFNnvOX493Y\"","date":"Mon, 28 Feb 2022 13:39:06 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"8c043129380851aa","trace_id":"58cd944e2afb51da5881c4fa12d13383","parent_id":"cd1a5b0a47f5f2ed","duration":39.576,"timestamp":1646055546388019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2","full":"http://opbeans-go:3000/api/products/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-58cd944e2afb51da5881c4fa12d13383-cd1a5b0a47f5f2ed-01","traceparent":"00-58cd944e2afb51da5881c4fa12d13383-cd1a5b0a47f5f2ed-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:06 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"259","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"eed839b5b0063f90","transaction_id":"8c043129380851aa","parent_id":"8c043129380851aa","trace_id":"58cd944e2afb51da5881c4fa12d13383","subtype":"http","action":"GET","timestamp":1646055546391855,"duration":29.22,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"15a312b4a458cbec","trace_id":"abb5ccb9ce85a9ef02ec144f348c4876","parent_id":"d3c91705d5db53d9","duration":108.881,"timestamp":1646055546377030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-node:3000/api/products/5/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-abb5ccb9ce85a9ef02ec144f348c4876-d3c91705d5db53d9-01","elastic-apm-traceparent":"00-abb5ccb9ce85a9ef02ec144f348c4876-d3c91705d5db53d9-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"113114","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:06 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"e2ddf3b4b5191724","transaction_id":"15a312b4a458cbec","parent_id":"15a312b4a458cbec","trace_id":"abb5ccb9ce85a9ef02ec144f348c4876","subtype":"http","action":"GET","timestamp":1646055546381629,"duration":93.819,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/5/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"d333833a1f69b5f0","transaction_id":"3a77343e32b1e198","parent_id":"3a77343e32b1e198","trace_id":"07185d0e1a1f924ab916f55a7a975ea9","subtype":"postgresql","action":"query","timestamp":1646055546763597,"duration":10.734,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"3a77343e32b1e198","trace_id":"07185d0e1a1f924ab916f55a7a975ea9","parent_id":"673232bfc2e67f4a","duration":99.57,"timestamp":1646055546745042,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-07185d0e1a1f924ab916f55a7a975ea9-673232bfc2e67f4a-01","traceparent":"00-07185d0e1a1f924ab916f55a7a975ea9-673232bfc2e67f4a-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:06 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f464a86026680717","transaction_id":"3a77343e32b1e198","parent_id":"3a77343e32b1e198","trace_id":"07185d0e1a1f924ab916f55a7a975ea9","subtype":"postgresql","action":"query","timestamp":1646055546782591,"duration":37.718,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ff23800168db498b","transaction_id":"3a77343e32b1e198","parent_id":"3a77343e32b1e198","trace_id":"07185d0e1a1f924ab916f55a7a975ea9","subtype":"postgresql","action":"query","timestamp":1646055546786440,"duration":39.12,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0712b03322b85f3f","transaction_id":"3a77343e32b1e198","parent_id":"3a77343e32b1e198","trace_id":"07185d0e1a1f924ab916f55a7a975ea9","subtype":"postgresql","action":"query","timestamp":1646055546791941,"duration":42.159,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a5c663fa0f3fa077","trace_id":"9d8d53cc87bc9640ab7cf310646fb864","parent_id":"9bc00dfc19d08a4b","duration":253.604,"timestamp":1646055546990029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-9d8d53cc87bc9640ab7cf310646fb864-9bc00dfc19d08a4b-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-9d8d53cc87bc9640ab7cf310646fb864-9bc00dfc19d08a4b-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","date":"Mon, 28 Feb 2022 13:39:07 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"45dbce7c25ebfb3d","transaction_id":"a5c663fa0f3fa077","parent_id":"a5c663fa0f3fa077","trace_id":"9d8d53cc87bc9640ab7cf310646fb864","subtype":"http","action":"GET","timestamp":1646055547004041,"duration":225.22,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b950291bc3ca27ad","trace_id":"9d8d53cc87bc9640ab7cf310646fb864","parent_id":"20eed3396addcc80","duration":415.11,"timestamp":1646055546897035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-9d8d53cc87bc9640ab7cf310646fb864-20eed3396addcc80-01","traceparent":"00-9d8d53cc87bc9640ab7cf310646fb864-20eed3396addcc80-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:07 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"128","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"2d90ff1f6f481fe2","transaction_id":"b950291bc3ca27ad","parent_id":"b950291bc3ca27ad","trace_id":"9d8d53cc87bc9640ab7cf310646fb864","subtype":"http","action":"GET","timestamp":1646055546907220,"duration":399.245,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f03ada2fd3af749a","trace_id":"9d8d53cc87bc9640ab7cf310646fb864","parent_id":"d66e8747ec5575c1","duration":540.555,"timestamp":1646055546797022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-9d8d53cc87bc9640ab7cf310646fb864-d66e8747ec5575c1-01","traceparent":"00-9d8d53cc87bc9640ab7cf310646fb864-d66e8747ec5575c1-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"128","content-type":"application/json","date":"Mon, 28 Feb 2022 13:39:07 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"77767ea374b0a350","transaction_id":"f03ada2fd3af749a","parent_id":"f03ada2fd3af749a","trace_id":"9d8d53cc87bc9640ab7cf310646fb864","subtype":"http","action":"GET","timestamp":1646055546809569,"duration":517.359,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"40e0350d73c14cb3","trace_id":"9d8d53cc87bc9640ab7cf310646fb864","duration":676.022,"timestamp":1646055546694032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:07 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"ebc4c666618583e7","transaction_id":"40e0350d73c14cb3","parent_id":"40e0350d73c14cb3","trace_id":"9d8d53cc87bc9640ab7cf310646fb864","subtype":"http","action":"GET","timestamp":1646055546705823,"duration":659.072,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a7ee7eca49284250","trace_id":"8eaeaa945ee6fcdcfd82fe4deb7750c8","parent_id":"1d6d8c7051f1dd8a","duration":150.653,"timestamp":1646055547259030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-8eaeaa945ee6fcdcfd82fe4deb7750c8-1d6d8c7051f1dd8a-01","traceparent":"00-8eaeaa945ee6fcdcfd82fe4deb7750c8-1d6d8c7051f1dd8a-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"2134","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:07 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"d5b5284050e9d458","transaction_id":"a7ee7eca49284250","parent_id":"a7ee7eca49284250","trace_id":"8eaeaa945ee6fcdcfd82fe4deb7750c8","subtype":"http","action":"GET","timestamp":1646055547294987,"duration":110.412,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e7fe763fded179be","trace_id":"8eaeaa945ee6fcdcfd82fe4deb7750c8","duration":239.387,"timestamp":1646055547194063,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"2134","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:07 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"64ae5a7a58a9b897","transaction_id":"e7fe763fded179be","parent_id":"e7fe763fded179be","trace_id":"8eaeaa945ee6fcdcfd82fe4deb7750c8","subtype":"http","action":"GET","timestamp":1646055547207709,"duration":211.12,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"07d6f6a2cc2255e2","transaction_id":"761ad69c8cb256f6","parent_id":"761ad69c8cb256f6","trace_id":"846e96de8b329106e3c5424eb40e39fb","subtype":"postgresql","action":"query","timestamp":1646055547550494,"duration":7.403,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"761ad69c8cb256f6","trace_id":"846e96de8b329106e3c5424eb40e39fb","parent_id":"43d2926a43b6185f","duration":36.446,"timestamp":1646055547534031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/1","full":"http://opbeans-go:3000/api/products/1"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-846e96de8b329106e3c5424eb40e39fb-43d2926a43b6185f-01","traceparent":"00-846e96de8b329106e3c5424eb40e39fb-43d2926a43b6185f-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-6JlJegaJ+ir0C8I8EmmOjms1dnc\"","date":"Mon, 28 Feb 2022 13:39:07 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"cf84d5be0d159bf6","transaction_id":"4838104f5031529a","parent_id":"4838104f5031529a","trace_id":"77e6dfc35dad79f0f98dc80e4a412566","subtype":"redis","action":null,"timestamp":1646055547602622,"duration":2.197,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"46bfd0b2ce9f937a","transaction_id":"4838104f5031529a","parent_id":"4838104f5031529a","trace_id":"77e6dfc35dad79f0f98dc80e4a412566","subtype":"postgresql","action":"query","timestamp":1646055547606534,"duration":3.363,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"4838104f5031529a","trace_id":"77e6dfc35dad79f0f98dc80e4a412566","parent_id":"6b4ce13628b1b498","duration":20.979,"timestamp":1646055547593036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-77e6dfc35dad79f0f98dc80e4a412566-6b4ce13628b1b498-01","traceparent":"00-77e6dfc35dad79f0f98dc80e4a412566-6b4ce13628b1b498-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:39:07 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"595beee38ceb641f","trace_id":"cdaf59b58f53b66074c12b2cc467064a","parent_id":"c097d71d55ba1484","duration":31.755,"timestamp":1646055547699031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:07 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"af2e5c97067f866d","transaction_id":"ebca882ffe846c6a","parent_id":"ebca882ffe846c6a","trace_id":"aa479ee11bc78d2ffdf866d0596bd937","subtype":"redis","action":null,"timestamp":1646055548019724,"duration":3.62,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"e0de2cd0a156b32e","transaction_id":"ebca882ffe846c6a","parent_id":"ebca882ffe846c6a","trace_id":"aa479ee11bc78d2ffdf866d0596bd937","subtype":"postgresql","action":"query","timestamp":1646055548025443,"duration":5.005,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"ebca882ffe846c6a","trace_id":"aa479ee11bc78d2ffdf866d0596bd937","parent_id":"4d7535f83c189877","duration":25.665,"timestamp":1646055548010027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders","full":"http://opbeans-go:3000/api/orders"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-aa479ee11bc78d2ffdf866d0596bd937-4d7535f83c189877-01","traceparent":"00-aa479ee11bc78d2ffdf866d0596bd937-4d7535f83c189877-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:39:08 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"44d1ca7ab8ff6d06","trace_id":"f5d392c23d6166826c7ad53997507b52","duration":44.527,"timestamp":1646055548186019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/1","full":"http://opbeans-node:3000/api/products/1"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:08 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"248","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"0b0854377f8acc7f","transaction_id":"44d1ca7ab8ff6d06","parent_id":"44d1ca7ab8ff6d06","trace_id":"f5d392c23d6166826c7ad53997507b52","subtype":"http","action":"GET","timestamp":1646055548190775,"duration":34.944,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/1"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c38987fed3bf9344","transaction_id":"e91c9bace7357a09","parent_id":"e91c9bace7357a09","trace_id":"b1ae0ddb2c1463fb11a03248bb60fceb","subtype":"postgresql","action":"query","timestamp":1646055548366679,"duration":8.007,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"9d72ccfe34b16a86","transaction_id":"e91c9bace7357a09","parent_id":"e91c9bace7357a09","trace_id":"b1ae0ddb2c1463fb11a03248bb60fceb","subtype":"postgresql","action":"query","timestamp":1646055548368468,"duration":8.104,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"dd7c10e1bce31ec9","transaction_id":"e91c9bace7357a09","parent_id":"e91c9bace7357a09","trace_id":"b1ae0ddb2c1463fb11a03248bb60fceb","subtype":"postgresql","action":"query","timestamp":1646055548370066,"duration":8.623,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"11d64510fc56b129","transaction_id":"e91c9bace7357a09","parent_id":"e91c9bace7357a09","trace_id":"b1ae0ddb2c1463fb11a03248bb60fceb","subtype":"postgresql","action":"query","timestamp":1646055548371606,"duration":9.128,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"113163a1c54ebf74","transaction_id":"e91c9bace7357a09","parent_id":"e91c9bace7357a09","trace_id":"b1ae0ddb2c1463fb11a03248bb60fceb","subtype":"postgresql","action":"query","timestamp":1646055548382480,"duration":6.661,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"57ead7f390819157","transaction_id":"e91c9bace7357a09","parent_id":"e91c9bace7357a09","trace_id":"b1ae0ddb2c1463fb11a03248bb60fceb","subtype":"postgresql","action":"query","timestamp":1646055548384726,"duration":6.99,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"54da41a6389afc4d","transaction_id":"e91c9bace7357a09","parent_id":"e91c9bace7357a09","trace_id":"b1ae0ddb2c1463fb11a03248bb60fceb","subtype":"postgresql","action":"query","timestamp":1646055548386497,"duration":6.985,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"e91c9bace7357a09","trace_id":"b1ae0ddb2c1463fb11a03248bb60fceb","parent_id":"464af58f9404641a","duration":37.985,"timestamp":1646055548361018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-b1ae0ddb2c1463fb11a03248bb60fceb-464af58f9404641a-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-b1ae0ddb2c1463fb11a03248bb60fceb-464af58f9404641a-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:39:08 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"b6670126194376a0","transaction_id":"cf52ea734a9cd592","parent_id":"cf52ea734a9cd592","trace_id":"f2e8c91733f1d3480de2cef0a62ff338","subtype":"redis","action":null,"timestamp":1646055548519805,"duration":3.206,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"b7758c8f7898e3c5","transaction_id":"cf52ea734a9cd592","parent_id":"cf52ea734a9cd592","trace_id":"f2e8c91733f1d3480de2cef0a62ff338","subtype":"postgresql","action":"query","timestamp":1646055548525929,"duration":131.733,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"cf52ea734a9cd592","trace_id":"f2e8c91733f1d3480de2cef0a62ff338","parent_id":"05f5bbd53d953d39","duration":216.993,"timestamp":1646055548513028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-f2e8c91733f1d3480de2cef0a62ff338-05f5bbd53d953d39-01","traceparent":"00-f2e8c91733f1d3480de2cef0a62ff338-05f5bbd53d953d39-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:39:08 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"5ae26d0827dd419c","transaction_id":"09d6cc8285c75a7a","parent_id":"09d6cc8285c75a7a","trace_id":"0e90e93fbfccd82afe2fe23e91f6e1aa","subtype":"redis","action":null,"timestamp":1646055548777221,"duration":4.523,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"14c573653723be4a","transaction_id":"09d6cc8285c75a7a","parent_id":"09d6cc8285c75a7a","trace_id":"0e90e93fbfccd82afe2fe23e91f6e1aa","subtype":"postgresql","action":"query","timestamp":1646055548788962,"duration":5.755,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"09d6cc8285c75a7a","trace_id":"0e90e93fbfccd82afe2fe23e91f6e1aa","duration":49.468,"timestamp":1646055548757028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:39:08 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ab4d373296c7ae6e","trace_id":"f0e9015be244fd91de4be6be0a7a40b5","parent_id":"34b7641ef51dfc10","duration":68.079,"timestamp":1646055549097020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-f0e9015be244fd91de4be6be0a7a40b5-34b7641ef51dfc10-01","traceparent":"00-f0e9015be244fd91de4be6be0a7a40b5-34b7641ef51dfc10-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:09 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"309","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"54234c26d335c6a9","transaction_id":"ab4d373296c7ae6e","parent_id":"ab4d373296c7ae6e","trace_id":"f0e9015be244fd91de4be6be0a7a40b5","subtype":"http","action":"GET","timestamp":1646055549106981,"duration":53.588,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"20e043bd32897ea2","transaction_id":"c169dc4d3c9d0b13","parent_id":"c169dc4d3c9d0b13","trace_id":"33d0b7a5b1a20a6c53b2a0dd1c8fbaf5","subtype":"redis","action":null,"timestamp":1646055549209908,"duration":3.601,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"300a5b6bf779db67","transaction_id":"c169dc4d3c9d0b13","parent_id":"c169dc4d3c9d0b13","trace_id":"33d0b7a5b1a20a6c53b2a0dd1c8fbaf5","subtype":"postgresql","action":"query","timestamp":1646055549215480,"duration":2.944,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"c169dc4d3c9d0b13","trace_id":"33d0b7a5b1a20a6c53b2a0dd1c8fbaf5","parent_id":"4e71e33ed31d2922","duration":21.481,"timestamp":1646055549203019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-33d0b7a5b1a20a6c53b2a0dd1c8fbaf5-4e71e33ed31d2922-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-33d0b7a5b1a20a6c53b2a0dd1c8fbaf5-4e71e33ed31d2922-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:39:09 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ecdd82e6c9013bf6","trace_id":"68f3c15f007725284dac2a4198e46cdd","duration":66.9,"timestamp":1646055549233026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/534","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/534","full":"http://opbeans-node:3000/api/customers/534"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:09 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"273b820704882999","transaction_id":"ecdd82e6c9013bf6","parent_id":"ecdd82e6c9013bf6","trace_id":"68f3c15f007725284dac2a4198e46cdd","subtype":"http","action":"GET","timestamp":1646055549242172,"duration":44.411,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers/534"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"76d6e16a354a3e1c","trace_id":"bbba82629d0d163b691d67622211d559","parent_id":"70ff132755cf24b5","duration":25.128,"timestamp":1646055549704051,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:09 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b9051aa4fe33272c","trace_id":"773c4046c1bbeb1cc20f24f190844fba","duration":150.657,"timestamp":1646055550696028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:10 GMT","content-length":"110","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"1ff3188e2e4e14ae","transaction_id":"b9051aa4fe33272c","parent_id":"b9051aa4fe33272c","trace_id":"773c4046c1bbeb1cc20f24f190844fba","subtype":"http","action":"GET","timestamp":1646055550725936,"duration":60.062,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"487ef385b45b16b9","transaction_id":"26685f6a733b3598","parent_id":"26685f6a733b3598","trace_id":"e03480614a94c219d1eee047c80c4e1e","subtype":"postgresql","action":"query","timestamp":1646055551347750,"duration":48.608,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"9ff68bd99483b95d","transaction_id":"26685f6a733b3598","parent_id":"26685f6a733b3598","trace_id":"e03480614a94c219d1eee047c80c4e1e","subtype":"postgresql","action":"query","timestamp":1646055551433141,"duration":32.168,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"6d8e2e65f84d6d6f","transaction_id":"26685f6a733b3598","parent_id":"26685f6a733b3598","trace_id":"e03480614a94c219d1eee047c80c4e1e","subtype":"postgresql","action":"query","timestamp":1646055551452424,"duration":25.229,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"26685f6a733b3598","trace_id":"e03480614a94c219d1eee047c80c4e1e","duration":302.998,"timestamp":1646055551322036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:11 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c2a7798d1ae334d4","transaction_id":"26685f6a733b3598","parent_id":"26685f6a733b3598","trace_id":"e03480614a94c219d1eee047c80c4e1e","subtype":"postgresql","action":"query","timestamp":1646055551450289,"duration":84.347,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"f9e39c1d7443b31c","trace_id":"f5b742bc37ca5a6d58fe7855a564899c","duration":63.266,"timestamp":1646055551732034,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:11 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"984abdc5d97af284","transaction_id":"219f7fb84acdf9b3","parent_id":"219f7fb84acdf9b3","trace_id":"954e841b461ce3afea5b7fe5046b2322","subtype":"redis","action":null,"timestamp":1646055552717941,"duration":2.794,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"219f7fb84acdf9b3","trace_id":"954e841b461ce3afea5b7fe5046b2322","duration":174.179,"timestamp":1646055552709022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:39:12 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"88aa3480f70790a1","transaction_id":"219f7fb84acdf9b3","parent_id":"219f7fb84acdf9b3","trace_id":"954e841b461ce3afea5b7fe5046b2322","subtype":"postgresql","action":"query","timestamp":1646055552724698,"duration":122.438,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"Validate CC","type":"custom","id":"f38592280cf3fafc","transaction_id":"65c1dc5e9e48f7d2","parent_id":"65c1dc5e9e48f7d2","trace_id":"4d64e896d66883f8c9efc0d382c27d3f","subtype":null,"action":null,"timestamp":1646055553256027,"duration":413.478,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":23,"function":"processPayment","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Process payment', 'Worker')"],"context_line":"  performSubTasks(['Validate CC', 'Reserve funds'], function () {","post_context":["    apm.endTransaction()","    queue(processPayment)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"a342651fcf818927","trace_id":"8bf382a4371930ede22faa69a79dc950","parent_id":"d418f85725e341a8","duration":24.697,"timestamp":1646055553720089,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:13 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Process payment","type":"Worker","result":"success","id":"65c1dc5e9e48f7d2","trace_id":"4d64e896d66883f8c9efc0d382c27d3f","duration":633.091,"timestamp":1646055553247054,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Reserve funds","type":"custom","id":"8292bba551bc37a4","transaction_id":"65c1dc5e9e48f7d2","parent_id":"65c1dc5e9e48f7d2","trace_id":"4d64e896d66883f8c9efc0d382c27d3f","subtype":null,"action":null,"timestamp":1646055553700356,"duration":168.133,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-message","type":"request","result":"HTTP 5xx","id":"e0daf99362f7a8eb","trace_id":"1259899decf8473370763c5b4752f5d5","duration":235.5,"timestamp":1646055554221044,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-message","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-message","full":"http://opbeans-node:3000/log-message"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:39:14 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"2bacadaccb3b417b","trace_id":"5905c6febf50b2a1601c7bcf810c6abc","parent_id":"89c7437e2f06befe","duration":5366.808,"timestamp":1646055549483029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-node:3000/api/products/2/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-5905c6febf50b2a1601c7bcf810c6abc-89c7437e2f06befe-01","elastic-apm-traceparent":"00-5905c6febf50b2a1601c7bcf810c6abc-89c7437e2f06befe-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:14 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"d03d6dff456abea7","transaction_id":"2bacadaccb3b417b","parent_id":"2bacadaccb3b417b","trace_id":"5905c6febf50b2a1601c7bcf810c6abc","subtype":"http","action":"GET","timestamp":1646055549487450,"duration":5335.154,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/2/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0a84c94bf77ce7cc","trace_id":"d9fc476f4adf6fc7b9b83dce57be4e89","duration":4810.985,"timestamp":1646055550210078,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:14 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"57b43cb457abcfc4","transaction_id":"0a84c94bf77ce7cc","parent_id":"0a84c94bf77ce7cc","trace_id":"d9fc476f4adf6fc7b9b83dce57be4e89","subtype":"http","action":"GET","timestamp":1646055550241504,"duration":4702.922,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a96fd83a12a4813e","trace_id":"5905c6febf50b2a1601c7bcf810c6abc","parent_id":"bc47cb48646cdddb","duration":5787.898,"timestamp":1646055549441019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-node:3000/api/products/2/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-5905c6febf50b2a1601c7bcf810c6abc-bc47cb48646cdddb-01","elastic-apm-traceparent":"00-5905c6febf50b2a1601c7bcf810c6abc-bc47cb48646cdddb-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"110745","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:14 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"9eb4a7672e9c690e","transaction_id":"a96fd83a12a4813e","parent_id":"a96fd83a12a4813e","trace_id":"5905c6febf50b2a1601c7bcf810c6abc","subtype":"http","action":"GET","timestamp":1646055549445310,"duration":5744.752,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/2/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"27eac7d361817b69","trace_id":"cce2a808525e0e5b8ca31d009d18ba8e","parent_id":"2413547f9f2c4ee9","duration":3021.203,"timestamp":1646055552339034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/302","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/302","full":"http://opbeans-node:3000/api/orders/302"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-cce2a808525e0e5b8ca31d009d18ba8e-2413547f9f2c4ee9-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-cce2a808525e0e5b8ca31d009d18ba8e-2413547f9f2c4ee9-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"311","content-type":"application/json","date":"Mon, 28 Feb 2022 13:39:15 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"1529fcf39c75cb47","transaction_id":"27eac7d361817b69","parent_id":"27eac7d361817b69","trace_id":"cce2a808525e0e5b8ca31d009d18ba8e","subtype":"http","action":"GET","timestamp":1646055552347169,"duration":2974.762,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders/302"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b0e90bc04b269696","trace_id":"ced65dc74cc80a1a0843a2623045c86f","duration":721.355,"timestamp":1646055554727088,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","cache-control":"max-age=0, private, must-revalidate","content-type":"application/json; charset=utf-8","etag":"W/\"6b84b8cfae4908f93f790804f2c9e7c9\"","referrer-policy":"strict-origin-when-cross-origin","x-content-type-options":"nosniff","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-request-id":"85ff4ea1-aedf-423d-ae17-e6d9e9fe27b9","x-runtime":"0.472051","x-xss-protection":"1; mode=block","date":"Mon, 28 Feb 2022 13:39:15 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"bc7b72e14723ea79","trace_id":"af9d769b2db970f801ed80a7c076b09c","duration":2296.051,"timestamp":1646055553203045,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:15 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"63ae3fe9ae120761","trace_id":"cce2a808525e0e5b8ca31d009d18ba8e","duration":3286.849,"timestamp":1646055552233036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/302","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/302","full":"http://opbeans-node:3000/api/orders/302"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:15 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4e55dc9623ec4956","trace_id":"5905c6febf50b2a1601c7bcf810c6abc","parent_id":"e702bd5dd8b2067c","duration":6152.741,"timestamp":1646055549406064,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-go:3000/api/products/2/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-5905c6febf50b2a1601c7bcf810c6abc-e702bd5dd8b2067c-01","traceparent":"00-5905c6febf50b2a1601c7bcf810c6abc-e702bd5dd8b2067c-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"110745","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:15 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"f0693f7e1d970285","transaction_id":"b0e90bc04b269696","parent_id":"b0e90bc04b269696","trace_id":"ced65dc74cc80a1a0843a2623045c86f","subtype":"http","action":"GET","timestamp":1646055554747331,"duration":681.341,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"5420f67a280ec797","transaction_id":"bc7b72e14723ea79","parent_id":"bc7b72e14723ea79","trace_id":"af9d769b2db970f801ed80a7c076b09c","subtype":"http","action":"GET","timestamp":1646055553223676,"duration":2268.221,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"be26ceea100b5bca","transaction_id":"63ae3fe9ae120761","parent_id":"63ae3fe9ae120761","trace_id":"cce2a808525e0e5b8ca31d009d18ba8e","subtype":"http","action":"GET","timestamp":1646055552269155,"duration":3242.785,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders/302"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"ad76e87f1a2e5a9a","transaction_id":"4e55dc9623ec4956","parent_id":"4e55dc9623ec4956","trace_id":"5905c6febf50b2a1601c7bcf810c6abc","subtype":"http","action":"GET","timestamp":1646055549412879,"duration":6136.002,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/2/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"3fc980efe8946313","transaction_id":"e4a6536fbc1c883b","parent_id":"e4a6536fbc1c883b","trace_id":"1d06d475d8d1d1c093d58ece6a3958e1","subtype":"postgresql","action":"query","timestamp":1646055555625487,"duration":17.724,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"e4a6536fbc1c883b","trace_id":"1d06d475d8d1d1c093d58ece6a3958e1","duration":116.786,"timestamp":1646055555573025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:15 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"952a516472a66796","transaction_id":"e4a6536fbc1c883b","parent_id":"e4a6536fbc1c883b","trace_id":"1d06d475d8d1d1c093d58ece6a3958e1","subtype":"postgresql","action":"query","timestamp":1646055555649470,"duration":25.199,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1913f3ae3c1df66c","transaction_id":"e4a6536fbc1c883b","parent_id":"e4a6536fbc1c883b","trace_id":"1d06d475d8d1d1c093d58ece6a3958e1","subtype":"postgresql","action":"query","timestamp":1646055555652082,"duration":27.053,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"80ad382dc632307f","transaction_id":"e4a6536fbc1c883b","parent_id":"e4a6536fbc1c883b","trace_id":"1d06d475d8d1d1c093d58ece6a3958e1","subtype":"postgresql","action":"query","timestamp":1646055555655499,"duration":26.954,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"8c03d549169ef284","transaction_id":"dffb4202dadcb238","parent_id":"dffb4202dadcb238","trace_id":"2fc4c2c003bf87c2913ef525f6daff76","subtype":"postgresql","action":"query","timestamp":1646055555719643,"duration":6.268,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"dffb4202dadcb238","trace_id":"2fc4c2c003bf87c2913ef525f6daff76","parent_id":"c7b6a5a6461e0eef","duration":31.15,"timestamp":1646055555703069,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers?limit=110","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3/customers","search":"?limit=110","full":"http://opbeans-node:3000/api/products/3/customers?limit=110"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-2fc4c2c003bf87c2913ef525f6daff76-c7b6a5a6461e0eef-01","elastic-apm-traceparent":"00-2fc4c2c003bf87c2913ef525f6daff76-c7b6a5a6461e0eef-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2247","etag":"W/\"8c7-DzU3uvPT9Eu5vDsXxF0AVpUtaII\"","date":"Mon, 28 Feb 2022 13:39:15 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"8addefb4b3520937","trace_id":"28e3a8fa7145b18c31bd44df21b88e02","duration":9.253,"timestamp":1646055555740019,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:15 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"ff8e7d467dd9358a","trace_id":"611a601e4a3aecfd819ed236aaffbe3b","parent_id":"242bf8bec361aca3","duration":18.445,"timestamp":1646055555905021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:15 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"1eb02de27ee6d768","trace_id":"bf3a81534222105ee90a3ec4b737e0a6","parent_id":"d4a930026045409c","duration":168.668,"timestamp":1646055555780028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-bf3a81534222105ee90a3ec4b737e0a6-d4a930026045409c-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-bf3a81534222105ee90a3ec4b737e0a6-d4a930026045409c-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"83","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:15 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"77f76e4bfb8ed052","transaction_id":"1eb02de27ee6d768","parent_id":"1eb02de27ee6d768","trace_id":"bf3a81534222105ee90a3ec4b737e0a6","subtype":"http","action":"GET","timestamp":1646055555799635,"duration":144.809,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"fa661c5056c4612f","trace_id":"bf3a81534222105ee90a3ec4b737e0a6","parent_id":"86bf4367fc25bc9e","duration":330.494,"timestamp":1646055555659025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-bf3a81534222105ee90a3ec4b737e0a6-86bf4367fc25bc9e-01","traceparent":"00-bf3a81534222105ee90a3ec4b737e0a6-86bf4367fc25bc9e-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:15 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"f1c2ee749c8e7d4c","transaction_id":"fa661c5056c4612f","parent_id":"fa661c5056c4612f","trace_id":"bf3a81534222105ee90a3ec4b737e0a6","subtype":"http","action":"GET","timestamp":1646055555666270,"duration":316.313,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e0679d6f62be9e6e","trace_id":"6bf63d894d741b916f05de7c3ea8b8c4","parent_id":"95c4957b73669910","duration":58.855,"timestamp":1646055556020064,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-6bf63d894d741b916f05de7c3ea8b8c4-95c4957b73669910-01","traceparent":"00-6bf63d894d741b916f05de7c3ea8b8c4-95c4957b73669910-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:16 GMT","content-length":"112","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"a774d7d61dcda7e5","transaction_id":"e0679d6f62be9e6e","parent_id":"e0679d6f62be9e6e","trace_id":"6bf63d894d741b916f05de7c3ea8b8c4","subtype":"http","action":"GET","timestamp":1646055556028073,"duration":46.45,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"5454659ac0071ee1","transaction_id":"d5092df120f470b9","parent_id":"d5092df120f470b9","trace_id":"a15b40b1706fcb7a98a8729ce681ff2d","subtype":"redis","action":null,"timestamp":1646055556084758,"duration":3.596,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"b87dceecc8f0404d","transaction_id":"d5092df120f470b9","parent_id":"d5092df120f470b9","trace_id":"a15b40b1706fcb7a98a8729ce681ff2d","subtype":"postgresql","action":"query","timestamp":1646055556090673,"duration":3.679,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"d5092df120f470b9","trace_id":"a15b40b1706fcb7a98a8729ce681ff2d","parent_id":"94d74f6f610f5111","duration":33.468,"timestamp":1646055556065029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-a15b40b1706fcb7a98a8729ce681ff2d-94d74f6f610f5111-01","elastic-apm-traceparent":"00-a15b40b1706fcb7a98a8729ce681ff2d-94d74f6f610f5111-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:39:16 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"034e35e2d23806d6","trace_id":"a15b40b1706fcb7a98a8729ce681ff2d","parent_id":"2d942144ff1cd1c4","duration":204.344,"timestamp":1646055555955017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-a15b40b1706fcb7a98a8729ce681ff2d-2d942144ff1cd1c4-01","elastic-apm-traceparent":"00-a15b40b1706fcb7a98a8729ce681ff2d-2d942144ff1cd1c4-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:16 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"112","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"2827c77d00425e2f","transaction_id":"034e35e2d23806d6","parent_id":"034e35e2d23806d6","trace_id":"a15b40b1706fcb7a98a8729ce681ff2d","subtype":"http","action":"GET","timestamp":1646055555959591,"duration":195.603,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"35b551f9ae4f43ce","trace_id":"a15b40b1706fcb7a98a8729ce681ff2d","parent_id":"756104669c7870da","duration":390.276,"timestamp":1646055555849036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-a15b40b1706fcb7a98a8729ce681ff2d-756104669c7870da-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-a15b40b1706fcb7a98a8729ce681ff2d-756104669c7870da-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:16 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"010330cdb91d7b97","transaction_id":"35b551f9ae4f43ce","parent_id":"35b551f9ae4f43ce","trace_id":"a15b40b1706fcb7a98a8729ce681ff2d","subtype":"http","action":"GET","timestamp":1646055555865902,"duration":368.246,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"58a0938f4b8b7c59","transaction_id":"c66e524bf6015122","parent_id":"c66e524bf6015122","trace_id":"3b8536b683b3d4b3c7347856aac921b6","subtype":"postgresql","action":"query","timestamp":1646055556278119,"duration":6.007,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"c66e524bf6015122","trace_id":"3b8536b683b3d4b3c7347856aac921b6","duration":55.374,"timestamp":1646055556261022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"217","etag":"W/\"d9-cebOOHODBQMZd1wt+ZZBaSPgQLQ\"","date":"Mon, 28 Feb 2022 13:39:16 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"387d9e319883d1be","transaction_id":"c66e524bf6015122","parent_id":"c66e524bf6015122","trace_id":"3b8536b683b3d4b3c7347856aac921b6","subtype":"postgresql","action":"query","timestamp":1646055556285727,"duration":15.734,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"e57ef2bbb26eb7a7","trace_id":"cc34f2d6cf0a80f563bfd65300db6058","parent_id":"153ae9dae7e5209c","duration":45.063,"timestamp":1646055556289016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers?limit=50","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/3/customers","search":"?limit=50","full":"http://opbeans-go:3000/api/products/3/customers?limit=50"},"headers":{"host":"opbeans-go:3000","accept-encoding":"gzip","elastic-apm-traceparent":"00-cc34f2d6cf0a80f563bfd65300db6058-153ae9dae7e5209c-01","traceparent":"00-cc34f2d6cf0a80f563bfd65300db6058-153ae9dae7e5209c-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2247","etag":"W/\"8c7-DzU3uvPT9Eu5vDsXxF0AVpUtaII\"","date":"Mon, 28 Feb 2022 13:39:16 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"b6474ccb8401c33b","transaction_id":"e57ef2bbb26eb7a7","parent_id":"e57ef2bbb26eb7a7","trace_id":"cc34f2d6cf0a80f563bfd65300db6058","subtype":"postgresql","action":"query","timestamp":1646055556297254,"duration":28.74,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"d4a45b42ddf2bc45","trace_id":"cc34f2d6cf0a80f563bfd65300db6058","parent_id":"e221899db5c79fd7","duration":182.806,"timestamp":1646055556181039,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers?limit=50","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/3/customers","search":"?limit=50","full":"http://opbeans-go:3000/api/products/3/customers?limit=50"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-cc34f2d6cf0a80f563bfd65300db6058-e221899db5c79fd7-01","traceparent":"00-cc34f2d6cf0a80f563bfd65300db6058-e221899db5c79fd7-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"2247","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:16 GMT","etag":"W/\"8c7-DzU3uvPT9Eu5vDsXxF0AVpUtaII\"","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"184bd2345a8e2820","transaction_id":"d4a45b42ddf2bc45","parent_id":"d4a45b42ddf2bc45","trace_id":"cc34f2d6cf0a80f563bfd65300db6058","subtype":"http","action":"GET","timestamp":1646055556201969,"duration":147.546,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/3/customers?limit=50"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"7762435b8baa422b","trace_id":"c7a2daa01da3d4e315e3a98e8ad104f3","parent_id":"f6a0cd98892e589a","duration":85.932,"timestamp":1646055556397032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/580","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/580","full":"http://opbeans-go:3000/api/orders/580"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-c7a2daa01da3d4e315e3a98e8ad104f3-f6a0cd98892e589a-01","traceparent":"00-c7a2daa01da3d4e315e3a98e8ad104f3-f6a0cd98892e589a-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=UTF-8","x-request-id":"10c2eae1-fa99-46fd-8c6b-922d25301971","x-runtime":"0.023838","connection":"close","content-length":"1722","date":"Mon, 28 Feb 2022 13:39:16 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"ba6980fd2d934ca9","transaction_id":"7762435b8baa422b","parent_id":"7762435b8baa422b","trace_id":"c7a2daa01da3d4e315e3a98e8ad104f3","subtype":"http","action":"GET","timestamp":1646055556407040,"duration":52.671,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/orders/580"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"d610a64aba34a31e","trace_id":"2cb05cebe2af2c47907ab3920be1b488","duration":20.071,"timestamp":1646055556716017,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:16 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"1066e11715b85352","trace_id":"8b76d388f85e2fde07ab309b64dc0da4","parent_id":"7a2ed33add7408a2","duration":102.098,"timestamp":1646055556703034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/220","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/220","full":"http://opbeans-node:3000/api/customers/220"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-8b76d388f85e2fde07ab309b64dc0da4-7a2ed33add7408a2-01","elastic-apm-traceparent":"00-8b76d388f85e2fde07ab309b64dc0da4-7a2ed33add7408a2-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:16 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"192","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"fbbc27838b9461a9","transaction_id":"1066e11715b85352","parent_id":"1066e11715b85352","trace_id":"8b76d388f85e2fde07ab309b64dc0da4","subtype":"http","action":"GET","timestamp":1646055556709898,"duration":90.543,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/220"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ce8a08541f5fbd77","trace_id":"acc099954d983118ff26925edbf20e28","parent_id":"b6fe38672e3e1976","duration":118.175,"timestamp":1646055556774026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-acc099954d983118ff26925edbf20e28-b6fe38672e3e1976-01","traceparent":"00-acc099954d983118ff26925edbf20e28-b6fe38672e3e1976-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:16 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"d85c9a96166db8bb","transaction_id":"ce8a08541f5fbd77","parent_id":"ce8a08541f5fbd77","trace_id":"acc099954d983118ff26925edbf20e28","subtype":"http","action":"GET","timestamp":1646055556783720,"duration":65.306,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"a22aafc8f67a14fd","transaction_id":"28be4c2f23c45e78","parent_id":"28be4c2f23c45e78","trace_id":"2b69ec2ae455ff7c0ac256ab5783fbb6","subtype":"postgresql","action":"query","timestamp":1646055556971316,"duration":5.794,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e7f99baf29d8ad7d","transaction_id":"28be4c2f23c45e78","parent_id":"28be4c2f23c45e78","trace_id":"2b69ec2ae455ff7c0ac256ab5783fbb6","subtype":"postgresql","action":"query","timestamp":1646055556979375,"duration":7.339,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"2ba25b334636aac3","transaction_id":"28be4c2f23c45e78","parent_id":"28be4c2f23c45e78","trace_id":"2b69ec2ae455ff7c0ac256ab5783fbb6","subtype":"postgresql","action":"query","timestamp":1646055556981546,"duration":6.94,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e9a1328f309b8272","transaction_id":"28be4c2f23c45e78","parent_id":"28be4c2f23c45e78","trace_id":"2b69ec2ae455ff7c0ac256ab5783fbb6","subtype":"postgresql","action":"query","timestamp":1646055556983589,"duration":6.259,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"28be4c2f23c45e78","trace_id":"2b69ec2ae455ff7c0ac256ab5783fbb6","parent_id":"614230c251bdc4b6","duration":36.701,"timestamp":1646055556959026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-2b69ec2ae455ff7c0ac256ab5783fbb6-614230c251bdc4b6-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-2b69ec2ae455ff7c0ac256ab5783fbb6-614230c251bdc4b6-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:16 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"f3ab7ee7f27fd78b","trace_id":"cfcc20ff96684042e10057959419cae2","parent_id":"f44d00910c34aab0","duration":59.536,"timestamp":1646055557039024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/852","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/852","full":"http://opbeans-go:3000/api/customers/852"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-cfcc20ff96684042e10057959419cae2-f44d00910c34aab0-01","traceparent":"00-cfcc20ff96684042e10057959419cae2-f44d00910c34aab0-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"178","etag":"W/\"b2-qwsBZBlhs8NBa9d4Y9wz7Brywkc\"","date":"Mon, 28 Feb 2022 13:39:17 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"cf252d46d4a8a76d","transaction_id":"f3ab7ee7f27fd78b","parent_id":"f3ab7ee7f27fd78b","trace_id":"cfcc20ff96684042e10057959419cae2","subtype":"postgresql","action":"query","timestamp":1646055557061111,"duration":11.16,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"ebf6e2b92dc7a0c7","trace_id":"e9001176d31a1c9383988f4db51bd1c6","duration":58.67,"timestamp":1646055557227140,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/104","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/104","full":"http://opbeans-node:3000/api/orders/104"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-length":"1722","content-type":"text/html; charset=UTF-8","x-request-id":"5bc31b44-6390-4a51-a598-bf3f05bc8220","x-runtime":"0.030158","date":"Mon, 28 Feb 2022 13:39:17 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"1ccf5e39b2d75104","transaction_id":"ebf6e2b92dc7a0c7","parent_id":"ebf6e2b92dc7a0c7","trace_id":"e9001176d31a1c9383988f4db51bd1c6","subtype":"http","action":"GET","timestamp":1646055557234200,"duration":46.225,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-go:3000/api/orders/104"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"cfb25445d2698722","trace_id":"c5048902525290cb942707ded257f60a","parent_id":"d4771f772588a5c2","duration":40.161,"timestamp":1646055557496027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-c5048902525290cb942707ded257f60a-d4771f772588a5c2-01","traceparent":"00-c5048902525290cb942707ded257f60a-d4771f772588a5c2-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:17 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"123","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"16c6f13f7b78e950","transaction_id":"cfb25445d2698722","parent_id":"cfb25445d2698722","trace_id":"c5048902525290cb942707ded257f60a","subtype":"http","action":"GET","timestamp":1646055557500963,"duration":28.815,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"09bc28c41a6c58a8","transaction_id":"e9a21088094f62a8","parent_id":"e9a21088094f62a8","trace_id":"f092315b64f13f1e9f9b27caa34e98ba","subtype":"redis","action":null,"timestamp":1646055557558730,"duration":5.706,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"e9439670569a27e3","transaction_id":"e9a21088094f62a8","parent_id":"e9a21088094f62a8","trace_id":"f092315b64f13f1e9f9b27caa34e98ba","subtype":"postgresql","action":"query","timestamp":1646055557566036,"duration":3.676,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"e9a21088094f62a8","trace_id":"f092315b64f13f1e9f9b27caa34e98ba","parent_id":"5bcf4b3fd929c856","duration":22.157,"timestamp":1646055557551019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-f092315b64f13f1e9f9b27caa34e98ba-5bcf4b3fd929c856-01","traceparent":"00-f092315b64f13f1e9f9b27caa34e98ba-5bcf4b3fd929c856-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:39:17 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"29ff92c381b54db6","transaction_id":"f5d29cb4418e0f7b","parent_id":"f5d29cb4418e0f7b","trace_id":"c1ec4a85952394e0db5b208b5538021e","subtype":"postgresql","action":"query","timestamp":1646055557625881,"duration":2.83,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"f5d29cb4418e0f7b","trace_id":"c1ec4a85952394e0db5b208b5538021e","parent_id":"7ea3140918f81a57","duration":37.267,"timestamp":1646055557617133,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-c1ec4a85952394e0db5b208b5538021e-7ea3140918f81a57-01","traceparent":"00-c1ec4a85952394e0db5b208b5538021e-7ea3140918f81a57-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:17 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1dbf26a91b1655ba","transaction_id":"f5d29cb4418e0f7b","parent_id":"f5d29cb4418e0f7b","trace_id":"c1ec4a85952394e0db5b208b5538021e","subtype":"postgresql","action":"query","timestamp":1646055557630352,"duration":12.3,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a90ca0c7ba78cbd9","transaction_id":"f5d29cb4418e0f7b","parent_id":"f5d29cb4418e0f7b","trace_id":"c1ec4a85952394e0db5b208b5538021e","subtype":"postgresql","action":"query","timestamp":1646055557633147,"duration":12.328,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"bda758a67b4b7dc8","transaction_id":"f5d29cb4418e0f7b","parent_id":"f5d29cb4418e0f7b","trace_id":"c1ec4a85952394e0db5b208b5538021e","subtype":"postgresql","action":"query","timestamp":1646055557636555,"duration":11.937,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"6245f00556124ee9","trace_id":"6b0894de67292b3e55659fb9e2b2fc1c","duration":53.901,"timestamp":1646055557741064,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/8","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/8","full":"http://opbeans-node:3000/api/customers/8"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:17 GMT","content-length":"179","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"e84c3503bbdeb3f1","transaction_id":"6245f00556124ee9","parent_id":"6245f00556124ee9","trace_id":"6b0894de67292b3e55659fb9e2b2fc1c","subtype":"http","action":"GET","timestamp":1646055557764546,"duration":19.129,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers/8"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"39d07313aae57549","transaction_id":"98106739b12daec3","parent_id":"98106739b12daec3","trace_id":"d4d004eba304d983de616166967059ae","subtype":"postgresql","action":"query","timestamp":1646055557956721,"duration":8.39,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f9872b91e08829db","transaction_id":"98106739b12daec3","parent_id":"98106739b12daec3","trace_id":"d4d004eba304d983de616166967059ae","subtype":"postgresql","action":"query","timestamp":1646055557967981,"duration":5.292,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"98106739b12daec3","trace_id":"d4d004eba304d983de616166967059ae","parent_id":"e1576b917f210d18","duration":57.86,"timestamp":1646055557934066,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/3","full":"http://opbeans-go:3000/api/types/3"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-d4d004eba304d983de616166967059ae-e1576b917f210d18-01","traceparent":"00-d4d004eba304d983de616166967059ae-e1576b917f210d18-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:39:17 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"27d209bdfc4bbd7a","trace_id":"14a0c402aa5e7fd2701c063252a3b464","parent_id":"99551c51ef88c495","duration":98.454,"timestamp":1646055558089045,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/715","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/715","full":"http://opbeans-go:3000/api/orders/715"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-14a0c402aa5e7fd2701c063252a3b464-99551c51ef88c495-01","traceparent":"00-14a0c402aa5e7fd2701c063252a3b464-99551c51ef88c495-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-length":"1722","content-type":"text/html; charset=UTF-8","x-request-id":"48b205a0-1acd-4d8a-8bf6-259c8fdf0605","x-runtime":"0.040098","date":"Mon, 28 Feb 2022 13:39:18 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"02901b6a20d0bad3","transaction_id":"27d209bdfc4bbd7a","parent_id":"27d209bdfc4bbd7a","trace_id":"14a0c402aa5e7fd2701c063252a3b464","subtype":"http","action":"GET","timestamp":1646055558110953,"duration":70.487,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-go:3000/api/orders/715"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"559f726347636b97","trace_id":"beb20388543f9b4369748f1e7584a4d6","parent_id":"5431fb3f740641dd","duration":51.159,"timestamp":1646055558323039,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:18 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"07fa589e3002cd1c","trace_id":"1816d3a437ea35a307cbaac57c6f2dfb","parent_id":"88f1c116a92782da","duration":10363.821,"timestamp":1646055548061020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-1816d3a437ea35a307cbaac57c6f2dfb-88f1c116a92782da-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-1816d3a437ea35a307cbaac57c6f2dfb-88f1c116a92782da-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:18 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"108580","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"65e8950d347003f1","transaction_id":"07fa589e3002cd1c","parent_id":"07fa589e3002cd1c","trace_id":"1816d3a437ea35a307cbaac57c6f2dfb","subtype":"http","action":"GET","timestamp":1646055548065984,"duration":10346.478,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"47d902272908e495","transaction_id":"50e341ac6a236081","parent_id":"50e341ac6a236081","trace_id":"3ca84857c04737aecf23d41d97481345","subtype":"postgresql","action":"query","timestamp":1646055558685292,"duration":3.582,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"50e341ac6a236081","trace_id":"3ca84857c04737aecf23d41d97481345","parent_id":"d22ff56ef1772179","duration":25.073,"timestamp":1646055558672024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/595","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/595","full":"http://opbeans-go:3000/api/orders/595"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-3ca84857c04737aecf23d41d97481345-d22ff56ef1772179-01","traceparent":"00-3ca84857c04737aecf23d41d97481345-d22ff56ef1772179-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:18 GMT","connection":"keep-alive","keep-alive":"timeout=5","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8da4414048f85e4e","transaction_id":"a12747c17cb75996","parent_id":"a12747c17cb75996","trace_id":"f9c6f62b14b475d51f6774f5acb12d19","subtype":"postgresql","action":"query","timestamp":1646055558736597,"duration":3.839,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"a12747c17cb75996","trace_id":"f9c6f62b14b475d51f6774f5acb12d19","duration":36.178,"timestamp":1646055558725027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/6","full":"http://opbeans-node:3000/api/products/6"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"254","etag":"W/\"fe-vUW963ju559F4nwQXb+Wg4ZAqdk\"","date":"Mon, 28 Feb 2022 13:39:18 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b5738ed3727566b3","trace_id":"81fb5b5fdec0820a0fd479f9fd209ac6","parent_id":"ce6b51366d25ab52","duration":76.613,"timestamp":1646055558894020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-81fb5b5fdec0820a0fd479f9fd209ac6-ce6b51366d25ab52-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-81fb5b5fdec0820a0fd479f9fd209ac6-ce6b51366d25ab52-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37992d7e5d1df22332cd7c5be552ddce\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"f976a9a1-c84b-449c-bdb4-1641e4ae62e1","x-runtime":"0.035708","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:18 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"d9b4d4c2b89ffd48","transaction_id":"b5738ed3727566b3","parent_id":"b5738ed3727566b3","trace_id":"81fb5b5fdec0820a0fd479f9fd209ac6","subtype":"http","action":"GET","timestamp":1646055558902207,"duration":63.72,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"54175ac5d39d004b","transaction_id":"3448bd8286347cd8","parent_id":"3448bd8286347cd8","trace_id":"fd5f19eacd929bb7d1466b61f00c192a","subtype":"postgresql","action":"query","timestamp":1646055559038366,"duration":4.077,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"3448bd8286347cd8","trace_id":"fd5f19eacd929bb7d1466b61f00c192a","parent_id":"e6cf8707e5a62d57","duration":41.535,"timestamp":1646055559033022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-fd5f19eacd929bb7d1466b61f00c192a-e6cf8707e5a62d57-01","traceparent":"00-fd5f19eacd929bb7d1466b61f00c192a-e6cf8707e5a62d57-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:19 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"460575977c91a141","transaction_id":"3448bd8286347cd8","parent_id":"3448bd8286347cd8","trace_id":"fd5f19eacd929bb7d1466b61f00c192a","subtype":"postgresql","action":"query","timestamp":1646055559044335,"duration":11.507,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"56544ae607b7c177","transaction_id":"3448bd8286347cd8","parent_id":"3448bd8286347cd8","trace_id":"fd5f19eacd929bb7d1466b61f00c192a","subtype":"postgresql","action":"query","timestamp":1646055559045856,"duration":16.118,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"2f5a5b60264fe67a","transaction_id":"3448bd8286347cd8","parent_id":"3448bd8286347cd8","trace_id":"fd5f19eacd929bb7d1466b61f00c192a","subtype":"postgresql","action":"query","timestamp":1646055559047309,"duration":16.651,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"b2a3a370a66e8d51","trace_id":"a3fee3985a9b1a3d7216b383883c7709","duration":13.905,"timestamp":1646055559210032,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:19 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"Fetch package status for all orders","type":"custom","id":"7702003a5e1e545f","transaction_id":"fcaa81b32464ba1f","parent_id":"fcaa81b32464ba1f","trace_id":"02451c8093ebeae498011f395a4fffaf","subtype":null,"action":null,"timestamp":1646055558566177,"duration":846.23,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":43,"function":"updateShippingStatus","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Update shipping status', 'Worker')"],"context_line":"  performSubTasks(['Fetch package status for all orders', 'Send tracking emails'], function () {","post_context":["    apm.endTransaction()","    queue(updateShippingStatus)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"521d09640514cc83","trace_id":"16b2ba7f687b8fd62eb63d48ec93da05","parent_id":"d6eb340bcf0545e5","duration":59.657,"timestamp":1646055559554018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-16b2ba7f687b8fd62eb63d48ec93da05-d6eb340bcf0545e5-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-16b2ba7f687b8fd62eb63d48ec93da05-d6eb340bcf0545e5-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:19 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"260","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"15ddf34260f260fe","transaction_id":"521d09640514cc83","parent_id":"521d09640514cc83","trace_id":"16b2ba7f687b8fd62eb63d48ec93da05","subtype":"http","action":"GET","timestamp":1646055559561310,"duration":41.09,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/4"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"aeb26434a3628bfb","trace_id":"16b2ba7f687b8fd62eb63d48ec93da05","parent_id":"012627b9972a12e6","duration":217.772,"timestamp":1646055559432027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/4","full":"http://opbeans-go:3000/api/products/4"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-16b2ba7f687b8fd62eb63d48ec93da05-012627b9972a12e6-01","traceparent":"00-16b2ba7f687b8fd62eb63d48ec93da05-012627b9972a12e6-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:19 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"260","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"18c4e0c3d66478fc","transaction_id":"aeb26434a3628bfb","parent_id":"aeb26434a3628bfb","trace_id":"16b2ba7f687b8fd62eb63d48ec93da05","subtype":"http","action":"GET","timestamp":1646055559477701,"duration":163.093,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/4"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4cf41c549147cd2f","trace_id":"16b2ba7f687b8fd62eb63d48ec93da05","parent_id":"967ae9907f6222a5","duration":281.341,"timestamp":1646055559395031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/4","full":"http://opbeans-go:3000/api/products/4"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-16b2ba7f687b8fd62eb63d48ec93da05-967ae9907f6222a5-01","traceparent":"00-16b2ba7f687b8fd62eb63d48ec93da05-967ae9907f6222a5-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"260","content-type":"application/json","date":"Mon, 28 Feb 2022 13:39:19 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"201999048e014d5d","transaction_id":"4cf41c549147cd2f","parent_id":"4cf41c549147cd2f","trace_id":"16b2ba7f687b8fd62eb63d48ec93da05","subtype":"http","action":"GET","timestamp":1646055559402021,"duration":270.471,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/4"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"e1745e05691b15b0","trace_id":"bde11fddb1e38ed082a4790ce104cc0b","duration":10.632,"timestamp":1646055559720028,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:19 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Update shipping status","type":"Worker","result":"success","id":"fcaa81b32464ba1f","trace_id":"02451c8093ebeae498011f395a4fffaf","duration":1472.302,"timestamp":1646055558556048,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Send tracking emails","type":"custom","id":"9f7722a7362a11e3","transaction_id":"fcaa81b32464ba1f","parent_id":"fcaa81b32464ba1f","trace_id":"02451c8093ebeae498011f395a4fffaf","subtype":null,"action":null,"timestamp":1646055559465004,"duration":558.381,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"241b7b4f9fcc24df","transaction_id":"3a39e522ac96570a","parent_id":"3a39e522ac96570a","trace_id":"0160d0beb10770fe2d334f79859f310e","subtype":"redis","action":null,"timestamp":1646055560088242,"duration":3.911,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"5eb542960d1295fb","transaction_id":"3a39e522ac96570a","parent_id":"3a39e522ac96570a","trace_id":"0160d0beb10770fe2d334f79859f310e","subtype":"postgresql","action":"query","timestamp":1646055560100294,"duration":50.084,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"3a39e522ac96570a","trace_id":"0160d0beb10770fe2d334f79859f310e","parent_id":"c8860be9c0256656","duration":124.105,"timestamp":1646055560079020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-0160d0beb10770fe2d334f79859f310e-c8860be9c0256656-01","elastic-apm-traceparent":"00-0160d0beb10770fe2d334f79859f310e-c8860be9c0256656-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:39:20 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"5f0e9eac9b9cafcd","transaction_id":"0f87d593a7d54d69","parent_id":"0f87d593a7d54d69","trace_id":"cdc4f176ebcd593646e2f1df26fd2234","subtype":"postgresql","action":"query","timestamp":1646055560242880,"duration":18.413,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"3c6362cb5172bbf3","transaction_id":"0f87d593a7d54d69","parent_id":"0f87d593a7d54d69","trace_id":"cdc4f176ebcd593646e2f1df26fd2234","subtype":"postgresql","action":"query","timestamp":1646055560267192,"duration":7.231,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"0f87d593a7d54d69","trace_id":"cdc4f176ebcd593646e2f1df26fd2234","duration":59.225,"timestamp":1646055560228040,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"217","etag":"W/\"d9-cebOOHODBQMZd1wt+ZZBaSPgQLQ\"","date":"Mon, 28 Feb 2022 13:39:20 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"2a89f16f78b81d04","trace_id":"3c34786bce8d3b67155d918e9bf65d8a","parent_id":"479e86f9de12e337","duration":53.919,"timestamp":1646055560355035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/566","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/566","full":"http://opbeans-node:3000/api/customers/566"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-3c34786bce8d3b67155d918e9bf65d8a-479e86f9de12e337-01","elastic-apm-traceparent":"00-3c34786bce8d3b67155d918e9bf65d8a-479e86f9de12e337-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:20 GMT","content-length":"186","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"4b342a981cd2549c","transaction_id":"2a89f16f78b81d04","parent_id":"2a89f16f78b81d04","trace_id":"3c34786bce8d3b67155d918e9bf65d8a","subtype":"http","action":"GET","timestamp":1646055560373993,"duration":26.037,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers/566"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b72efc54395ebe84","trace_id":"3c34786bce8d3b67155d918e9bf65d8a","parent_id":"dd178d75525c09c0","duration":205.543,"timestamp":1646055560306017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/566","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/566","full":"http://opbeans-go:3000/api/customers/566"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-3c34786bce8d3b67155d918e9bf65d8a-dd178d75525c09c0-01","traceparent":"00-3c34786bce8d3b67155d918e9bf65d8a-dd178d75525c09c0-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:20 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"186","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"674d7b5ec8d5f21e","transaction_id":"b72efc54395ebe84","parent_id":"b72efc54395ebe84","trace_id":"3c34786bce8d3b67155d918e9bf65d8a","subtype":"http","action":"GET","timestamp":1646055560314246,"duration":182.796,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/566"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"OPTIONS unknown route","type":"request","result":"HTTP 2xx","id":"00f140ac20cf4919","trace_id":"78cec5614db5b9a46314e1a907f27190","duration":39.963,"timestamp":1646055560711047,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"OPTIONS","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","content-length":"0","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","allow":"GET,HEAD","content-type":"text/html; charset=utf-8","content-length":"8","etag":"W/\"8-ZRAf8oNBS3Bjb/SU2GYZCmbtmXg\"","date":"Mon, 28 Feb 2022 13:39:20 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a38cf519408f87f3","trace_id":"f51924d8404d97fa5504a5c9783fdc08","parent_id":"35fbba9a928cede6","duration":121.493,"timestamp":1646055560668025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/995","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/995","full":"http://opbeans-go:3000/api/orders/995"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-f51924d8404d97fa5504a5c9783fdc08-35fbba9a928cede6-01","traceparent":"00-f51924d8404d97fa5504a5c9783fdc08-35fbba9a928cede6-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:20 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"a6bc746c07fb530f","transaction_id":"a38cf519408f87f3","parent_id":"a38cf519408f87f3","trace_id":"f51924d8404d97fa5504a5c9783fdc08","subtype":"http","action":"GET","timestamp":1646055560676367,"duration":103.001,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders/995"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"43be028fe3d925c2","trace_id":"4b8bbdc2a812dab1cb345569c6bdfa06","parent_id":"aaa802e8011467ce","duration":54.501,"timestamp":1646055561071028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/2","full":"http://opbeans-go:3000/api/types/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-4b8bbdc2a812dab1cb345569c6bdfa06-aaa802e8011467ce-01","traceparent":"00-4b8bbdc2a812dab1cb345569c6bdfa06-aaa802e8011467ce-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:21 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"221","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"c5e68a453e9d1b03","transaction_id":"43be028fe3d925c2","parent_id":"43be028fe3d925c2","trace_id":"4b8bbdc2a812dab1cb345569c6bdfa06","subtype":"http","action":"GET","timestamp":1646055561076871,"duration":44.051,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"51f59e8121887186","transaction_id":"8b17ea1bab75d0b4","parent_id":"8b17ea1bab75d0b4","trace_id":"e4b449b99df757f5def0e251a39e2ec8","subtype":"postgresql","action":"query","timestamp":1646055561159098,"duration":8.328,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"8b17ea1bab75d0b4","trace_id":"e4b449b99df757f5def0e251a39e2ec8","parent_id":"506f6756d0ac3677","duration":35.637,"timestamp":1646055561144028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/974","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/974","full":"http://opbeans-go:3000/api/customers/974"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-e4b449b99df757f5def0e251a39e2ec8-506f6756d0ac3677-01","traceparent":"00-e4b449b99df757f5def0e251a39e2ec8-506f6756d0ac3677-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"196","etag":"W/\"c4-/VcbUDizWngDv9C9BnTg38dfTu0\"","date":"Mon, 28 Feb 2022 13:39:21 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"794e6846b8632f62","trace_id":"18af4b7e5b90499912586afd17caabd1","duration":50.434,"timestamp":1646055561237022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/212","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/212","full":"http://opbeans-node:3000/api/orders/212"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:21 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"df7bd37fcdfe6b57","transaction_id":"794e6846b8632f62","parent_id":"794e6846b8632f62","trace_id":"18af4b7e5b90499912586afd17caabd1","subtype":"postgresql","action":"query","timestamp":1646055561260636,"duration":13.996,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"1a293c9d3120969d","transaction_id":"3e8f1cde44bf760a","parent_id":"3e8f1cde44bf760a","trace_id":"46b9c487b5cba0cc1eb496a4af1ae1ca","subtype":"redis","action":null,"timestamp":1646055561360747,"duration":4.688,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"3e8f1cde44bf760a","trace_id":"46b9c487b5cba0cc1eb496a4af1ae1ca","parent_id":"546a08608a738a89","duration":70.386,"timestamp":1646055561344068,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders","full":"http://opbeans-go:3000/api/orders"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-46b9c487b5cba0cc1eb496a4af1ae1ca-546a08608a738a89-01","traceparent":"00-46b9c487b5cba0cc1eb496a4af1ae1ca-546a08608a738a89-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:39:21 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"c04e104446d982cc","transaction_id":"3e8f1cde44bf760a","parent_id":"3e8f1cde44bf760a","trace_id":"46b9c487b5cba0cc1eb496a4af1ae1ca","subtype":"postgresql","action":"query","timestamp":1646055561381693,"duration":13.808,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 4xx","id":"1f9028b49cf42a70","trace_id":"3733ad1dad5bf0eb6040ee66d2adc7a8","parent_id":"3c58ac6baf68c68e","duration":67.998,"timestamp":1646055561511021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/8186","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/8186","full":"http://opbeans-go:3000/api/customers/8186"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-3733ad1dad5bf0eb6040ee66d2adc7a8-3c58ac6baf68c68e-01","traceparent":"00-3733ad1dad5bf0eb6040ee66d2adc7a8-3c58ac6baf68c68e-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:21 GMT","connection":"keep-alive","keep-alive":"timeout=5","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"9a2a4bce7611bbd1","transaction_id":"1f9028b49cf42a70","parent_id":"1f9028b49cf42a70","trace_id":"3733ad1dad5bf0eb6040ee66d2adc7a8","subtype":"postgresql","action":"query","timestamp":1646055561516840,"duration":31.151,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"1399573734200dfa","trace_id":"fefd311e6b201082119f58c9fe99056e","parent_id":"b9c4e42faad75925","duration":35.722,"timestamp":1646055561789035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:21 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"0458cb8f6e40646f","transaction_id":"7e5bb5fd56176501","parent_id":"7e5bb5fd56176501","trace_id":"1faf5624ea8bca82f9d9efe43cfbf5dc","subtype":"postgresql","action":"query","timestamp":1646055562226046,"duration":6.479,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"7e5bb5fd56176501","trace_id":"1faf5624ea8bca82f9d9efe43cfbf5dc","duration":22.354,"timestamp":1646055562217021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/485","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/485","full":"http://opbeans-node:3000/api/orders/485"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:22 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"2ecb48332d2e79de","transaction_id":"4eb26ffbf5addec1","parent_id":"4eb26ffbf5addec1","trace_id":"fcfa8650acb5081a0dd04a83a25b0a41","subtype":"postgresql","action":"query","timestamp":1646055562297424,"duration":2.989,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f2ef576b91cbf9e1","transaction_id":"4eb26ffbf5addec1","parent_id":"4eb26ffbf5addec1","trace_id":"fcfa8650acb5081a0dd04a83a25b0a41","subtype":"postgresql","action":"query","timestamp":1646055562301683,"duration":6.338,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0b65c41915cc6232","transaction_id":"4eb26ffbf5addec1","parent_id":"4eb26ffbf5addec1","trace_id":"fcfa8650acb5081a0dd04a83a25b0a41","subtype":"postgresql","action":"query","timestamp":1646055562303554,"duration":6.133,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"99fe8dcffc196348","transaction_id":"4eb26ffbf5addec1","parent_id":"4eb26ffbf5addec1","trace_id":"fcfa8650acb5081a0dd04a83a25b0a41","subtype":"postgresql","action":"query","timestamp":1646055562305226,"duration":5.857,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"4eb26ffbf5addec1","trace_id":"fcfa8650acb5081a0dd04a83a25b0a41","parent_id":"806689d33dbab1dc","duration":25.439,"timestamp":1646055562292021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-fcfa8650acb5081a0dd04a83a25b0a41-806689d33dbab1dc-01","traceparent":"00-fcfa8650acb5081a0dd04a83a25b0a41-806689d33dbab1dc-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:22 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ce29e145fcc93d09","trace_id":"261e64bbb3838a6126feb766932673da","parent_id":"62e9c0b59b971e7e","duration":158.504,"timestamp":1646055562398025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-261e64bbb3838a6126feb766932673da-62e9c0b59b971e7e-01","traceparent":"00-261e64bbb3838a6126feb766932673da-62e9c0b59b971e7e-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:22 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"0236b733ee48f1d5","transaction_id":"ce29e145fcc93d09","parent_id":"ce29e145fcc93d09","trace_id":"261e64bbb3838a6126feb766932673da","subtype":"http","action":"GET","timestamp":1646055562404027,"duration":143.818,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0306e14fc5ec5367","trace_id":"ed0e3c4e98e155548b18445df38f2981","parent_id":"25a309e683d52b25","duration":96.49,"timestamp":1646055562580024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-ed0e3c4e98e155548b18445df38f2981-25a309e683d52b25-01","traceparent":"00-ed0e3c4e98e155548b18445df38f2981-25a309e683d52b25-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","cache-control":"max-age=0, private, must-revalidate","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:22 GMT","etag":"W/\"e7a2362bf423f315691b319c14409fa6\"","referrer-policy":"strict-origin-when-cross-origin","x-content-type-options":"nosniff","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-request-id":"abea434a-4148-4bd5-826b-9ade103f063c","x-runtime":"0.049112","x-xss-protection":"1; mode=block","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"ca3da16aa1178e92","transaction_id":"0306e14fc5ec5367","parent_id":"0306e14fc5ec5367","trace_id":"ed0e3c4e98e155548b18445df38f2981","subtype":"http","action":"GET","timestamp":1646055562595075,"duration":74.158,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"94c7d3627733f119","transaction_id":"b27e1f9f2956184b","parent_id":"b27e1f9f2956184b","trace_id":"35e2bc0e77e2e37e9da49045ce784e3a","subtype":"redis","action":null,"timestamp":1646055562740707,"duration":5.124,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"cce330b3a8ddaf14","transaction_id":"b27e1f9f2956184b","parent_id":"b27e1f9f2956184b","trace_id":"35e2bc0e77e2e37e9da49045ce784e3a","subtype":"postgresql","action":"query","timestamp":1646055562747912,"duration":2.945,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"b27e1f9f2956184b","trace_id":"35e2bc0e77e2e37e9da49045ce784e3a","duration":32.953,"timestamp":1646055562722022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:39:22 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /throw-error","type":"request","result":"HTTP 5xx","id":"c0c634a706d00404","trace_id":"3a7cc600a22f762f1eb33c9b73d40038","duration":32.136,"timestamp":1646055563222038,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/throw-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/throw-error","full":"http://opbeans-node:3000/throw-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:39:23 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"07cf763f97d9aaae","transaction_id":"4174871e17e701c9","parent_id":"4174871e17e701c9","trace_id":"bd8ec389c86631fbe288185dff591e63","subtype":"postgresql","action":"query","timestamp":1646055563380428,"duration":4.915,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"4174871e17e701c9","trace_id":"bd8ec389c86631fbe288185dff591e63","parent_id":"cbce83d6003f9d88","duration":25.611,"timestamp":1646055563369045,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/6/customers","full":"http://opbeans-go:3000/api/products/6/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-bd8ec389c86631fbe288185dff591e63-cbce83d6003f9d88-01","traceparent":"00-bd8ec389c86631fbe288185dff591e63-cbce83d6003f9d88-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:39:23 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"d58b8b473239200e","transaction_id":"d1c04a4fd5729312","parent_id":"d1c04a4fd5729312","trace_id":"4ce7798d7dcc100fef365ebb30e3b7bc","subtype":"postgresql","action":"query","timestamp":1646055563756487,"duration":4.401,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"d1c04a4fd5729312","trace_id":"4ce7798d7dcc100fef365ebb30e3b7bc","duration":25.685,"timestamp":1646055563740026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/438","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/438","full":"http://opbeans-node:3000/api/orders/438"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:23 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"35f529d42b64cdef","transaction_id":"b32c66d664d3d017","parent_id":"b32c66d664d3d017","trace_id":"c752927b26a406415134a028f806c4a3","subtype":"redis","action":null,"timestamp":1646055563871822,"duration":9.516,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"b32c66d664d3d017","trace_id":"c752927b26a406415134a028f806c4a3","parent_id":"2de967892cf11232","duration":63.224,"timestamp":1646055563857088,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-c752927b26a406415134a028f806c4a3-2de967892cf11232-01","traceparent":"00-c752927b26a406415134a028f806c4a3-2de967892cf11232-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:39:23 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"2f59a29985405bdc","transaction_id":"b32c66d664d3d017","parent_id":"b32c66d664d3d017","trace_id":"c752927b26a406415134a028f806c4a3","subtype":"postgresql","action":"query","timestamp":1646055563884959,"duration":16.648,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"6fbae67e20c850c8","trace_id":"28ca90171900eeb3260f1dc85c1e8677","parent_id":"7e3cc8e223ac09ad","duration":137.77,"timestamp":1646055563986038,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6/customers?limit=70","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/6/customers","search":"?limit=70","full":"http://opbeans-go:3000/api/products/6/customers?limit=70"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-28ca90171900eeb3260f1dc85c1e8677-7e3cc8e223ac09ad-01","traceparent":"00-28ca90171900eeb3260f1dc85c1e8677-7e3cc8e223ac09ad-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"e4763b7c6f912f9b655fa667d293bf0c\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"19c84915-1828-4c67-ade6-6f4a731708c9","x-runtime":"0.058075","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:24 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"34720eba4cc79706","transaction_id":"6fbae67e20c850c8","parent_id":"6fbae67e20c850c8","trace_id":"28ca90171900eeb3260f1dc85c1e8677","subtype":"http","action":"GET","timestamp":1646055564011623,"duration":104.815,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/6/customers?limit=70"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"af5ea40ddeb35389","trace_id":"1ae1fdb16e807d75679ffde0daf070f5","duration":171.549,"timestamp":1646055564287030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/154","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/154","full":"http://opbeans-node:3000/api/customers/154"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:24 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"202","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"fe9602b3b5b9789e","transaction_id":"af5ea40ddeb35389","parent_id":"af5ea40ddeb35389","trace_id":"1ae1fdb16e807d75679ffde0daf070f5","subtype":"http","action":"GET","timestamp":1646055564304170,"duration":120.12,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/154"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"08d8f61bd47d17a6","transaction_id":"ebc6cf73b3acee49","parent_id":"ebc6cf73b3acee49","trace_id":"fba1efce5c3c1b6a8c7af5d2b88463b9","subtype":"redis","action":null,"timestamp":1646055564514112,"duration":9.379,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"55d947f0cf24d509","transaction_id":"ebc6cf73b3acee49","parent_id":"ebc6cf73b3acee49","trace_id":"fba1efce5c3c1b6a8c7af5d2b88463b9","subtype":"postgresql","action":"query","timestamp":1646055564527321,"duration":38.173,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"ebc6cf73b3acee49","trace_id":"fba1efce5c3c1b6a8c7af5d2b88463b9","parent_id":"20ffa32d66e6d476","duration":110.171,"timestamp":1646055564503020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-fba1efce5c3c1b6a8c7af5d2b88463b9-20ffa32d66e6d476-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-fba1efce5c3c1b6a8c7af5d2b88463b9-20ffa32d66e6d476-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:39:24 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"9b4f650a9e382ea9","trace_id":"289168f5db239e21864c07480d33788c","parent_id":"b75f0577509c0d9d","duration":24.97,"timestamp":1646055564723040,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:24 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"1b167f24e461cdbb","trace_id":"5edd6ecea06211b443ed37ac36a8879f","parent_id":"7f1400f9cd498535","duration":89.887,"timestamp":1646055564790033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-5edd6ecea06211b443ed37ac36a8879f-7f1400f9cd498535-01","elastic-apm-traceparent":"00-5edd6ecea06211b443ed37ac36a8879f-7f1400f9cd498535-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:24 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"51d47c94afadd7c2","transaction_id":"1b167f24e461cdbb","parent_id":"1b167f24e461cdbb","trace_id":"5edd6ecea06211b443ed37ac36a8879f","subtype":"http","action":"GET","timestamp":1646055564795912,"duration":79.712,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types/1"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c66fa6a2f219f603","trace_id":"5edd6ecea06211b443ed37ac36a8879f","parent_id":"e513b79256911050","duration":227.931,"timestamp":1646055564671029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/1","full":"http://opbeans-go:3000/api/types/1"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-5edd6ecea06211b443ed37ac36a8879f-e513b79256911050-01","traceparent":"00-5edd6ecea06211b443ed37ac36a8879f-e513b79256911050-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:24 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"233","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"ba532f56bb11c4c9","transaction_id":"c66fa6a2f219f603","parent_id":"c66fa6a2f219f603","trace_id":"5edd6ecea06211b443ed37ac36a8879f","subtype":"http","action":"GET","timestamp":1646055564681368,"duration":212.747,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types/1"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3b535aede4ab0d85","trace_id":"5edd6ecea06211b443ed37ac36a8879f","parent_id":"d54c6782bccb8a42","duration":273.896,"timestamp":1646055564642041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/1","full":"http://opbeans-go:3000/api/types/1"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-5edd6ecea06211b443ed37ac36a8879f-d54c6782bccb8a42-01","traceparent":"00-5edd6ecea06211b443ed37ac36a8879f-d54c6782bccb8a42-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"233","content-type":"application/json","date":"Mon, 28 Feb 2022 13:39:24 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"780a218a6fb146ed","transaction_id":"3b535aede4ab0d85","parent_id":"3b535aede4ab0d85","trace_id":"5edd6ecea06211b443ed37ac36a8879f","subtype":"http","action":"GET","timestamp":1646055564653131,"duration":259.293,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/1"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"75b74ce96193c648","transaction_id":"ade1c58a46575d55","parent_id":"ade1c58a46575d55","trace_id":"11339582d4cd787399d89c2137765c1e","subtype":"postgresql","action":"query","timestamp":1646055564975969,"duration":5.61,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"ade1c58a46575d55","trace_id":"11339582d4cd787399d89c2137765c1e","parent_id":"5d35652689a3e2d4","duration":39.241,"timestamp":1646055564957020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers?limit=70","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2/customers","search":"?limit=70","full":"http://opbeans-go:3000/api/products/2/customers?limit=70"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-11339582d4cd787399d89c2137765c1e-5d35652689a3e2d4-01","traceparent":"00-11339582d4cd787399d89c2137765c1e-5d35652689a3e2d4-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"4827","etag":"W/\"12db-CVjfNlJXPDdUOB1pLPihBDfjg34\"","date":"Mon, 28 Feb 2022 13:39:24 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"bf37e641f43936a8","transaction_id":"3a4de9bb4ab082a7","parent_id":"3a4de9bb4ab082a7","trace_id":"7145ee82208513d0c73d3fbe4d5f33af","subtype":"postgresql","action":"query","timestamp":1646055565133192,"duration":53.23,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"05c1337e261d55bb","transaction_id":"3a4de9bb4ab082a7","parent_id":"3a4de9bb4ab082a7","trace_id":"7145ee82208513d0c73d3fbe4d5f33af","subtype":"postgresql","action":"query","timestamp":1646055565147306,"duration":58.496,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"b764e107ac81f4eb","transaction_id":"3a4de9bb4ab082a7","parent_id":"3a4de9bb4ab082a7","trace_id":"7145ee82208513d0c73d3fbe4d5f33af","subtype":"postgresql","action":"query","timestamp":1646055565162834,"duration":123.64,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"ef4e80b1abb5fb85","transaction_id":"3a4de9bb4ab082a7","parent_id":"3a4de9bb4ab082a7","trace_id":"7145ee82208513d0c73d3fbe4d5f33af","subtype":"postgresql","action":"query","timestamp":1646055565361987,"duration":18.849,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"3a4de9bb4ab082a7","trace_id":"7145ee82208513d0c73d3fbe4d5f33af","parent_id":"beb4ae303d9cd9b4","duration":318.797,"timestamp":1646055565115030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"python-requests/2.27.1","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-7145ee82208513d0c73d3fbe4d5f33af-beb4ae303d9cd9b4-01","traceparent":"00-7145ee82208513d0c73d3fbe4d5f33af-beb4ae303d9cd9b4-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.11, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:39:25 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f8a3f8f5deeb118f","transaction_id":"3a4de9bb4ab082a7","parent_id":"3a4de9bb4ab082a7","trace_id":"7145ee82208513d0c73d3fbe4d5f33af","subtype":"postgresql","action":"query","timestamp":1646055565391051,"duration":18.806,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c68b2f5f3b5df0d7","transaction_id":"3a4de9bb4ab082a7","parent_id":"3a4de9bb4ab082a7","trace_id":"7145ee82208513d0c73d3fbe4d5f33af","subtype":"postgresql","action":"query","timestamp":1646055565395283,"duration":19.577,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"670ebebbc84335d1","transaction_id":"3a4de9bb4ab082a7","parent_id":"3a4de9bb4ab082a7","trace_id":"7145ee82208513d0c73d3fbe4d5f33af","subtype":"postgresql","action":"query","timestamp":1646055565397977,"duration":23.551,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"c158925aeed0d2fd","trace_id":"cebf333015231d99ca73027d7e5b1361","duration":174.037,"timestamp":1646055565320053,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:39:25 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"6f9800333c7e7223","transaction_id":"21f671ce6613bc35","parent_id":"21f671ce6613bc35","trace_id":"64b259f66e4d6b53117baab17d2cd8e9","subtype":"postgresql","action":"query","timestamp":1646055565821798,"duration":23.368,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"21f671ce6613bc35","trace_id":"64b259f66e4d6b53117baab17d2cd8e9","duration":152.028,"timestamp":1646055565744029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:39:25 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"36787b048dcbd424","transaction_id":"21f671ce6613bc35","parent_id":"21f671ce6613bc35","trace_id":"64b259f66e4d6b53117baab17d2cd8e9","subtype":"postgresql","action":"query","timestamp":1646055565848567,"duration":33.361,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"cb24ca2f509a3f00","trace_id":"7b9f6bc7a05b051a83a06b9bf3846497","parent_id":"1c714154fe004c1b","duration":47.598,"timestamp":1646055566057034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:26 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"Send receipt email","type":"custom","id":"ebb1e6fc7e53ae2f","transaction_id":"f6cba91613defb4d","parent_id":"f6cba91613defb4d","trace_id":"392b6d502ed9c9538972916e0eb85242","subtype":null,"action":null,"timestamp":1646055565579856,"duration":661.52,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":33,"function":"processCompletedOrder","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Process completed order', 'Worker')"],"context_line":"  performSubTasks(['Send receipt email', 'Update inventory'], function () {","post_context":["    apm.endTransaction()","    queue(processCompletedOrder)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"1a7ac8a03e413563","transaction_id":"2dc3540d5bee3912","parent_id":"2dc3540d5bee3912","trace_id":"247a7af1714b4373456f285c029b7666","subtype":"redis","action":null,"timestamp":1646055566268163,"duration":2.013,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"2dc3540d5bee3912","trace_id":"247a7af1714b4373456f285c029b7666","duration":61.859,"timestamp":1646055566254032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:39:26 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"efd348a14ffe57b3","transaction_id":"2dc3540d5bee3912","parent_id":"2dc3540d5bee3912","trace_id":"247a7af1714b4373456f285c029b7666","subtype":"postgresql","action":"query","timestamp":1646055566278171,"duration":19.776,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Process completed order","type":"Worker","result":"success","id":"f6cba91613defb4d","trace_id":"392b6d502ed9c9538972916e0eb85242","duration":966.736,"timestamp":1646055565578074,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Update inventory","type":"custom","id":"56e50aec996a42c7","transaction_id":"f6cba91613defb4d","parent_id":"f6cba91613defb4d","trace_id":"392b6d502ed9c9538972916e0eb85242","subtype":null,"action":null,"timestamp":1646055566264007,"duration":272.638,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7eb78b38512662ca","trace_id":"d09a06dd369a56fa84ac634f7d65f247","parent_id":"8323b96df10ef1e1","duration":8230.376,"timestamp":1646055558495019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-d09a06dd369a56fa84ac634f7d65f247-8323b96df10ef1e1-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-d09a06dd369a56fa84ac634f7d65f247-8323b96df10ef1e1-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:26 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"108580","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"5ff8abc03fbb3d29","transaction_id":"7eb78b38512662ca","parent_id":"7eb78b38512662ca","trace_id":"d09a06dd369a56fa84ac634f7d65f247","subtype":"http","action":"GET","timestamp":1646055558500577,"duration":8204.92,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"8410a2b9c11183e6","trace_id":"1f42bebcbcc5da961a290b5fffa38342","parent_id":"485abccdf8759953","duration":31.49,"timestamp":1646055566768024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:26 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7dc62aaa659c4c90","trace_id":"fdff1346c5a6fce52c1e8c47195289c5","duration":68.925,"timestamp":1646055567280021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:27 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"123","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"18e68dab0e82078c","transaction_id":"7dc62aaa659c4c90","parent_id":"7dc62aaa659c4c90","trace_id":"fdff1346c5a6fce52c1e8c47195289c5","subtype":"http","action":"GET","timestamp":1646055567291892,"duration":50.602,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"4a6c8f461f2882aa","transaction_id":"6ae3ae0a6e0f32dc","parent_id":"6ae3ae0a6e0f32dc","trace_id":"7b86eac90bee50e9675bc073d74f9a6a","subtype":"postgresql","action":"query","timestamp":1646055567718277,"duration":3.312,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"6ae3ae0a6e0f32dc","trace_id":"7b86eac90bee50e9675bc073d74f9a6a","parent_id":"21cda6cacf6c3f12","duration":27.784,"timestamp":1646055567709030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-node:3000/api/products/5/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-7b86eac90bee50e9675bc073d74f9a6a-21cda6cacf6c3f12-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-7b86eac90bee50e9675bc073d74f9a6a-21cda6cacf6c3f12-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:39:27 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"46ce20e8058673e2","transaction_id":"36251c70685de569","parent_id":"36251c70685de569","trace_id":"618025503d473e285d62dfdb3de747db","subtype":"postgresql","action":"query","timestamp":1646055567808511,"duration":3.835,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"36251c70685de569","trace_id":"618025503d473e285d62dfdb3de747db","parent_id":"99889742310666bb","duration":15.102,"timestamp":1646055567802030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2","full":"http://opbeans-go:3000/api/products/2"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-618025503d473e285d62dfdb3de747db-99889742310666bb-01","traceparent":"00-618025503d473e285d62dfdb3de747db-99889742310666bb-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"242","etag":"W/\"f2-TrZrMcMTUtdW6GY8TQq8W/JG3iU\"","date":"Mon, 28 Feb 2022 13:39:27 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0caf4cf50cc5d3dd","trace_id":"618025503d473e285d62dfdb3de747db","duration":92.962,"timestamp":1646055567756030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2","full":"http://opbeans-node:3000/api/products/2"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:27 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"2a8fd1e06cabd01c","transaction_id":"0caf4cf50cc5d3dd","parent_id":"0caf4cf50cc5d3dd","trace_id":"618025503d473e285d62dfdb3de747db","subtype":"http","action":"GET","timestamp":1646055567769096,"duration":67.57,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"b3aee380f75651ca","transaction_id":"86cedf7903a44273","parent_id":"86cedf7903a44273","trace_id":"692c8a8ee0b25530cac476410b606e08","subtype":"postgresql","action":"query","timestamp":1646055568278893,"duration":7.481,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"86cedf7903a44273","trace_id":"692c8a8ee0b25530cac476410b606e08","duration":34.569,"timestamp":1646055568272026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/696","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/696","full":"http://opbeans-node:3000/api/customers/696"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"194","etag":"W/\"c2-9dkxSRF2fs/cxlsMnaeS/LKfA74\"","date":"Mon, 28 Feb 2022 13:39:28 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"028be5a06ed66856","trace_id":"4352ee8ea5b093096d0854d9bad7598f","parent_id":"8348063ddef6ef71","duration":193.797,"timestamp":1646055568173032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-4352ee8ea5b093096d0854d9bad7598f-8348063ddef6ef71-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-4352ee8ea5b093096d0854d9bad7598f-8348063ddef6ef71-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:28 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"203686","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"ba843f325196d51a","transaction_id":"028be5a06ed66856","parent_id":"028be5a06ed66856","trace_id":"4352ee8ea5b093096d0854d9bad7598f","subtype":"http","action":"GET","timestamp":1646055568179455,"duration":182.396,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"584a81bda80bbad9","transaction_id":"360f8877966ce0bc","parent_id":"360f8877966ce0bc","trace_id":"0f2c3de4422fca56b959d4ac2eff474a","subtype":"postgresql","action":"query","timestamp":1646055568457878,"duration":5.465,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"360f8877966ce0bc","trace_id":"0f2c3de4422fca56b959d4ac2eff474a","parent_id":"9ae9845681523203","duration":23.332,"timestamp":1646055568448020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/296","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/296","full":"http://opbeans-node:3000/api/orders/296"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-0f2c3de4422fca56b959d4ac2eff474a-9ae9845681523203-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-0f2c3de4422fca56b959d4ac2eff474a-9ae9845681523203-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:28 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7301dbaf9a6a4c0e","trace_id":"3f96372a707424048c98e9dbc8751966","parent_id":"a5b0885a1f8ebb30","duration":33.898,"timestamp":1646055568560025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4/customers","full":"http://opbeans-node:3000/api/products/4/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-3f96372a707424048c98e9dbc8751966-a5b0885a1f8ebb30-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-3f96372a707424048c98e9dbc8751966-a5b0885a1f8ebb30-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:28 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"619410f80fc09fc5","transaction_id":"7301dbaf9a6a4c0e","parent_id":"7301dbaf9a6a4c0e","trace_id":"3f96372a707424048c98e9dbc8751966","subtype":"http","action":"GET","timestamp":1646055568569535,"duration":19.05,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/4/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"8d0dc96b9631a7a3","trace_id":"3f96372a707424048c98e9dbc8751966","parent_id":"14e83a9c905a80f4","duration":78.757,"timestamp":1646055568533019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4/customers","full":"http://opbeans-node:3000/api/products/4/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-3f96372a707424048c98e9dbc8751966-14e83a9c905a80f4-01","elastic-apm-traceparent":"00-3f96372a707424048c98e9dbc8751966-14e83a9c905a80f4-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:28 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"b169f3d3363e50dc","transaction_id":"8d0dc96b9631a7a3","parent_id":"8d0dc96b9631a7a3","trace_id":"3f96372a707424048c98e9dbc8751966","subtype":"http","action":"GET","timestamp":1646055568537118,"duration":69.254,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/4/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"49ea5de0f9556566","trace_id":"b9cde2b79f3b667246439461286cd8b1","parent_id":"55933b8fb8486040","duration":20.956,"timestamp":1646055568744028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:28 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"996717e49ef47a56","transaction_id":"34f767690b93c843","parent_id":"34f767690b93c843","trace_id":"81794f0fc6c174914a38d9dbdad4245b","subtype":"postgresql","action":"query","timestamp":1646055568826527,"duration":2.278,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"bec5cd2811e2d114","transaction_id":"34f767690b93c843","parent_id":"34f767690b93c843","trace_id":"81794f0fc6c174914a38d9dbdad4245b","subtype":"postgresql","action":"query","timestamp":1646055568829977,"duration":9.492,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f1595dd2abf1551f","transaction_id":"34f767690b93c843","parent_id":"34f767690b93c843","trace_id":"81794f0fc6c174914a38d9dbdad4245b","subtype":"postgresql","action":"query","timestamp":1646055568831570,"duration":9.892,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"10118618f2e8bb1d","transaction_id":"34f767690b93c843","parent_id":"34f767690b93c843","trace_id":"81794f0fc6c174914a38d9dbdad4245b","subtype":"postgresql","action":"query","timestamp":1646055568836852,"duration":5.95,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"34f767690b93c843","trace_id":"81794f0fc6c174914a38d9dbdad4245b","parent_id":"4d9e45dce0fcea42","duration":26.903,"timestamp":1646055568821019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-81794f0fc6c174914a38d9dbdad4245b-4d9e45dce0fcea42-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-81794f0fc6c174914a38d9dbdad4245b-4d9e45dce0fcea42-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:28 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /is-it-coffee-time","type":"request","result":"HTTP 5xx","id":"8f9029cd188d2df5","trace_id":"14d02c35ed5c0eeb2a82bbd47d1f46df","duration":40.257,"timestamp":1646055569294038,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/is-it-coffee-time","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/is-it-coffee-time","full":"http://opbeans-node:3000/is-it-coffee-time"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:39:29 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4d0274823aee9e95","trace_id":"567481c11b85899d710168df2e1ee89d","parent_id":"54bc55798bd1a0f9","duration":220.134,"timestamp":1646055569188043,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-567481c11b85899d710168df2e1ee89d-54bc55798bd1a0f9-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-567481c11b85899d710168df2e1ee89d-54bc55798bd1a0f9-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:29 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"a66f7f61843ea2aa","transaction_id":"4d0274823aee9e95","parent_id":"4d0274823aee9e95","trace_id":"567481c11b85899d710168df2e1ee89d","subtype":"http","action":"GET","timestamp":1646055569202502,"duration":185.243,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"a633e21a8e22fd41","trace_id":"3b92ba3eccbdab464e919ca80d335c50","duration":111.595,"timestamp":1646055569768086,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"250","etag":"W/\"fa-O2pSp/nl49sefAwhjFNnvOX493Y\"","date":"Mon, 28 Feb 2022 13:39:29 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f6814ce4fa7ab9fc","transaction_id":"a633e21a8e22fd41","parent_id":"a633e21a8e22fd41","trace_id":"3b92ba3eccbdab464e919ca80d335c50","subtype":"postgresql","action":"query","timestamp":1646055569812857,"duration":35.16,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b84f0d22fe1d7643","trace_id":"20c5cf7a03cc4ae392abcd120b35bcdc","parent_id":"1f94b6249f4190e5","duration":51.616,"timestamp":1646055570321021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-20c5cf7a03cc4ae392abcd120b35bcdc-1f94b6249f4190e5-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-20c5cf7a03cc4ae392abcd120b35bcdc-1f94b6249f4190e5-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"658ac86b5b65e3d6724bd91007f7bcdd\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"f5bba735-8d79-4f44-bf03-937cb8021697","x-runtime":"0.016179","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:30 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"1238c086c119b40c","transaction_id":"b84f0d22fe1d7643","parent_id":"b84f0d22fe1d7643","trace_id":"20c5cf7a03cc4ae392abcd120b35bcdc","subtype":"http","action":"GET","timestamp":1646055570326258,"duration":42.12,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types/1"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7caf42db9a597d5c","trace_id":"460b610e102c562cdbb36702449b7fd5","duration":231.625,"timestamp":1646055570240027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:30 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"63aa0e9095853a8b","transaction_id":"7caf42db9a597d5c","parent_id":"7caf42db9a597d5c","trace_id":"460b610e102c562cdbb36702449b7fd5","subtype":"http","action":"GET","timestamp":1646055570244693,"duration":222.837,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"b0332d7d2d87a684","transaction_id":"8587d79392fa7d6b","parent_id":"8587d79392fa7d6b","trace_id":"e1c6148f5281e6ce2f0e8324bce12070","subtype":"redis","action":null,"timestamp":1646055570744519,"duration":4.281,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"8587d79392fa7d6b","trace_id":"e1c6148f5281e6ce2f0e8324bce12070","duration":116.285,"timestamp":1646055570738026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:39:30 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"7fe4eb66c9b86019","transaction_id":"8587d79392fa7d6b","parent_id":"8587d79392fa7d6b","trace_id":"e1c6148f5281e6ce2f0e8324bce12070","subtype":"postgresql","action":"query","timestamp":1646055570750257,"duration":77.09,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-message","type":"request","result":"HTTP 5xx","id":"e79edb4c22188277","trace_id":"a14a008351b7e94a01e67668f85baa63","duration":80.92,"timestamp":1646055571255028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-message","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-message","full":"http://opbeans-node:3000/log-message"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:39:31 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /throw-error","type":"request","result":"HTTP 5xx","id":"22e0f68c4254d8b8","trace_id":"51d418fdfb52561e53ee1a97069e17b2","duration":57.839,"timestamp":1646055571756060,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/throw-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/throw-error","full":"http://opbeans-node:3000/throw-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:39:31 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"1597826cc34959b3","trace_id":"c3bbcc0372d36d792b243c0a3287ea91","parent_id":"87caba5acf7d2287","duration":24.4,"timestamp":1646055572248035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:32 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"07417fde43c3fe2b","trace_id":"1c0f9017c2d8325b0bdf389fe04b6df3","parent_id":"5ebeebd6f9885acc","duration":30.979,"timestamp":1646055572694028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/883","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/883","full":"http://opbeans-go:3000/api/customers/883"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-1c0f9017c2d8325b0bdf389fe04b6df3-5ebeebd6f9885acc-01","traceparent":"00-1c0f9017c2d8325b0bdf389fe04b6df3-5ebeebd6f9885acc-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"191","etag":"W/\"bf-MFOSJAELsSHHZMnvJ3qn7RY19ow\"","date":"Mon, 28 Feb 2022 13:39:32 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"a15b4ed961afa9db","transaction_id":"07417fde43c3fe2b","parent_id":"07417fde43c3fe2b","trace_id":"1c0f9017c2d8325b0bdf389fe04b6df3","subtype":"postgresql","action":"query","timestamp":1646055572703101,"duration":11.706,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"e67a89e474e784dc","transaction_id":"49abd37d64a1843d","parent_id":"49abd37d64a1843d","trace_id":"d973a29d5111a45bae3a1362352cbb7a","subtype":"postgresql","action":"query","timestamp":1646055572896635,"duration":44.83,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"49abd37d64a1843d","trace_id":"d973a29d5111a45bae3a1362352cbb7a","parent_id":"4326fb2673b5ef55","duration":119.543,"timestamp":1646055572878033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/3","full":"http://opbeans-go:3000/api/types/3"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-d973a29d5111a45bae3a1362352cbb7a-4326fb2673b5ef55-01","traceparent":"00-d973a29d5111a45bae3a1362352cbb7a-4326fb2673b5ef55-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:39:32 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"94afdfd5588efc31","transaction_id":"49abd37d64a1843d","parent_id":"49abd37d64a1843d","trace_id":"d973a29d5111a45bae3a1362352cbb7a","subtype":"postgresql","action":"query","timestamp":1646055572957036,"duration":18.328,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"3f641533126a7452","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055572857553,"duration":30.562,"context":{"db":{"statement":"SELECT id FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":307,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    })",""],"context_line":"    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","post_context":["    req.body.lines.forEach(function (line) {","      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"9c45f22f59e46c82","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055572863066,"duration":37.78,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"dacbe871d7978928","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055572868839,"duration":41.446,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"232aec3bf8d48981","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055572870548,"duration":95.674,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"eb3ce3cd96add5d4","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055572872863,"duration":186.285,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"06ef2efffddad35a","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055572874368,"duration":189.679,"context":{"db":{"statement":"SELECT id FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":309,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())","    req.body.lines.forEach(function (line) {"],"context_line":"      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","post_context":["    })","  })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":308,"function":"PendingItem.callback","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","    client.query('SELECT id FROM customers WHERE id=$1', [req.body.customer_id], next())"],"context_line":"    req.body.lines.forEach(function (line) {","post_context":["      client.query('SELECT id FROM products WHERE id=$1', [line.id], next())","    })"]},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ee4ede8179b5f55a","trace_id":"ad001e55d8ea1d30c9ffb1a8d432ee1b","parent_id":"9adaf82f4eb24946","duration":73.081,"timestamp":1646055573070019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-ad001e55d8ea1d30c9ffb1a8d432ee1b-9adaf82f4eb24946-01","traceparent":"00-ad001e55d8ea1d30c9ffb1a8d432ee1b-9adaf82f4eb24946-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:33 GMT","content-length":"112","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"ba33999ade6db628","transaction_id":"ee4ede8179b5f55a","parent_id":"ee4ede8179b5f55a","trace_id":"ad001e55d8ea1d30c9ffb1a8d432ee1b","subtype":"http","action":"GET","timestamp":1646055573083048,"duration":55.063,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"BEGIN","type":"db","id":"9b8e6594f6ec1df5","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055573067072,"duration":28.873,"context":{"db":{"statement":"BEGIN","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":264,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["      }",""],"context_line":"      client.query('BEGIN', function (err) {","post_context":["        if (err) return rollback(err)",""]},{"filename":"node_modules/after-all-results/index.js","lineno":20,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/after-all-results/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO orders","type":"db","id":"360161a9b96fbba3","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055573100956,"duration":10.447,"context":{"db":{"statement":"INSERT INTO orders (customer_id) VALUES ($1) RETURNING id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":269,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["        const sql = 'INSERT INTO orders (customer_id) VALUES ($1) RETURNING id'",""],"context_line":"        client.query(sql, [req.body.customer_id], function (err, result) {","post_context":["          if (err) return rollback(err)",""]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"45b9f4a2a8dafdd9","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055573116429,"duration":11.859,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"08f05df3764b4dfa","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055573118677,"duration":36.651,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"4afe0494c635e78c","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055573120137,"duration":41.644,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"6b8d58a3badfcf93","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055573121547,"duration":53.519,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"INSERT INTO order_lines","type":"db","id":"6ed64c90a307cf31","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055573123231,"duration":64.26,"context":{"db":{"statement":"INSERT INTO order_lines (order_id, product_id, amount) VALUES ($1, $2, $3)","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"server/routes.js","lineno":292,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"],"context_line":"            client.query(sql, [id, line.id, line.amount], next())","post_context":["          })","        })"]},{"filename":"","lineno":0,"function":"forEach","library_frame":true},{"filename":"server/routes.js","lineno":289,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["          })",""],"context_line":"          req.body.lines.forEach(function (line) {","post_context":["            const sql = 'INSERT INTO order_lines (order_id, product_id, amount) ' +","              'VALUES ($1, $2, $3)'"]},{"filename":"node_modules/pg/lib/query.js","lineno":138,"function":"handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/query.js"},{"filename":"node_modules/pg/lib/client.js","lineno":290,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"3caadc93051f1598","trace_id":"f8dbb36e94a3736853d8c09f57044ce8","duration":26.072,"timestamp":1646055573249041,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:33 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"52c79b65847a8126","trace_id":"075465e01f583e919dba528a681ade22","parent_id":"63991a21daf1a9a6","duration":172.33,"timestamp":1646055573166018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-075465e01f583e919dba528a681ade22-63991a21daf1a9a6-01","elastic-apm-traceparent":"00-075465e01f583e919dba528a681ade22-63991a21daf1a9a6-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:33 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"1307","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"21da4cd7e60549d3","transaction_id":"52c79b65847a8126","parent_id":"52c79b65847a8126","trace_id":"075465e01f583e919dba528a681ade22","subtype":"http","action":"GET","timestamp":1646055573172183,"duration":161.885,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"3d296d2aeb3f0a99","transaction_id":"20de38ad1f2b6f91","parent_id":"20de38ad1f2b6f91","trace_id":"1675d88bb0dfe287d9b0586e354ac1da","subtype":"redis","action":null,"timestamp":1646055573429800,"duration":2.126,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"a84d40519cd5889d","transaction_id":"20de38ad1f2b6f91","parent_id":"20de38ad1f2b6f91","trace_id":"1675d88bb0dfe287d9b0586e354ac1da","subtype":"postgresql","action":"query","timestamp":1646055573433905,"duration":26.626,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"20de38ad1f2b6f91","trace_id":"1675d88bb0dfe287d9b0586e354ac1da","parent_id":"06b9e8ecbf0640bb","duration":60.765,"timestamp":1646055573422024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-1675d88bb0dfe287d9b0586e354ac1da-06b9e8ecbf0640bb-01","elastic-apm-traceparent":"00-1675d88bb0dfe287d9b0586e354ac1da-06b9e8ecbf0640bb-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:39:33 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"96d6428f3804c42d","transaction_id":"7443063cf65059f2","parent_id":"7443063cf65059f2","trace_id":"36bbd9cff59142596bffb7bb49320c5b","subtype":"redis","action":null,"timestamp":1646055573549377,"duration":1.951,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"9f6f11c077148953","transaction_id":"7443063cf65059f2","parent_id":"7443063cf65059f2","trace_id":"36bbd9cff59142596bffb7bb49320c5b","subtype":"postgresql","action":"query","timestamp":1646055573552852,"duration":3.068,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"7443063cf65059f2","trace_id":"36bbd9cff59142596bffb7bb49320c5b","parent_id":"b3b9a3cda62d1dad","duration":14.352,"timestamp":1646055573545019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-36bbd9cff59142596bffb7bb49320c5b-b3b9a3cda62d1dad-01","elastic-apm-traceparent":"00-36bbd9cff59142596bffb7bb49320c5b-b3b9a3cda62d1dad-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:39:33 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"025a6fc5f948c508","trace_id":"9d65baad52233bd52212b4a3931b1702","duration":25.173,"timestamp":1646055573746051,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:33 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c869ad9c4752f299","trace_id":"74d28ed4ea91e0546b581a5124ff949b","parent_id":"40b0fcd4e06e9538","duration":90.734,"timestamp":1646055573713037,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/205","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/205","full":"http://opbeans-go:3000/api/customers/205"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-74d28ed4ea91e0546b581a5124ff949b-40b0fcd4e06e9538-01","traceparent":"00-74d28ed4ea91e0546b581a5124ff949b-40b0fcd4e06e9538-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:33 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"dc8b26a292e1413e","transaction_id":"c869ad9c4752f299","parent_id":"c869ad9c4752f299","trace_id":"74d28ed4ea91e0546b581a5124ff949b","subtype":"http","action":"GET","timestamp":1646055573718251,"duration":81.034,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/customers/205"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"437d21ec396d7701","transaction_id":"ce401db3d98db9df","parent_id":"ce401db3d98db9df","trace_id":"67ca42f04ddd35ee0ff48161c92057c9","subtype":"postgresql","action":"query","timestamp":1646055573828369,"duration":2.415,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"ce401db3d98db9df","trace_id":"67ca42f04ddd35ee0ff48161c92057c9","parent_id":"66199449b66ceb77","duration":9.798,"timestamp":1646055573824022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/3","full":"http://opbeans-go:3000/api/products/3"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-67ca42f04ddd35ee0ff48161c92057c9-66199449b66ceb77-01","traceparent":"00-67ca42f04ddd35ee0ff48161c92057c9-66199449b66ceb77-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-kkuzj37GZDzXDh0CWqh5Gan0VO4\"","date":"Mon, 28 Feb 2022 13:39:33 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"f2ccd8eb499a449f","transaction_id":"3fecb2010cbfb25e","parent_id":"3fecb2010cbfb25e","trace_id":"bf6afe19a592c328d83196f89113ba6f","subtype":"redis","action":null,"timestamp":1646055573859761,"duration":1.745,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"dc53146c02ebfe36","transaction_id":"3fecb2010cbfb25e","parent_id":"3fecb2010cbfb25e","trace_id":"bf6afe19a592c328d83196f89113ba6f","subtype":"postgresql","action":"query","timestamp":1646055573862796,"duration":2.409,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"3fecb2010cbfb25e","trace_id":"bf6afe19a592c328d83196f89113ba6f","parent_id":"600eed443206fd4e","duration":12.302,"timestamp":1646055573856104,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-bf6afe19a592c328d83196f89113ba6f-600eed443206fd4e-01","elastic-apm-traceparent":"00-bf6afe19a592c328d83196f89113ba6f-600eed443206fd4e-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:39:33 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"3ca7ee98ca87b1bb","transaction_id":"2f12668c37b98808","parent_id":"2f12668c37b98808","trace_id":"4de0195b4bc52372ecc7d58ba9447e5e","subtype":"postgresql","action":"query","timestamp":1646055574149232,"duration":3.014,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"2f12668c37b98808","trace_id":"4de0195b4bc52372ecc7d58ba9447e5e","parent_id":"90d41100ca33cd92","duration":13.036,"timestamp":1646055574144027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/588","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/588","full":"http://opbeans-node:3000/api/customers/588"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-4de0195b4bc52372ecc7d58ba9447e5e-90d41100ca33cd92-01","elastic-apm-traceparent":"00-4de0195b4bc52372ecc7d58ba9447e5e-90d41100ca33cd92-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"184","etag":"W/\"b8-Jb70+WMGOo5/NTfHWaEdKwd6Wqo\"","date":"Mon, 28 Feb 2022 13:39:34 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"8b1acd58af52f470","transaction_id":"eb05c1724d31c92a","parent_id":"eb05c1724d31c92a","trace_id":"2ef29069f552c1cd3b50be3ab5ddcf23","subtype":"postgresql","action":"query","timestamp":1646055574207663,"duration":2.987,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e26602e42829fd93","transaction_id":"eb05c1724d31c92a","parent_id":"eb05c1724d31c92a","trace_id":"2ef29069f552c1cd3b50be3ab5ddcf23","subtype":"postgresql","action":"query","timestamp":1646055574219833,"duration":8.613,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"eb05c1724d31c92a","trace_id":"2ef29069f552c1cd3b50be3ab5ddcf23","parent_id":"d89ce436fcd3d011","duration":29.551,"timestamp":1646055574202021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-2ef29069f552c1cd3b50be3ab5ddcf23-d89ce436fcd3d011-01","elastic-apm-traceparent":"00-2ef29069f552c1cd3b50be3ab5ddcf23-d89ce436fcd3d011-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:34 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8c07f9d28116f6b7","transaction_id":"eb05c1724d31c92a","parent_id":"eb05c1724d31c92a","trace_id":"2ef29069f552c1cd3b50be3ab5ddcf23","subtype":"postgresql","action":"query","timestamp":1646055574212620,"duration":10.217,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d1e29ea7bc5d8726","transaction_id":"eb05c1724d31c92a","parent_id":"eb05c1724d31c92a","trace_id":"2ef29069f552c1cd3b50be3ab5ddcf23","subtype":"postgresql","action":"query","timestamp":1646055574214712,"duration":11.032,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"fd11e4d02dbad2f9","transaction_id":"aef6d096a9379776","parent_id":"aef6d096a9379776","trace_id":"e0e3c6edf4701134a8de7d7386bbb615","subtype":"postgresql","action":"query","timestamp":1646055574250000,"duration":10.286,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"1857e6b22cd9aebf","transaction_id":"aef6d096a9379776","parent_id":"aef6d096a9379776","trace_id":"e0e3c6edf4701134a8de7d7386bbb615","subtype":"postgresql","action":"query","timestamp":1646055574251818,"duration":11.287,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"28631bf130be11b6","transaction_id":"aef6d096a9379776","parent_id":"aef6d096a9379776","trace_id":"e0e3c6edf4701134a8de7d7386bbb615","subtype":"postgresql","action":"query","timestamp":1646055574253708,"duration":11.986,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"291c2a364cb9ac0f","transaction_id":"aef6d096a9379776","parent_id":"aef6d096a9379776","trace_id":"e0e3c6edf4701134a8de7d7386bbb615","subtype":"postgresql","action":"query","timestamp":1646055574280280,"duration":8.499,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"aef6d096a9379776","trace_id":"e0e3c6edf4701134a8de7d7386bbb615","duration":82.89,"timestamp":1646055574245020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:39:34 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"89a991b740a3d27a","transaction_id":"aef6d096a9379776","parent_id":"aef6d096a9379776","trace_id":"e0e3c6edf4701134a8de7d7386bbb615","subtype":"postgresql","action":"query","timestamp":1646055574295637,"duration":14.665,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"cfbf0dd4b9beadde","transaction_id":"aef6d096a9379776","parent_id":"aef6d096a9379776","trace_id":"e0e3c6edf4701134a8de7d7386bbb615","subtype":"postgresql","action":"query","timestamp":1646055574298810,"duration":15.872,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e4f9848d107ac1d4","transaction_id":"aef6d096a9379776","parent_id":"aef6d096a9379776","trace_id":"e0e3c6edf4701134a8de7d7386bbb615","subtype":"postgresql","action":"query","timestamp":1646055574301540,"duration":17.151,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"Fetch package status for all orders","type":"custom","id":"8c6d685c04dfcc8f","transaction_id":"d46f4819e096d988","parent_id":"d46f4819e096d988","trace_id":"7c9f2e1b75c2cb7d4794a3bf6a57914c","subtype":null,"action":null,"timestamp":1646055573573230,"duration":841.313,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":43,"function":"updateShippingStatus","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Update shipping status', 'Worker')"],"context_line":"  performSubTasks(['Fetch package status for all orders', 'Send tracking emails'], function () {","post_context":["    apm.endTransaction()","    queue(updateShippingStatus)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"72a769a8047eb99f","transaction_id":"65e465d3ab47ce76","parent_id":"65e465d3ab47ce76","trace_id":"d60eaefd5ec810d135ca5651078b22cb","subtype":"postgresql","action":"query","timestamp":1646055574759983,"duration":4.447,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"65e465d3ab47ce76","trace_id":"d60eaefd5ec810d135ca5651078b22cb","duration":24.404,"timestamp":1646055574748036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers?count=orders&limit=50","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","search":"?count=orders&limit=50","full":"http://opbeans-node:3000/api/products/5/customers?count=orders&limit=50"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:39:34 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f7b12819307abec8","trace_id":"5bbfa5212169624d91f7f551040bb7c2","parent_id":"510420c53b274a79","duration":52.606,"timestamp":1646055574936036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers?limit=80","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/3/customers","search":"?limit=80","full":"http://opbeans-go:3000/api/products/3/customers?limit=80"},"headers":{"host":"opbeans-go:3000","user-agent":"python-requests/2.27.1","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-5bbfa5212169624d91f7f551040bb7c2-510420c53b274a79-01","traceparent":"00-5bbfa5212169624d91f7f551040bb7c2-510420c53b274a79-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.11"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"e4763b7c6f912f9b655fa667d293bf0c\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"db5b4db6-0cea-48ce-941b-16522ab620c2","x-runtime":"0.023094","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:34 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"0a30b32dc90286e1","transaction_id":"f7b12819307abec8","parent_id":"f7b12819307abec8","trace_id":"5bbfa5212169624d91f7f551040bb7c2","subtype":"http","action":"GET","timestamp":1646055574941121,"duration":42.204,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/3/customers?limit=80"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Update shipping status","type":"Worker","result":"success","id":"d46f4819e096d988","trace_id":"7c9f2e1b75c2cb7d4794a3bf6a57914c","duration":1516.468,"timestamp":1646055573571848,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Send tracking emails","type":"custom","id":"9ac27428a8c7e4cf","transaction_id":"d46f4819e096d988","parent_id":"d46f4819e096d988","trace_id":"7c9f2e1b75c2cb7d4794a3bf6a57914c","subtype":null,"action":null,"timestamp":1646055574433366,"duration":652.693,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"173b89566103064a","transaction_id":"f6a9515492de0a62","parent_id":"f6a9515492de0a62","trace_id":"be7f0723132ad7840fb9466d4cb2df76","subtype":"postgresql","action":"query","timestamp":1646055575246369,"duration":2.602,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"110b6284881700cc","transaction_id":"f6a9515492de0a62","parent_id":"f6a9515492de0a62","trace_id":"be7f0723132ad7840fb9466d4cb2df76","subtype":"postgresql","action":"query","timestamp":1646055575250393,"duration":6.597,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ffebcfbbd87699c5","transaction_id":"f6a9515492de0a62","parent_id":"f6a9515492de0a62","trace_id":"be7f0723132ad7840fb9466d4cb2df76","subtype":"postgresql","action":"query","timestamp":1646055575252811,"duration":5.471,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"87fd5dde6eb4cf6d","transaction_id":"f6a9515492de0a62","parent_id":"f6a9515492de0a62","trace_id":"be7f0723132ad7840fb9466d4cb2df76","subtype":"postgresql","action":"query","timestamp":1646055575254671,"duration":5.025,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"f6a9515492de0a62","trace_id":"be7f0723132ad7840fb9466d4cb2df76","duration":20.619,"timestamp":1646055575242021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:35 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"ad8cc1a45716c7c3","transaction_id":"30fdd0be62593a78","parent_id":"30fdd0be62593a78","trace_id":"e2bfaa2e80f5f9f7c5232bf6aba2d791","subtype":"http","action":"GET","timestamp":1646055575414306,"duration":7.994,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"30fdd0be62593a78","trace_id":"e2bfaa2e80f5f9f7c5232bf6aba2d791","parent_id":"a0a0dc2dc313976f","duration":17.417,"timestamp":1646055575410028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-e2bfaa2e80f5f9f7c5232bf6aba2d791-a0a0dc2dc313976f-01","traceparent":"00-e2bfaa2e80f5f9f7c5232bf6aba2d791-a0a0dc2dc313976f-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"112","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:35 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"6562e354abe7dcb2","transaction_id":"03799890d794e74d","parent_id":"03799890d794e74d","trace_id":"3580d2942f451a703ca1eb0da8a01b1b","subtype":"postgresql","action":"query","timestamp":1646055575480061,"duration":4.683,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"03799890d794e74d","trace_id":"3580d2942f451a703ca1eb0da8a01b1b","parent_id":"a920184071ea2e5b","duration":16.125,"timestamp":1646055575475021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/1/customers","full":"http://opbeans-node:3000/api/products/1/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-3580d2942f451a703ca1eb0da8a01b1b-a920184071ea2e5b-01","elastic-apm-traceparent":"00-3580d2942f451a703ca1eb0da8a01b1b-a920184071ea2e5b-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1299","etag":"W/\"513-SatyJ8cM4py92/C0bKaTe9W8iAk\"","date":"Mon, 28 Feb 2022 13:39:35 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-message","type":"request","result":"HTTP 5xx","id":"ecef9bb7d133561c","trace_id":"ae4daa3c679a59473227f25613b70b1f","duration":62.679,"timestamp":1646055575756074,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-message","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-message","full":"http://opbeans-node:3000/log-message"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:39:35 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7189a0e0d00ed518","trace_id":"6e84069221aa3b35604d7002fba59ddc","parent_id":"bc8af74b99cbdbc1","duration":96.651,"timestamp":1646055575883022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/6/customers","full":"http://opbeans-node:3000/api/products/6/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-6e84069221aa3b35604d7002fba59ddc-bc8af74b99cbdbc1-01","elastic-apm-traceparent":"00-6e84069221aa3b35604d7002fba59ddc-bc8af74b99cbdbc1-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:35 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"f1bb3f0b05d8d784","transaction_id":"7189a0e0d00ed518","parent_id":"7189a0e0d00ed518","trace_id":"6e84069221aa3b35604d7002fba59ddc","subtype":"http","action":"GET","timestamp":1646055575887584,"duration":85.514,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/6/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"5bcbd4bf7b8ef8b9","trace_id":"48ebaf636e73c30316a495b44effb768","parent_id":"6b8a288f4121c678","duration":15.209,"timestamp":1646055576188030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:36 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"b7034a0195cd1a4d","trace_id":"75cc862c286b4bd1c6eee24ae264eb52","parent_id":"5696cc34dc3281fd","duration":7.414,"timestamp":1646055576254026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:36 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"1126cdbdb2dea793","trace_id":"00dd134dbc54bf1ee5b03d47fdff3642","parent_id":"7ac263b4b18d650a","duration":49.767,"timestamp":1646055576530034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-00dd134dbc54bf1ee5b03d47fdff3642-7ac263b4b18d650a-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-00dd134dbc54bf1ee5b03d47fdff3642-7ac263b4b18d650a-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:36 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"309","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"8a4ca1ce872c179e","transaction_id":"1126cdbdb2dea793","parent_id":"1126cdbdb2dea793","trace_id":"00dd134dbc54bf1ee5b03d47fdff3642","subtype":"http","action":"GET","timestamp":1646055576534822,"duration":40.968,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"31ade6b4cf3a552d","trace_id":"6b7e89af28c715f9cad02365b7ea088e","parent_id":"076f4fa53a267cf5","duration":56.199,"timestamp":1646055576618023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-6b7e89af28c715f9cad02365b7ea088e-076f4fa53a267cf5-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-6b7e89af28c715f9cad02365b7ea088e-076f4fa53a267cf5-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:36 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"d634312cb9a6e409","transaction_id":"31ade6b4cf3a552d","parent_id":"31ade6b4cf3a552d","trace_id":"6b7e89af28c715f9cad02365b7ea088e","subtype":"http","action":"GET","timestamp":1646055576622116,"duration":48.125,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/3"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7ef5571213ed1360","trace_id":"de35a540ca480af6889afff88d8dcbc9","parent_id":"9fac329f53191930","duration":31.677,"timestamp":1646055576721028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-de35a540ca480af6889afff88d8dcbc9-9fac329f53191930-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-de35a540ca480af6889afff88d8dcbc9-9fac329f53191930-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:36 GMT","content-length":"403","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"33acd62c8e56bb84","transaction_id":"7ef5571213ed1360","parent_id":"7ef5571213ed1360","trace_id":"de35a540ca480af6889afff88d8dcbc9","subtype":"http","action":"GET","timestamp":1646055576726208,"duration":10.1,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"863752ad4cca7d79","transaction_id":"4233e0b043f0479c","parent_id":"4233e0b043f0479c","trace_id":"7948692ff90dffe6d15aed728c0f914a","subtype":"postgresql","action":"query","timestamp":1646055576828823,"duration":7.614,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"4233e0b043f0479c","trace_id":"7948692ff90dffe6d15aed728c0f914a","parent_id":"f34cdeacc42fae84","duration":34.524,"timestamp":1646055576816047,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/860","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/860","full":"http://opbeans-node:3000/api/customers/860"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-7948692ff90dffe6d15aed728c0f914a-f34cdeacc42fae84-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-7948692ff90dffe6d15aed728c0f914a-f34cdeacc42fae84-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"172","etag":"W/\"ac-c0PsVaXoeypSJWWQCTIl0OCYpME\"","date":"Mon, 28 Feb 2022 13:39:36 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a979d539f5031624","trace_id":"61df6f1114d2f29dd22fc61fef644c7b","duration":139.728,"timestamp":1646055576779017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"203686","content-type":"application/json","date":"Mon, 28 Feb 2022 13:39:36 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"e56709c03fb01378","transaction_id":"a979d539f5031624","parent_id":"a979d539f5031624","trace_id":"61df6f1114d2f29dd22fc61fef644c7b","subtype":"http","action":"GET","timestamp":1646055576784520,"duration":129.118,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"Validate CC","type":"custom","id":"529c0f33c3aa444e","transaction_id":"e6399e5b124b4dc5","parent_id":"e6399e5b124b4dc5","trace_id":"25fd326b45f0478e4cd5248f5c63f8e1","subtype":null,"action":null,"timestamp":1646055576877201,"duration":70.851,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":23,"function":"processPayment","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Process payment', 'Worker')"],"context_line":"  performSubTasks(['Validate CC', 'Reserve funds'], function () {","post_context":["    apm.endTransaction()","    queue(processPayment)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"2a62a7f8d90e4122","transaction_id":"ac5d702f40a5c7f7","parent_id":"ac5d702f40a5c7f7","trace_id":"996aca2879ccc1898ed4de99cf1f4dbe","subtype":"postgresql","action":"query","timestamp":1646055577071541,"duration":8.441,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"2a418b3f46bd108c","transaction_id":"ac5d702f40a5c7f7","parent_id":"ac5d702f40a5c7f7","trace_id":"996aca2879ccc1898ed4de99cf1f4dbe","subtype":"postgresql","action":"query","timestamp":1646055577073327,"duration":8.191,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"155276222483bebd","transaction_id":"ac5d702f40a5c7f7","parent_id":"ac5d702f40a5c7f7","trace_id":"996aca2879ccc1898ed4de99cf1f4dbe","subtype":"postgresql","action":"query","timestamp":1646055577075352,"duration":7.336,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"a3a63aafde1e78a4","transaction_id":"ac5d702f40a5c7f7","parent_id":"ac5d702f40a5c7f7","trace_id":"996aca2879ccc1898ed4de99cf1f4dbe","subtype":"postgresql","action":"query","timestamp":1646055577077142,"duration":6.843,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"467e1df97092e43f","transaction_id":"ac5d702f40a5c7f7","parent_id":"ac5d702f40a5c7f7","trace_id":"996aca2879ccc1898ed4de99cf1f4dbe","subtype":"postgresql","action":"query","timestamp":1646055577088748,"duration":2.655,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f98805531b7aeb03","transaction_id":"ac5d702f40a5c7f7","parent_id":"ac5d702f40a5c7f7","trace_id":"996aca2879ccc1898ed4de99cf1f4dbe","subtype":"postgresql","action":"query","timestamp":1646055577087052,"duration":5.874,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ef987beacaba32bb","transaction_id":"ac5d702f40a5c7f7","parent_id":"ac5d702f40a5c7f7","trace_id":"996aca2879ccc1898ed4de99cf1f4dbe","subtype":"postgresql","action":"query","timestamp":1646055577085129,"duration":9.075,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"ac5d702f40a5c7f7","trace_id":"996aca2879ccc1898ed4de99cf1f4dbe","parent_id":"b9379c7f85055cb5","duration":32.585,"timestamp":1646055577067021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-996aca2879ccc1898ed4de99cf1f4dbe-b9379c7f85055cb5-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-996aca2879ccc1898ed4de99cf1f4dbe-b9379c7f85055cb5-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:39:37 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Process payment","type":"Worker","result":"success","id":"e6399e5b124b4dc5","trace_id":"25fd326b45f0478e4cd5248f5c63f8e1","duration":361.242,"timestamp":1646055576876038,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Reserve funds","type":"custom","id":"1857f40e395cf193","transaction_id":"e6399e5b124b4dc5","parent_id":"e6399e5b124b4dc5","trace_id":"25fd326b45f0478e4cd5248f5c63f8e1","subtype":null,"action":null,"timestamp":1646055576952736,"duration":282.185,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"OPTIONS unknown route","type":"request","result":"HTTP 2xx","id":"1b7eef5242696280","trace_id":"3a0b11ac6b2c60338edddce6f7779cb4","duration":11.562,"timestamp":1646055577246021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"OPTIONS","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","content-length":"0","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","allow":"GET,HEAD","content-type":"text/html; charset=utf-8","content-length":"8","etag":"W/\"8-ZRAf8oNBS3Bjb/SU2GYZCmbtmXg\"","date":"Mon, 28 Feb 2022 13:39:37 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"25978e42aa414aeb","transaction_id":"b17e826bd270b295","parent_id":"b17e826bd270b295","trace_id":"cbeac26374c9a991848d15ab9b968032","subtype":"postgresql","action":"query","timestamp":1646055577275472,"duration":4.663,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"b17e826bd270b295","trace_id":"cbeac26374c9a991848d15ab9b968032","parent_id":"29bc519a6c58bc9f","duration":19.155,"timestamp":1646055577267087,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3/customers","full":"http://opbeans-node:3000/api/products/3/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-cbeac26374c9a991848d15ab9b968032-29bc519a6c58bc9f-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-cbeac26374c9a991848d15ab9b968032-29bc519a6c58bc9f-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2247","etag":"W/\"8c7-DzU3uvPT9Eu5vDsXxF0AVpUtaII\"","date":"Mon, 28 Feb 2022 13:39:37 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ed40098318a34836","trace_id":"023d6e81b1b9dae8f2f015ae04d54174","parent_id":"5d75f7169a00d4e3","duration":42.009,"timestamp":1646055577434019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-023d6e81b1b9dae8f2f015ae04d54174-5d75f7169a00d4e3-01","elastic-apm-traceparent":"00-023d6e81b1b9dae8f2f015ae04d54174-5d75f7169a00d4e3-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"3a6fa85a318de2856f3fa7cda08b17a5\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"e1ee890c-80ae-4ddf-8839-c65f8504edf8","x-runtime":"0.016805","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:37 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"2ecb4c945088bffb","transaction_id":"ed40098318a34836","parent_id":"ed40098318a34836","trace_id":"023d6e81b1b9dae8f2f015ae04d54174","subtype":"http","action":"GET","timestamp":1646055577438299,"duration":33.095,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/5"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"6263f88edd60fc89","transaction_id":"dc3670b93ddd8bcb","parent_id":"dc3670b93ddd8bcb","trace_id":"d64b207aeb372c6be6778793422c1d69","subtype":"postgresql","action":"query","timestamp":1646055577755081,"duration":4.491,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"dc3670b93ddd8bcb","trace_id":"d64b207aeb372c6be6778793422c1d69","duration":53.047,"timestamp":1646055577746030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:37 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"bfa696f91d102b9f","transaction_id":"dc3670b93ddd8bcb","parent_id":"dc3670b93ddd8bcb","trace_id":"d64b207aeb372c6be6778793422c1d69","subtype":"postgresql","action":"query","timestamp":1646055577762640,"duration":17.275,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"54ecc0d4ec800b43","transaction_id":"dc3670b93ddd8bcb","parent_id":"dc3670b93ddd8bcb","trace_id":"d64b207aeb372c6be6778793422c1d69","subtype":"postgresql","action":"query","timestamp":1646055577768900,"duration":15.217,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"91b370c7c96c2a92","transaction_id":"dc3670b93ddd8bcb","parent_id":"dc3670b93ddd8bcb","trace_id":"d64b207aeb372c6be6778793422c1d69","subtype":"postgresql","action":"query","timestamp":1646055577774122,"duration":12.425,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"ROLLBACK","type":"db","id":"000f49f005810a45","transaction_id":"6d66d6808c929ab5","parent_id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","subtype":"postgresql","action":"query","timestamp":1646055578245957,"duration":6.242,"context":{"db":{"statement":"ROLLBACK","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"POST /api/orders","type":"request","result":"HTTP 5xx","id":"6d66d6808c929ab5","trace_id":"371f1b82af962cf8b6b0cf4c6bcf68a3","duration":5505.998,"timestamp":1646055572757023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"POST","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","accept":"application/json","content-type":"application/json","content-length":"129","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"},"body":"[REDACTED]"},"response":{"status_code":500,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:38 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":15},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"37287e9a7e37c93d","trace_id":"47b34304c676a777d47a4337e64cd421","duration":78.705,"timestamp":1646055578278022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"e7a2362bf423f315691b319c14409fa6\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"7d3f7106-53e8-4212-97ec-482d6d6ee270","x-runtime":"0.032957","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:38 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"6558846f6a6324c1","transaction_id":"37287e9a7e37c93d","parent_id":"37287e9a7e37c93d","trace_id":"47b34304c676a777d47a4337e64cd421","subtype":"http","action":"GET","timestamp":1646055578288878,"duration":55.356,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"a724b1e5097db8c5","trace_id":"31a3823bbe084db93b06beafffc94988","parent_id":"dcd5cabe64fe6f66","duration":19.02,"timestamp":1646055578745032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:38 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4e4c60f5ca91f9f9","trace_id":"9c84f424e52d9686ae861293e27b49eb","duration":157.013,"timestamp":1646055579252033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/166","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/166","full":"http://opbeans-node:3000/api/orders/166"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:39 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"300","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"d4aaa484181e9364","transaction_id":"4e4c60f5ca91f9f9","parent_id":"4e4c60f5ca91f9f9","trace_id":"9c84f424e52d9686ae861293e27b49eb","subtype":"http","action":"GET","timestamp":1646055579262447,"duration":141.922,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders/166"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"OPTIONS unknown route","type":"request","result":"HTTP 2xx","id":"aa63f453ca528c07","trace_id":"bfbc36138e0265a537b8e323208a7174","duration":25.304,"timestamp":1646055579745352,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"OPTIONS","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","content-length":"0","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","allow":"GET,HEAD","content-type":"text/html; charset=utf-8","content-length":"8","etag":"W/\"8-ZRAf8oNBS3Bjb/SU2GYZCmbtmXg\"","date":"Mon, 28 Feb 2022 13:39:39 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"efd2544c4fe49fac","transaction_id":"e294cb21fdaa67a6","parent_id":"e294cb21fdaa67a6","trace_id":"8daa4754475bc3dae26d5f352e142628","subtype":"postgresql","action":"query","timestamp":1646055580260335,"duration":5.506,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"e294cb21fdaa67a6","trace_id":"8daa4754475bc3dae26d5f352e142628","duration":17.673,"timestamp":1646055580253030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-kkuzj37GZDzXDh0CWqh5Gan0VO4\"","date":"Mon, 28 Feb 2022 13:39:40 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"a14c7f9f8a7beb8e","trace_id":"13a82024e7220ffa6ddf6dec1a4710a5","duration":23.159,"timestamp":1646055580750036,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:40 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"cf2005db69127eb5","trace_id":"d423a9c705b054d1404edb9b2f68867d","duration":27.891,"timestamp":1646055581252041,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:41 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"8ac225198756d4e2","trace_id":"1386bfe0d6f7d68ab40a2ee8445d3a10","parent_id":"42095cc820d0c80f","duration":36.346,"timestamp":1646055581550023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-1386bfe0d6f7d68ab40a2ee8445d3a10-42095cc820d0c80f-01","elastic-apm-traceparent":"00-1386bfe0d6f7d68ab40a2ee8445d3a10-42095cc820d0c80f-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"32a6f2ac22b5ec871f35104a05ba3759\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"95a8e7bb-5af6-47ae-853a-e4d65952a452","x-runtime":"0.012626","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:41 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"20ecc7e3a29eb6e7","transaction_id":"8ac225198756d4e2","parent_id":"8ac225198756d4e2","trace_id":"1386bfe0d6f7d68ab40a2ee8445d3a10","subtype":"http","action":"GET","timestamp":1646055581554383,"duration":27.488,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"0d530e9848c2932b","transaction_id":"2fe922053a0da4bd","parent_id":"2fe922053a0da4bd","trace_id":"2e71a78690a8edfc2f8fe3f5fc880bb7","subtype":"postgresql","action":"query","timestamp":1646055581710608,"duration":39.898,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"2fe922053a0da4bd","trace_id":"2e71a78690a8edfc2f8fe3f5fc880bb7","parent_id":"63e8e16b2c12d999","duration":96.214,"timestamp":1646055581683215,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"python-requests/2.27.1","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-2e71a78690a8edfc2f8fe3f5fc880bb7-63e8e16b2c12d999-01","traceparent":"00-2e71a78690a8edfc2f8fe3f5fc880bb7-63e8e16b2c12d999-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.11"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:39:41 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"fae2c3695981a3d3","transaction_id":"2fe922053a0da4bd","parent_id":"2fe922053a0da4bd","trace_id":"2e71a78690a8edfc2f8fe3f5fc880bb7","subtype":"redis","action":null,"timestamp":1646055581689109,"duration":13.289,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":168,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/customers', function (req, res) {"],"context_line":"  redis.get('customers', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"abfc48fbcb47f346","trace_id":"7972354d16a82c58bc63966c05183c35","duration":16.533,"timestamp":1646055581787020,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:41 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"b7a699b1ef8680f2","transaction_id":"6bd671c0ac55b3e1","parent_id":"6bd671c0ac55b3e1","trace_id":"cb579e67af2e88c6de7f724fc316f263","subtype":"postgresql","action":"query","timestamp":1646055582122801,"duration":3.687,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"6bd671c0ac55b3e1","trace_id":"cb579e67af2e88c6de7f724fc316f263","parent_id":"f2236548f4f7f601","duration":11.943,"timestamp":1646055582118025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/6","full":"http://opbeans-node:3000/api/products/6"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-cb579e67af2e88c6de7f724fc316f263-f2236548f4f7f601-01","elastic-apm-traceparent":"00-cb579e67af2e88c6de7f724fc316f263-f2236548f4f7f601-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"254","etag":"W/\"fe-vUW963ju559F4nwQXb+Wg4ZAqdk\"","date":"Mon, 28 Feb 2022 13:39:42 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"71e479b1d9e10130","trace_id":"cb1217951c6ef71099a1793a199ab47d","duration":6.751,"timestamp":1646055582247021,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:42 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"78a65e98ffed9769","transaction_id":"3b48bc234dce8e60","parent_id":"3b48bc234dce8e60","trace_id":"4d926a32527654a93ee28dce8ea22e32","subtype":"postgresql","action":"query","timestamp":1646055582814828,"duration":3.732,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"3b48bc234dce8e60","trace_id":"4d926a32527654a93ee28dce8ea22e32","parent_id":"9ce9f0a43309b276","duration":13.064,"timestamp":1646055582808025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/90","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/90","full":"http://opbeans-node:3000/api/orders/90"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-4d926a32527654a93ee28dce8ea22e32-9ce9f0a43309b276-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-4d926a32527654a93ee28dce8ea22e32-9ce9f0a43309b276-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:42 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"c8b5629d161bfbd6","transaction_id":"d1c1d43ace9a3908","parent_id":"d1c1d43ace9a3908","trace_id":"aefbb2e73166fd16a22521769e4f3de1","subtype":"redis","action":null,"timestamp":1646055582829748,"duration":2.415,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"525def802e34cab9","transaction_id":"d1c1d43ace9a3908","parent_id":"d1c1d43ace9a3908","trace_id":"aefbb2e73166fd16a22521769e4f3de1","subtype":"postgresql","action":"query","timestamp":1646055582833789,"duration":3.544,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"d1c1d43ace9a3908","trace_id":"aefbb2e73166fd16a22521769e4f3de1","parent_id":"e024903289866f0f","duration":16.717,"timestamp":1646055582825024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-aefbb2e73166fd16a22521769e4f3de1-e024903289866f0f-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-aefbb2e73166fd16a22521769e4f3de1-e024903289866f0f-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:39:42 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"31dfa839ed66953a","trace_id":"aefbb2e73166fd16a22521769e4f3de1","duration":118.137,"timestamp":1646055582756022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:42 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"f1ec2c6220dad1f1","transaction_id":"31dfa839ed66953a","parent_id":"31dfa839ed66953a","trace_id":"aefbb2e73166fd16a22521769e4f3de1","subtype":"http","action":"GET","timestamp":1646055582772925,"duration":90.262,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"48291c244cbcf604","transaction_id":"43e49d8056c833a6","parent_id":"43e49d8056c833a6","trace_id":"c13b01f1f2d81a30232c0438e5d5cee2","subtype":"postgresql","action":"query","timestamp":1646055583413119,"duration":2.692,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"43e49d8056c833a6","trace_id":"c13b01f1f2d81a30232c0438e5d5cee2","parent_id":"4c7047f8377258b5","duration":25.974,"timestamp":1646055583408023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-c13b01f1f2d81a30232c0438e5d5cee2-4c7047f8377258b5-01","elastic-apm-traceparent":"00-c13b01f1f2d81a30232c0438e5d5cee2-4c7047f8377258b5-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-kkuzj37GZDzXDh0CWqh5Gan0VO4\"","date":"Mon, 28 Feb 2022 13:39:43 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"507e99cb39b1f285","trace_id":"c13b01f1f2d81a30232c0438e5d5cee2","duration":232.452,"timestamp":1646055583247020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:43 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"231","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"6600e56c1cdfca2d","transaction_id":"507e99cb39b1f285","parent_id":"507e99cb39b1f285","trace_id":"c13b01f1f2d81a30232c0438e5d5cee2","subtype":"http","action":"GET","timestamp":1646055583251784,"duration":212.148,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/3"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"c9ce8fec2334da86","trace_id":"0310b791b9738e51a7786e39f911ba17","parent_id":"97891fb4c610170d","duration":61.313,"timestamp":1646055583725045,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/1","full":"http://opbeans-node:3000/api/products/1"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-0310b791b9738e51a7786e39f911ba17-97891fb4c610170d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-0310b791b9738e51a7786e39f911ba17-97891fb4c610170d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-6JlJegaJ+ir0C8I8EmmOjms1dnc\"","date":"Mon, 28 Feb 2022 13:39:43 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"15f9272a984c2a5e","transaction_id":"c9ce8fec2334da86","parent_id":"c9ce8fec2334da86","trace_id":"0310b791b9738e51a7786e39f911ba17","subtype":"postgresql","action":"query","timestamp":1646055583754803,"duration":12.686,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"21c6cf60388fb195","trace_id":"6369ba72132799d3a692f32f3297cb18","parent_id":"b3eb073a7df9698c","duration":44.831,"timestamp":1646055583791037,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:43 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"d52acaa8d8987c59","transaction_id":"6a8360507075443e","parent_id":"6a8360507075443e","trace_id":"b7d759284eee82140e983da3de95b6b3","subtype":"postgresql","action":"query","timestamp":1646055584282152,"duration":6.788,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"6a8360507075443e","trace_id":"b7d759284eee82140e983da3de95b6b3","duration":18.465,"timestamp":1646055584273042,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/26","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/26","full":"http://opbeans-node:3000/api/orders/26"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:44 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c6c7d940300ca013","transaction_id":"928986f2eb0b983f","parent_id":"928986f2eb0b983f","trace_id":"c3af23788b1ceae9640956e2e60ee73b","subtype":"postgresql","action":"query","timestamp":1646055584781934,"duration":7.33,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"928986f2eb0b983f","trace_id":"c3af23788b1ceae9640956e2e60ee73b","duration":33.761,"timestamp":1646055584765062,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/1","full":"http://opbeans-node:3000/api/products/1"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-6JlJegaJ+ir0C8I8EmmOjms1dnc\"","date":"Mon, 28 Feb 2022 13:39:44 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d13dd80ac5f65d8e","transaction_id":"cb995459b92d4c34","parent_id":"cb995459b92d4c34","trace_id":"37eb2457eca6142c3a8795dd85c7ea31","subtype":"postgresql","action":"query","timestamp":1646055584868994,"duration":36.086,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"8b88c18e4038e41c","transaction_id":"cb995459b92d4c34","parent_id":"cb995459b92d4c34","trace_id":"37eb2457eca6142c3a8795dd85c7ea31","subtype":"postgresql","action":"query","timestamp":1646055584876548,"duration":47.928,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"d51af3e2963ef159","transaction_id":"cb995459b92d4c34","parent_id":"cb995459b92d4c34","trace_id":"37eb2457eca6142c3a8795dd85c7ea31","subtype":"postgresql","action":"query","timestamp":1646055584885553,"duration":56.664,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"f653465db6e8bee9","transaction_id":"cb995459b92d4c34","parent_id":"cb995459b92d4c34","trace_id":"37eb2457eca6142c3a8795dd85c7ea31","subtype":"postgresql","action":"query","timestamp":1646055584901954,"duration":58.085,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f2e2c64d415247eb","transaction_id":"cb995459b92d4c34","parent_id":"cb995459b92d4c34","trace_id":"37eb2457eca6142c3a8795dd85c7ea31","subtype":"postgresql","action":"query","timestamp":1646055584962650,"duration":7.673,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e4115454133f972c","transaction_id":"cb995459b92d4c34","parent_id":"cb995459b92d4c34","trace_id":"37eb2457eca6142c3a8795dd85c7ea31","subtype":"postgresql","action":"query","timestamp":1646055584965099,"duration":6.665,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"4ec7225853c4ab52","transaction_id":"cb995459b92d4c34","parent_id":"cb995459b92d4c34","trace_id":"37eb2457eca6142c3a8795dd85c7ea31","subtype":"postgresql","action":"query","timestamp":1646055584967261,"duration":6.02,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"cb995459b92d4c34","trace_id":"37eb2457eca6142c3a8795dd85c7ea31","parent_id":"f485ce5b352bd65c","duration":127.99,"timestamp":1646055584851035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-37eb2457eca6142c3a8795dd85c7ea31-f485ce5b352bd65c-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-37eb2457eca6142c3a8795dd85c7ea31-f485ce5b352bd65c-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:39:44 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"48299ea3fb164b13","trace_id":"15cc78733234b64f58d876ccbed4c6d7","duration":86.131,"timestamp":1646055585259025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2","full":"http://opbeans-node:3000/api/products/2"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:45 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"f6490895ef1a1473","transaction_id":"48299ea3fb164b13","parent_id":"48299ea3fb164b13","trace_id":"15cc78733234b64f58d876ccbed4c6d7","subtype":"http","action":"GET","timestamp":1646055585264094,"duration":46.374,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f287f12f136d9e71","trace_id":"f5d7796a40ab56b1e99eb41176ee2db6","parent_id":"5c34998d674f6432","duration":150.056,"timestamp":1646055585278062,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/336","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/336","full":"http://opbeans-node:3000/api/customers/336"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-f5d7796a40ab56b1e99eb41176ee2db6-5c34998d674f6432-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-f5d7796a40ab56b1e99eb41176ee2db6-5c34998d674f6432-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:45 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"209","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"affcbe684248f8c2","transaction_id":"f287f12f136d9e71","parent_id":"f287f12f136d9e71","trace_id":"f5d7796a40ab56b1e99eb41176ee2db6","subtype":"http","action":"GET","timestamp":1646055585289657,"duration":117.851,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/336"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4eeca161738afe30","trace_id":"c8ea9682ef419a64d347c0f599fdb1ff","duration":123.155,"timestamp":1646055585755030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"195dc75dd23c6abbf5c85d7fd3d619d1\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"1ece963c-1e32-40a5-b636-ed8013db0fde","x-runtime":"0.065412","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:45 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"ca24e447a53ad213","transaction_id":"4eeca161738afe30","parent_id":"4eeca161738afe30","trace_id":"c8ea9682ef419a64d347c0f599fdb1ff","subtype":"http","action":"GET","timestamp":1646055585767935,"duration":96.743,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"90f4b7b5141f5b16","trace_id":"7bcae756cc2af0bd211d3223e7d5387e","parent_id":"a9dccaef47c24489","duration":77.162,"timestamp":1646055585958033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4/customers","full":"http://opbeans-node:3000/api/products/4/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-7bcae756cc2af0bd211d3223e7d5387e-a9dccaef47c24489-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-7bcae756cc2af0bd211d3223e7d5387e-a9dccaef47c24489-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:46 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"24ea7cff45e5f035","transaction_id":"90f4b7b5141f5b16","parent_id":"90f4b7b5141f5b16","trace_id":"7bcae756cc2af0bd211d3223e7d5387e","subtype":"http","action":"GET","timestamp":1646055585964838,"duration":65.094,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/4/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"042c5a4211ab6b49","trace_id":"a649c79f29a788d3b48568b20daf7cde","duration":15.435,"timestamp":1646055586272041,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:46 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"60012b8f12574a9e","trace_id":"bf1a8d99eb6dcd8d94baf76cd9006f8e","parent_id":"6fe70aaeee5df680","duration":36.16,"timestamp":1646055586352034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:46 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"0a37f27d26e91b87","transaction_id":"b01c48dcdfd88308","parent_id":"b01c48dcdfd88308","trace_id":"635348a11a26b0b1e490e37804900acb","subtype":"redis","action":null,"timestamp":1646055586519918,"duration":2.351,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"0dc81d2a07e86d2d","transaction_id":"b01c48dcdfd88308","parent_id":"b01c48dcdfd88308","trace_id":"635348a11a26b0b1e490e37804900acb","subtype":"postgresql","action":"query","timestamp":1646055586523987,"duration":3.518,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"b01c48dcdfd88308","trace_id":"635348a11a26b0b1e490e37804900acb","parent_id":"88262444de8bb6a7","duration":20.836,"timestamp":1646055586515020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-635348a11a26b0b1e490e37804900acb-88262444de8bb6a7-01","elastic-apm-traceparent":"00-635348a11a26b0b1e490e37804900acb-88262444de8bb6a7-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:39:46 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0cc47f95a3e88c96","trace_id":"635348a11a26b0b1e490e37804900acb","parent_id":"e04b3398ef798bc8","duration":86.806,"timestamp":1646055586475031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-635348a11a26b0b1e490e37804900acb-e04b3398ef798bc8-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-635348a11a26b0b1e490e37804900acb-e04b3398ef798bc8-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:46 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"2777e37f75013ebb","transaction_id":"0cc47f95a3e88c96","parent_id":"0cc47f95a3e88c96","trace_id":"635348a11a26b0b1e490e37804900acb","subtype":"http","action":"GET","timestamp":1646055586481821,"duration":72.731,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"5208df63f1f721da","transaction_id":"fe73b4ed2b572cd6","parent_id":"fe73b4ed2b572cd6","trace_id":"d33e4b1e64024cbf89ac834f6d967562","subtype":"postgresql","action":"query","timestamp":1646055587282430,"duration":5.519,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"fe73b4ed2b572cd6","trace_id":"d33e4b1e64024cbf89ac834f6d967562","duration":19.263,"timestamp":1646055587274042,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/978","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/978","full":"http://opbeans-node:3000/api/customers/978"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"207","etag":"W/\"cf-agThUtTWUUJVjBsqLUaUgTLU3HU\"","date":"Mon, 28 Feb 2022 13:39:47 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c83213c1158741a3","trace_id":"60e29380ef9dc941c54e123dd4e11b6f","parent_id":"3185f2b18c9c770a","duration":818.454,"timestamp":1646055586792030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-60e29380ef9dc941c54e123dd4e11b6f-3185f2b18c9c770a-01","elastic-apm-traceparent":"00-60e29380ef9dc941c54e123dd4e11b6f-3185f2b18c9c770a-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:47 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"459944fa72e32422","transaction_id":"c83213c1158741a3","parent_id":"c83213c1158741a3","trace_id":"60e29380ef9dc941c54e123dd4e11b6f","subtype":"http","action":"GET","timestamp":1646055586796891,"duration":808.997,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"34b43ad54b2b729e","trace_id":"60e29380ef9dc941c54e123dd4e11b6f","duration":891.341,"timestamp":1646055586751026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:47 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"309","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"db2d10b11e908397","transaction_id":"34b43ad54b2b729e","parent_id":"34b43ad54b2b729e","trace_id":"60e29380ef9dc941c54e123dd4e11b6f","subtype":"http","action":"GET","timestamp":1646055586757941,"duration":879.495,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"28fee1e523f34d2e","trace_id":"67ad37f7929493ee056d7e2a0b3b9e08","parent_id":"d3a794490442a2db","duration":41.738,"timestamp":1646055587618024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/146","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/146","full":"http://opbeans-node:3000/api/customers/146"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-67ad37f7929493ee056d7e2a0b3b9e08-d3a794490442a2db-01","elastic-apm-traceparent":"00-67ad37f7929493ee056d7e2a0b3b9e08-d3a794490442a2db-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"175","etag":"W/\"af-FnKkSPYR8Pbmva59pVBgG5r3d04\"","date":"Mon, 28 Feb 2022 13:39:47 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"cb69425f9ccf3eff","transaction_id":"28fee1e523f34d2e","parent_id":"28fee1e523f34d2e","trace_id":"67ad37f7929493ee056d7e2a0b3b9e08","subtype":"postgresql","action":"query","timestamp":1646055587629727,"duration":26.379,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"2b2da280dc278f95","transaction_id":"b564b65efbed2352","parent_id":"b564b65efbed2352","trace_id":"5fe8acf5cb507a9a6cb6f265e6662d01","subtype":"redis","action":null,"timestamp":1646055587756606,"duration":2.069,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8644f362ffb98163","transaction_id":"b564b65efbed2352","parent_id":"b564b65efbed2352","trace_id":"5fe8acf5cb507a9a6cb6f265e6662d01","subtype":"postgresql","action":"query","timestamp":1646055587766451,"duration":7.472,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"b564b65efbed2352","trace_id":"5fe8acf5cb507a9a6cb6f265e6662d01","duration":32.495,"timestamp":1646055587751033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:39:47 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"afaa18457aa5d0fa","transaction_id":"bdf85c2ce6c58e27","parent_id":"bdf85c2ce6c58e27","trace_id":"f105c2c5c8d93167311de2a6496c2e30","subtype":"redis","action":null,"timestamp":1646055587855717,"duration":4.679,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"1b735787ac7a2fa6","transaction_id":"bdf85c2ce6c58e27","parent_id":"bdf85c2ce6c58e27","trace_id":"f105c2c5c8d93167311de2a6496c2e30","subtype":"postgresql","action":"query","timestamp":1646055587877061,"duration":4.487,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"bdf85c2ce6c58e27","trace_id":"f105c2c5c8d93167311de2a6496c2e30","parent_id":"1153af64fa33701e","duration":60.481,"timestamp":1646055587836059,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-f105c2c5c8d93167311de2a6496c2e30-1153af64fa33701e-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-f105c2c5c8d93167311de2a6496c2e30-1153af64fa33701e-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:39:47 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b3a7c4684eafcc01","trace_id":"258578c587e8b98bdba53052e038ff9a","parent_id":"6a9cc9563c011dc5","duration":38.502,"timestamp":1646055588050029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-258578c587e8b98bdba53052e038ff9a-6a9cc9563c011dc5-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-258578c587e8b98bdba53052e038ff9a-6a9cc9563c011dc5-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:48 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"128","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"2b50c9946a3196f6","transaction_id":"b3a7c4684eafcc01","parent_id":"b3a7c4684eafcc01","trace_id":"258578c587e8b98bdba53052e038ff9a","subtype":"http","action":"GET","timestamp":1646055588059006,"duration":22.569,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"0899e8438584a37f","transaction_id":"079b3751d9435b6d","parent_id":"079b3751d9435b6d","trace_id":"3bc85cf2fa831603fa1032165fa9b36e","subtype":"http","action":"GET","timestamp":1646055588199254,"duration":8.771,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders/54"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"079b3751d9435b6d","trace_id":"3bc85cf2fa831603fa1032165fa9b36e","parent_id":"ce229927d1a0015f","duration":22.546,"timestamp":1646055588195029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/54","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/54","full":"http://opbeans-node:3000/api/orders/54"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-3bc85cf2fa831603fa1032165fa9b36e-ce229927d1a0015f-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-3bc85cf2fa831603fa1032165fa9b36e-ce229927d1a0015f-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:48 GMT","content-length":"308","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /throw-error","type":"request","result":"HTTP 5xx","id":"f10b5d0f56336e86","trace_id":"32d1deb68c5ec2564a49e6df452de8a2","duration":9.14,"timestamp":1646055588254022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/throw-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/throw-error","full":"http://opbeans-node:3000/throw-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:39:48 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"6e16ab98f5745263","trace_id":"ac04a9d719e6b0e190a3631ff702d0ae","duration":60.755,"timestamp":1646055588767029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/353","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/353","full":"http://opbeans-node:3000/api/orders/353"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:48 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"305","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"5a522067888027a6","transaction_id":"6e16ab98f5745263","parent_id":"6e16ab98f5745263","trace_id":"ac04a9d719e6b0e190a3631ff702d0ae","subtype":"http","action":"GET","timestamp":1646055588772942,"duration":49.152,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders/353"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c7b067f278f61fa8","trace_id":"6380fa7c1ca47f80f35f63f77313b3b8","duration":38.638,"timestamp":1646055589260055,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:39:49 GMT","content-length":"403","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"484f9d2d45da7633","transaction_id":"c7b067f278f61fa8","parent_id":"c7b067f278f61fa8","trace_id":"6380fa7c1ca47f80f35f63f77313b3b8","subtype":"http","action":"GET","timestamp":1646055589269100,"duration":24.124,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"e466fbccdcf91fbd","transaction_id":"e00c1e146a25cbec","parent_id":"e00c1e146a25cbec","trace_id":"53ccee31fa2e9226b2c0ee8d25007cb5","subtype":"postgresql","action":"query","timestamp":1646055589541170,"duration":3.328,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 4xx","id":"e00c1e146a25cbec","trace_id":"53ccee31fa2e9226b2c0ee8d25007cb5","parent_id":"2e5a90f1fb9c5fb4","duration":18.391,"timestamp":1646055589535028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/9399","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/9399","full":"http://opbeans-node:3000/api/customers/9399"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-53ccee31fa2e9226b2c0ee8d25007cb5-2e5a90f1fb9c5fb4-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-53ccee31fa2e9226b2c0ee8d25007cb5-2e5a90f1fb9c5fb4-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:39:49 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"8ac88164c8ecfcc2","transaction_id":"794749fb77745fd6","parent_id":"794749fb77745fd6","trace_id":"d851be282d8a79151964f450363ed6e4","subtype":"postgresql","action":"query","timestamp":1646055589764806,"duration":5.039,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d3b1ff555b87179c","transaction_id":"794749fb77745fd6","parent_id":"794749fb77745fd6","trace_id":"d851be282d8a79151964f450363ed6e4","subtype":"postgresql","action":"query","timestamp":1646055589771631,"duration":9.192,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"794749fb77745fd6","trace_id":"d851be282d8a79151964f450363ed6e4","duration":40.651,"timestamp":1646055589757026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:49 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d68eef8658abe5c5","transaction_id":"794749fb77745fd6","parent_id":"794749fb77745fd6","trace_id":"d851be282d8a79151964f450363ed6e4","subtype":"postgresql","action":"query","timestamp":1646055589773928,"duration":16.824,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"6b4a27dc410cbd9b","transaction_id":"794749fb77745fd6","parent_id":"794749fb77745fd6","trace_id":"d851be282d8a79151964f450363ed6e4","subtype":"postgresql","action":"query","timestamp":1646055589776490,"duration":16.472,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"6fc68a3630a79d89","trace_id":"41f9f478d6279298a9c9a279b8667107","parent_id":"9a36637fa30bf52f","duration":142.937,"timestamp":1646055589671023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-41f9f478d6279298a9c9a279b8667107-9a36637fa30bf52f-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-41f9f478d6279298a9c9a279b8667107-9a36637fa30bf52f-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:49 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"c35ff8a29cb157f9","transaction_id":"6fc68a3630a79d89","parent_id":"6fc68a3630a79d89","trace_id":"41f9f478d6279298a9c9a279b8667107","subtype":"http","action":"GET","timestamp":1646055589675070,"duration":132.908,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e279684b13d2848c","trace_id":"b96751441bf64d9a286174d7f0b467dc","parent_id":"de2aae45db937bd6","duration":54.124,"timestamp":1646055589820022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/3","full":"http://opbeans-go:3000/api/types/3"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-b96751441bf64d9a286174d7f0b467dc-de2aae45db937bd6-01","traceparent":"00-b96751441bf64d9a286174d7f0b467dc-de2aae45db937bd6-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"8e3260febb99939d3db0e054e5bf5def\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"27b6bed4-1ab5-4034-9780-e1a3a40ebb8e","x-runtime":"0.011592","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:49 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"18ae007c9004af6b","transaction_id":"e279684b13d2848c","parent_id":"e279684b13d2848c","trace_id":"b96751441bf64d9a286174d7f0b467dc","subtype":"http","action":"GET","timestamp":1646055589827711,"duration":41.464,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types/3"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e4e1bb6557b4ab5f","trace_id":"9572a27652a7f60aeb6bf75e41f1fc44","parent_id":"5095e326b65f7f95","duration":108.744,"timestamp":1646055590153035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-9572a27652a7f60aeb6bf75e41f1fc44-5095e326b65f7f95-01","elastic-apm-traceparent":"00-9572a27652a7f60aeb6bf75e41f1fc44-5095e326b65f7f95-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"e7a2362bf423f315691b319c14409fa6\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"f035548f-176e-44e6-b7b2-6245afa55b45","x-runtime":"0.025212","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:50 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"86fa006d661a9ead","transaction_id":"e4e1bb6557b4ab5f","parent_id":"e4e1bb6557b4ab5f","trace_id":"9572a27652a7f60aeb6bf75e41f1fc44","subtype":"http","action":"GET","timestamp":1646055590157758,"duration":90.685,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"34dce0122dc9b1ab","trace_id":"13b885b1620f7d2ae2e12f456cd8e228","parent_id":"aa719cd867cbabdb","duration":32.789,"timestamp":1646055590359028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/610","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/610","full":"http://opbeans-node:3000/api/customers/610"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-13b885b1620f7d2ae2e12f456cd8e228-aa719cd867cbabdb-01","elastic-apm-traceparent":"00-13b885b1620f7d2ae2e12f456cd8e228-aa719cd867cbabdb-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"185","etag":"W/\"b9-8nflmbfqqyLp6F4mSA2j8RoilIA\"","date":"Mon, 28 Feb 2022 13:39:50 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"8ee42999e487440a","transaction_id":"34dce0122dc9b1ab","parent_id":"34dce0122dc9b1ab","trace_id":"13b885b1620f7d2ae2e12f456cd8e228","subtype":"postgresql","action":"query","timestamp":1646055590370925,"duration":13.097,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"04d4cd6af056287b","trace_id":"98796093fb4205e684127317b13d9480","parent_id":"e84e6fc9bc6d2eb3","duration":125.16,"timestamp":1646055590343029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-98796093fb4205e684127317b13d9480-e84e6fc9bc6d2eb3-01","traceparent":"00-98796093fb4205e684127317b13d9480-e84e6fc9bc6d2eb3-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:50 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"309","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"5b1305f98fd85e06","transaction_id":"04d4cd6af056287b","parent_id":"04d4cd6af056287b","trace_id":"98796093fb4205e684127317b13d9480","subtype":"http","action":"GET","timestamp":1646055590352535,"duration":105.928,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"78f63e6730e5f4f7","transaction_id":"f08b976ac804e5f5","parent_id":"f08b976ac804e5f5","trace_id":"f9680311309189351a0d09ee91b2368f","subtype":"postgresql","action":"query","timestamp":1646055590500735,"duration":38.146,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7ebe4b94dd158e3d","trace_id":"3b2cb23e85b2bb53bce977a1d205ee7a","duration":395.289,"timestamp":1646055590325056,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:50 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"115","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"f08b976ac804e5f5","trace_id":"f9680311309189351a0d09ee91b2368f","parent_id":"b6fffe276f794ace","duration":293.585,"timestamp":1646055590495020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-f9680311309189351a0d09ee91b2368f-b6fffe276f794ace-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-f9680311309189351a0d09ee91b2368f-b6fffe276f794ace-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:50 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c65b5e4016021453","transaction_id":"f08b976ac804e5f5","parent_id":"f08b976ac804e5f5","trace_id":"f9680311309189351a0d09ee91b2368f","subtype":"postgresql","action":"query","timestamp":1646055590564441,"duration":86.117,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"48fda3ab8017e3c0","transaction_id":"f08b976ac804e5f5","parent_id":"f08b976ac804e5f5","trace_id":"f9680311309189351a0d09ee91b2368f","subtype":"postgresql","action":"query","timestamp":1646055590588018,"duration":67.693,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"181ad13bfc5b974b","transaction_id":"7ebe4b94dd158e3d","parent_id":"7ebe4b94dd158e3d","trace_id":"3b2cb23e85b2bb53bce977a1d205ee7a","subtype":"http","action":"GET","timestamp":1646055590337633,"duration":375.833,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types/3"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"86e8390e57c14408","transaction_id":"f08b976ac804e5f5","parent_id":"f08b976ac804e5f5","trace_id":"f9680311309189351a0d09ee91b2368f","subtype":"postgresql","action":"query","timestamp":1646055590615536,"duration":146.16,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"5bdc937ba995e997","trace_id":"66802f31808ce192cdd61aa87f9d1fe2","duration":129.885,"timestamp":1646055590817029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/1","full":"http://opbeans-node:3000/api/products/1"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"4e69fb0c37752114965f1e1639106618\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"68c8fed7-3f37-42ef-af09-a6cba26b81d4","x-runtime":"0.053029","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:50 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"9bb32f4202e518a3","transaction_id":"5bdc937ba995e997","parent_id":"5bdc937ba995e997","trace_id":"66802f31808ce192cdd61aa87f9d1fe2","subtype":"http","action":"GET","timestamp":1646055590828457,"duration":92.355,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/1"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"3599913382f3d89f","transaction_id":"f8e1c9d5c0adbf71","parent_id":"f8e1c9d5c0adbf71","trace_id":"555e1ccd9b40d77bc8a443dfb09cc9ca","subtype":"postgresql","action":"query","timestamp":1646055591040834,"duration":7.956,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"f8e1c9d5c0adbf71","trace_id":"555e1ccd9b40d77bc8a443dfb09cc9ca","parent_id":"016195a355381686","duration":42.91,"timestamp":1646055591014031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4/customers","full":"http://opbeans-node:3000/api/products/4/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-555e1ccd9b40d77bc8a443dfb09cc9ca-016195a355381686-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-555e1ccd9b40d77bc8a443dfb09cc9ca-016195a355381686-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:39:51 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"b83e170d0a5447d0","trace_id":"9cb2b3ab1747f91b8f7599336759cd3f","parent_id":"29d22c1f1f1dfde5","duration":59.182,"timestamp":1646055591235050,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/202","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/202","full":"http://opbeans-node:3000/api/customers/202"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-9cb2b3ab1747f91b8f7599336759cd3f-29d22c1f1f1dfde5-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-9cb2b3ab1747f91b8f7599336759cd3f-29d22c1f1f1dfde5-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"194","etag":"W/\"c2-PTZ22yvqVUaX97EvKT0nSI1TePY\"","date":"Mon, 28 Feb 2022 13:39:51 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"4fc06bbcd980e953","transaction_id":"b83e170d0a5447d0","parent_id":"b83e170d0a5447d0","trace_id":"9cb2b3ab1747f91b8f7599336759cd3f","subtype":"postgresql","action":"query","timestamp":1646055591267326,"duration":17.109,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"cd4ccb47ff85cf9c","trace_id":"10a82d37eb49217cc622792d3ad2debd","parent_id":"056765085f120cb7","duration":383.095,"timestamp":1646055591045021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-10a82d37eb49217cc622792d3ad2debd-056765085f120cb7-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-10a82d37eb49217cc622792d3ad2debd-056765085f120cb7-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"195dc75dd23c6abbf5c85d7fd3d619d1\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"498d15e0-ed78-46f1-a267-415fc375c80f","x-runtime":"0.146100","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:51 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"ec04b533224149b5","transaction_id":"cd4ccb47ff85cf9c","parent_id":"cd4ccb47ff85cf9c","trace_id":"10a82d37eb49217cc622792d3ad2debd","subtype":"http","action":"GET","timestamp":1646055591079667,"duration":341.193,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"66267509b082c385","transaction_id":"20cdc98620c2531a","parent_id":"20cdc98620c2531a","trace_id":"ba63dc8d74a96c6490828f2dc8223131","subtype":"redis","action":null,"timestamp":1646055591538208,"duration":3.815,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"20cdc98620c2531a","trace_id":"ba63dc8d74a96c6490828f2dc8223131","parent_id":"b8295ac8da484f8c","duration":54.863,"timestamp":1646055591519029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-ba63dc8d74a96c6490828f2dc8223131-b8295ac8da484f8c-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-ba63dc8d74a96c6490828f2dc8223131-b8295ac8da484f8c-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:39:51 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"b3a680438d0eed31","transaction_id":"20cdc98620c2531a","parent_id":"20cdc98620c2531a","trace_id":"ba63dc8d74a96c6490828f2dc8223131","subtype":"postgresql","action":"query","timestamp":1646055591543506,"duration":19.702,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a0b7631d9d2b26cf","trace_id":"ba63dc8d74a96c6490828f2dc8223131","duration":307.975,"timestamp":1646055591300023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:39:51 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"c096876cd93d45e3","transaction_id":"a0b7631d9d2b26cf","parent_id":"a0b7631d9d2b26cf","trace_id":"ba63dc8d74a96c6490828f2dc8223131","subtype":"http","action":"GET","timestamp":1646055591319006,"duration":276.674,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"af2bccc3aa14364f","trace_id":"9a514183ed8e782aaed3d0767504632b","parent_id":"da10113e19d338fd","duration":157.562,"timestamp":1646055591546023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-9a514183ed8e782aaed3d0767504632b-da10113e19d338fd-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-9a514183ed8e782aaed3d0767504632b-da10113e19d338fd-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:39:51 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"186769","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"55be64a4f27422ad","transaction_id":"af2bccc3aa14364f","parent_id":"af2bccc3aa14364f","trace_id":"9a514183ed8e782aaed3d0767504632b","subtype":"http","action":"GET","timestamp":1646055591556851,"duration":140.655,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"82ffe6defce59109","transaction_id":"4632c7ea711b0caa","parent_id":"4632c7ea711b0caa","trace_id":"75225aef0441903ea382847def82d2c0","subtype":"redis","action":null,"timestamp":1646055591736013,"duration":5.008,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"91bf7276cd18aa0b","transaction_id":"4632c7ea711b0caa","parent_id":"4632c7ea711b0caa","trace_id":"75225aef0441903ea382847def82d2c0","subtype":"postgresql","action":"query","timestamp":1646055591745569,"duration":2.73,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"4632c7ea711b0caa","trace_id":"75225aef0441903ea382847def82d2c0","parent_id":"80d19ba909586f8a","duration":31.704,"timestamp":1646055591724031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-75225aef0441903ea382847def82d2c0-80d19ba909586f8a-01","traceparent":"00-75225aef0441903ea382847def82d2c0-80d19ba909586f8a-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:39:51 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"a3613d3be18ef785","trace_id":"229cf535fac1a1556726fb3b809551a3","duration":73.671,"timestamp":1646055591790107,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:39:51 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /throw-error","type":"request","result":"HTTP 5xx","id":"662f293844dc0970","trace_id":"30a9b73efe21f51cf37864669f4dcda3","duration":22.697,"timestamp":1646055592269058,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/throw-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/throw-error","full":"http://opbeans-node:3000/throw-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:39:52 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"b49f3868e41db54d","trace_id":"60a955364a3e704ae0867a8d2e726a2f","duration":28.499,"timestamp":1646055592765046,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:39:52 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"f8d1e44e54bf9a10","transaction_id":"6199d92c51c22122","parent_id":"6199d92c51c22122","trace_id":"f62a8f9871fff75c004eb9d5c3362486","subtype":"postgresql","action":"query","timestamp":1646055593416175,"duration":13.678,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"6199d92c51c22122","trace_id":"f62a8f9871fff75c004eb9d5c3362486","duration":163.633,"timestamp":1646055593375048,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:39:53 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"3294f06f93de9469","transaction_id":"6199d92c51c22122","parent_id":"6199d92c51c22122","trace_id":"f62a8f9871fff75c004eb9d5c3362486","subtype":"postgresql","action":"query","timestamp":1646055593440118,"duration":58.989,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"85e2e025e104e9dc","transaction_id":"6199d92c51c22122","parent_id":"6199d92c51c22122","trace_id":"f62a8f9871fff75c004eb9d5c3362486","subtype":"postgresql","action":"query","timestamp":1646055593448172,"duration":66.578,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"7f5ba38c51a7a19f","transaction_id":"6199d92c51c22122","parent_id":"6199d92c51c22122","trace_id":"f62a8f9871fff75c004eb9d5c3362486","subtype":"postgresql","action":"query","timestamp":1646055593465573,"duration":58.119,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"3feb4feb505534ee","trace_id":"f1541ebbef4057b5eccc1fc1e0dc2e1e","duration":43.948,"timestamp":1646055593853036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"250","etag":"W/\"fa-O2pSp/nl49sefAwhjFNnvOX493Y\"","date":"Mon, 28 Feb 2022 13:39:53 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"92fe03cc54bd353e","transaction_id":"3feb4feb505534ee","parent_id":"3feb4feb505534ee","trace_id":"f1541ebbef4057b5eccc1fc1e0dc2e1e","subtype":"postgresql","action":"query","timestamp":1646055593869798,"duration":11.723,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"c626f6345c72403c","trace_id":"66d5735995cf9d7d37a296c7aca2873d","parent_id":"2f8dd67cbda1c38e","duration":11.784,"timestamp":1646055594326034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:39:54 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"b737ca38d8696e3c","transaction_id":"11c7032ca54791be","parent_id":"11c7032ca54791be","trace_id":"8cc5efeaec471d0d532560e34a126a57","subtype":"redis","action":null,"timestamp":1646055594873360,"duration":6.138,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"11c7032ca54791be","trace_id":"8cc5efeaec471d0d532560e34a126a57","duration":131.216,"timestamp":1646055594854074,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:39:54 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"c65b1ed6a3a29aa0","transaction_id":"11c7032ca54791be","parent_id":"11c7032ca54791be","trace_id":"8cc5efeaec471d0d532560e34a126a57","subtype":"postgresql","action":"query","timestamp":1646055594881802,"duration":48.029,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"8bdc4e59862d6a13","trace_id":"a1b1df8392c28e6e948e6bf3c8b5bf8e","parent_id":"860cd69182ba6362","duration":305.133,"timestamp":1646055595047118,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/507","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/507","full":"http://opbeans-node:3000/api/customers/507"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-a1b1df8392c28e6e948e6bf3c8b5bf8e-860cd69182ba6362-01","elastic-apm-traceparent":"00-a1b1df8392c28e6e948e6bf3c8b5bf8e-860cd69182ba6362-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"196","etag":"W/\"c4-DWY8j8LVBtYFKFdcqsE3r2Th/Fo\"","date":"Mon, 28 Feb 2022 13:39:55 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"94da3ab08d9cdbea","transaction_id":"8bdc4e59862d6a13","parent_id":"8bdc4e59862d6a13","trace_id":"a1b1df8392c28e6e948e6bf3c8b5bf8e","subtype":"postgresql","action":"query","timestamp":1646055595073777,"duration":204.34,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"46bf8199208dca53","trace_id":"f84a23cf63e4872e38608d9a95f4c327","duration":220.194,"timestamp":1646055595433045,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:39:55 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"525cfd618221cda2","transaction_id":"1e0001b7a75a94c9","parent_id":"1e0001b7a75a94c9","trace_id":"65433289fd3a683395cf5446384bd1e9","subtype":"redis","action":null,"timestamp":1646055595781109,"duration":3.154,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"605ac1a7001a9ba6","transaction_id":"1e0001b7a75a94c9","parent_id":"1e0001b7a75a94c9","trace_id":"65433289fd3a683395cf5446384bd1e9","subtype":"postgresql","action":"query","timestamp":1646055595786183,"duration":75.485,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"1e0001b7a75a94c9","trace_id":"65433289fd3a683395cf5446384bd1e9","parent_id":"40df933efca9e4ec","duration":173.266,"timestamp":1646055595771032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-65433289fd3a683395cf5446384bd1e9-40df933efca9e4ec-01","elastic-apm-traceparent":"00-65433289fd3a683395cf5446384bd1e9-40df933efca9e4ec-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:39:55 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"42764d9b23fc3f3c","trace_id":"68df3101fee4f75f2044e57e15f3263e","duration":82.573,"timestamp":1646055595987040,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-kkuzj37GZDzXDh0CWqh5Gan0VO4\"","date":"Mon, 28 Feb 2022 13:39:56 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d49a8543ebaf2d0d","transaction_id":"42764d9b23fc3f3c","parent_id":"42764d9b23fc3f3c","trace_id":"68df3101fee4f75f2044e57e15f3263e","subtype":"postgresql","action":"query","timestamp":1646055596038050,"duration":23.528,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"91230eb0616f4dc6","trace_id":"cd96b2d12f158cd68dce18d42e3ec65d","parent_id":"3c2af5345baa9098","duration":240.486,"timestamp":1646055606650317,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:06 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"00d0424592f043fb","trace_id":"7249683ac688b97f7aea00b4b0fa541a","parent_id":"71c9599b51c1d3e1","duration":221.242,"timestamp":1646055607033028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-7249683ac688b97f7aea00b4b0fa541a-71c9599b51c1d3e1-01","traceparent":"00-7249683ac688b97f7aea00b4b0fa541a-71c9599b51c1d3e1-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:07 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"123","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"150c3aab42222106","transaction_id":"d4fe7a087881007f","parent_id":"d4fe7a087881007f","trace_id":"7cacbab21e3cc81e99aa1641e9d7fbb0","subtype":"postgresql","action":"query","timestamp":1646055607143932,"duration":40.962,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"60bac09df46c5754","trace_id":"714c67ec687c762ea399465c9519e742","duration":226.921,"timestamp":1646055607167035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:40:07 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"c635b5737ee19818","transaction_id":"60bac09df46c5754","parent_id":"60bac09df46c5754","trace_id":"714c67ec687c762ea399465c9519e742","subtype":"postgresql","action":"query","timestamp":1646055607289045,"duration":73.309,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"d4fe7a087881007f","trace_id":"7cacbab21e3cc81e99aa1641e9d7fbb0","parent_id":"aadeb2933f0ea71e","duration":464.957,"timestamp":1646055606988026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-7cacbab21e3cc81e99aa1641e9d7fbb0-aadeb2933f0ea71e-01","elastic-apm-traceparent":"00-7cacbab21e3cc81e99aa1641e9d7fbb0-aadeb2933f0ea71e-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:07 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c93691649f4dcc5a","trace_id":"7cacbab21e3cc81e99aa1641e9d7fbb0","duration":735.889,"timestamp":1646055606778039,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:07 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"275","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"d913e0465afe20c1","transaction_id":"00d0424592f043fb","parent_id":"00d0424592f043fb","trace_id":"7249683ac688b97f7aea00b4b0fa541a","subtype":"http","action":"GET","timestamp":1646055607057508,"duration":172.198,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"db5f9789a65b342a","transaction_id":"c93691649f4dcc5a","parent_id":"c93691649f4dcc5a","trace_id":"7cacbab21e3cc81e99aa1641e9d7fbb0","subtype":"http","action":"GET","timestamp":1646055606812150,"duration":693.315,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"ed7835af1dc83c9f","transaction_id":"60bac09df46c5754","parent_id":"60bac09df46c5754","trace_id":"714c67ec687c762ea399465c9519e742","subtype":"redis","action":null,"timestamp":1646055607200242,"duration":72.192,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":217,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/orders', function (req, res) {"],"context_line":"  redis.get('orders', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"c1fc6011d9772303","transaction_id":"a502b1cb8a6d21fb","parent_id":"a502b1cb8a6d21fb","trace_id":"c79f80ae805877b4ca9785bd31f9cbf5","subtype":"redis","action":null,"timestamp":1646055607587980,"duration":7.433,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"a502b1cb8a6d21fb","trace_id":"c79f80ae805877b4ca9785bd31f9cbf5","duration":53.332,"timestamp":1646055607578024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:07 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c4e4f9c3a4af123b","transaction_id":"a502b1cb8a6d21fb","parent_id":"a502b1cb8a6d21fb","trace_id":"c79f80ae805877b4ca9785bd31f9cbf5","subtype":"postgresql","action":"query","timestamp":1646055607599173,"duration":11.771,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e5a42a24d3c02b68","trace_id":"f8107f7898e3cc196d1ea808175c9085","parent_id":"9e0b38417dd63a69","duration":374.984,"timestamp":1646055607477055,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1/customers?limit=60","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/1/customers","search":"?limit=60","full":"http://opbeans-go:3000/api/products/1/customers?limit=60"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-f8107f7898e3cc196d1ea808175c9085-9e0b38417dd63a69-01","traceparent":"00-f8107f7898e3cc196d1ea808175c9085-9e0b38417dd63a69-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"e4763b7c6f912f9b655fa667d293bf0c\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"5e117079-687e-4a7c-aec9-efbd138fd663","x-runtime":"0.041985","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:07 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"ce432963f6c3c244","transaction_id":"e5a42a24d3c02b68","parent_id":"e5a42a24d3c02b68","trace_id":"f8107f7898e3cc196d1ea808175c9085","subtype":"http","action":"GET","timestamp":1646055607496171,"duration":337.634,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/1/customers?limit=60"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"8af20dc8873cd681","transaction_id":"d4fe7a087881007f","parent_id":"d4fe7a087881007f","trace_id":"7cacbab21e3cc81e99aa1641e9d7fbb0","subtype":"postgresql","action":"query","timestamp":1646055607080862,"duration":30.075,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"45f7d30b730c546b","transaction_id":"d4fe7a087881007f","parent_id":"d4fe7a087881007f","trace_id":"7cacbab21e3cc81e99aa1641e9d7fbb0","subtype":"postgresql","action":"query","timestamp":1646055607329561,"duration":99.909,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ba6bdc3967aa7e5e","transaction_id":"d4fe7a087881007f","parent_id":"d4fe7a087881007f","trace_id":"7cacbab21e3cc81e99aa1641e9d7fbb0","subtype":"postgresql","action":"query","timestamp":1646055607339179,"duration":101.938,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"f94083463fbc1139","trace_id":"65bc64ddd7f8a17c734c0d7127f94354","parent_id":"aac310cc0848ae23","duration":138.026,"timestamp":1646055608385039,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-go:3000/api/products/5/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-65bc64ddd7f8a17c734c0d7127f94354-aac310cc0848ae23-01","traceparent":"00-65bc64ddd7f8a17c734c0d7127f94354-aac310cc0848ae23-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:40:08 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"34f9d45e86a26c7b","transaction_id":"f94083463fbc1139","parent_id":"f94083463fbc1139","trace_id":"65bc64ddd7f8a17c734c0d7127f94354","subtype":"postgresql","action":"query","timestamp":1646055608414328,"duration":81.887,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"53d554fff127ef5b","transaction_id":"688f6ce7d7aa6ccb","parent_id":"688f6ce7d7aa6ccb","trace_id":"eb338752d55fb404ddb60809e08b0199","subtype":"redis","action":null,"timestamp":1646055608483347,"duration":81.625,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":59,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/products', function (req, res) {"],"context_line":"  redis.get('products', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"688f6ce7d7aa6ccb","trace_id":"eb338752d55fb404ddb60809e08b0199","duration":186.323,"timestamp":1646055608444222,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:08 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d32bd40b0f8e7d0f","transaction_id":"688f6ce7d7aa6ccb","parent_id":"688f6ce7d7aa6ccb","trace_id":"eb338752d55fb404ddb60809e08b0199","subtype":"postgresql","action":"query","timestamp":1646055608582541,"duration":36.006,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"8deb355e7f28885a","trace_id":"c06718ca7d4b7dcf0fd76c992896ba57","parent_id":"baaad981dba40747","duration":98.781,"timestamp":1646055608589034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/3","full":"http://opbeans-go:3000/api/products/3"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-c06718ca7d4b7dcf0fd76c992896ba57-baaad981dba40747-01","traceparent":"00-c06718ca7d4b7dcf0fd76c992896ba57-baaad981dba40747-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-kkuzj37GZDzXDh0CWqh5Gan0VO4\"","date":"Mon, 28 Feb 2022 13:40:08 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"45091462ff69a810","transaction_id":"8deb355e7f28885a","parent_id":"8deb355e7f28885a","trace_id":"c06718ca7d4b7dcf0fd76c992896ba57","subtype":"postgresql","action":"query","timestamp":1646055608609188,"duration":60.881,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"8b4aa2a7e7e55132","transaction_id":"9015eb8b23817f6c","parent_id":"9015eb8b23817f6c","trace_id":"a2f68c30aa5ad5c71644d38fde05a87c","subtype":"postgresql","action":"query","timestamp":1646055608751204,"duration":9.682,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"9015eb8b23817f6c","trace_id":"a2f68c30aa5ad5c71644d38fde05a87c","duration":77.002,"timestamp":1646055608700028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/138","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/138","full":"http://opbeans-node:3000/api/orders/138"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:08 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"cc10ecd3ae693927","transaction_id":"c57b57adf03a4dfc","parent_id":"c57b57adf03a4dfc","trace_id":"46890da57b6fe9d41761d215e4260815","subtype":"postgresql","action":"query","timestamp":1646055609091074,"duration":8.213,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"c57b57adf03a4dfc","trace_id":"46890da57b6fe9d41761d215e4260815","duration":85.283,"timestamp":1646055609066096,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"243","etag":"W/\"f3-6sVO4eOixKeSqLsiOclAUoIfJnQ\"","date":"Mon, 28 Feb 2022 13:40:09 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"f32255cc6ab39e16","transaction_id":"2cf71469dba16bf2","parent_id":"2cf71469dba16bf2","trace_id":"92e256bb353aebba268f506ee3bfab9d","subtype":"redis","action":null,"timestamp":1646055609563845,"duration":3.433,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"773153cb1a48075b","transaction_id":"2cf71469dba16bf2","parent_id":"2cf71469dba16bf2","trace_id":"92e256bb353aebba268f506ee3bfab9d","subtype":"postgresql","action":"query","timestamp":1646055609574577,"duration":9.052,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"2cf71469dba16bf2","trace_id":"92e256bb353aebba268f506ee3bfab9d","duration":50.687,"timestamp":1646055609549033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:40:09 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"addac42097b66fb6","trace_id":"d14d58267cb344fa7a55ab5075b14e77","parent_id":"9e28fcb8c327ed52","duration":1429.862,"timestamp":1646055608265054,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2","full":"http://opbeans-node:3000/api/products/2"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-d14d58267cb344fa7a55ab5075b14e77-9e28fcb8c327ed52-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-d14d58267cb344fa7a55ab5075b14e77-9e28fcb8c327ed52-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:09 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"02121e0cd84fcbc7","transaction_id":"addac42097b66fb6","parent_id":"addac42097b66fb6","trace_id":"d14d58267cb344fa7a55ab5075b14e77","subtype":"http","action":"GET","timestamp":1646055608343557,"duration":1343.307,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"fa723b62032aa127","trace_id":"d14d58267cb344fa7a55ab5075b14e77","parent_id":"250a23a880df8705","duration":2196.645,"timestamp":1646055607522022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2","full":"http://opbeans-node:3000/api/products/2"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-d14d58267cb344fa7a55ab5075b14e77-250a23a880df8705-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-d14d58267cb344fa7a55ab5075b14e77-250a23a880df8705-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:09 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"8ba52cbbe83ae69f","transaction_id":"fa723b62032aa127","parent_id":"fa723b62032aa127","trace_id":"d14d58267cb344fa7a55ab5075b14e77","subtype":"http","action":"GET","timestamp":1646055607551529,"duration":2159.073,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"7dc3249878afbea5","transaction_id":"944764eba6d8f831","parent_id":"944764eba6d8f831","trace_id":"18adef0b4ab8001cec10228f5fc1d621","subtype":"postgresql","action":"query","timestamp":1646055609762398,"duration":5.82,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"944764eba6d8f831","trace_id":"18adef0b4ab8001cec10228f5fc1d621","parent_id":"02a8c11adb101ec8","duration":32.255,"timestamp":1646055609750022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/266","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/266","full":"http://opbeans-node:3000/api/customers/266"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-18adef0b4ab8001cec10228f5fc1d621-02a8c11adb101ec8-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-18adef0b4ab8001cec10228f5fc1d621-02a8c11adb101ec8-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"185","etag":"W/\"b9-n1ir0JylD2Z9TVg+o6rEEe6+JCU\"","date":"Mon, 28 Feb 2022 13:40:09 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"5ce0fd90b77b47e7","trace_id":"0dc60ce000afaaf00bf86ad05c6bc590","parent_id":"5c8456f84e347999","duration":47.947,"timestamp":1646055609835069,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/504","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/504","full":"http://opbeans-node:3000/api/customers/504"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-0dc60ce000afaaf00bf86ad05c6bc590-5c8456f84e347999-01","elastic-apm-traceparent":"00-0dc60ce000afaaf00bf86ad05c6bc590-5c8456f84e347999-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-fkJ1KkcEzGoFWGbKdsDWLtOV7qo\"","date":"Mon, 28 Feb 2022 13:40:09 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"6be575fdf7ee2eb5","transaction_id":"5ce0fd90b77b47e7","parent_id":"5ce0fd90b77b47e7","trace_id":"0dc60ce000afaaf00bf86ad05c6bc590","subtype":"postgresql","action":"query","timestamp":1646055609854155,"duration":12.966,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f3b032bfaa192e19","transaction_id":"ab3ef65e1b698189","parent_id":"ab3ef65e1b698189","trace_id":"910687aa13654b2136dfc69006e90d0b","subtype":"postgresql","action":"query","timestamp":1646055610026947,"duration":15.786,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"b82ba0535a02c006","transaction_id":"ab3ef65e1b698189","parent_id":"ab3ef65e1b698189","trace_id":"910687aa13654b2136dfc69006e90d0b","subtype":"postgresql","action":"query","timestamp":1646055610032032,"duration":17.981,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"56a2df4e5a5844d9","transaction_id":"ab3ef65e1b698189","parent_id":"ab3ef65e1b698189","trace_id":"910687aa13654b2136dfc69006e90d0b","subtype":"postgresql","action":"query","timestamp":1646055610035653,"duration":17.787,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"0d9f83be20715283","transaction_id":"ab3ef65e1b698189","parent_id":"ab3ef65e1b698189","trace_id":"910687aa13654b2136dfc69006e90d0b","subtype":"postgresql","action":"query","timestamp":1646055610097534,"duration":5.315,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"6a26cff90547fa3a","transaction_id":"ab3ef65e1b698189","parent_id":"ab3ef65e1b698189","trace_id":"910687aa13654b2136dfc69006e90d0b","subtype":"postgresql","action":"query","timestamp":1646055610106153,"duration":9.404,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"2ef99a061ca4bb0c","trace_id":"32a94eef3f9483702a50a2799efdc200","duration":65.634,"timestamp":1646055610071089,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3/customers","full":"http://opbeans-node:3000/api/products/3/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:10 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"ab3ef65e1b698189","trace_id":"910687aa13654b2136dfc69006e90d0b","parent_id":"040d9be4a391d103","duration":151.686,"timestamp":1646055610013042,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-910687aa13654b2136dfc69006e90d0b-040d9be4a391d103-01","traceparent":"00-910687aa13654b2136dfc69006e90d0b-040d9be4a391d103-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:40:10 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"a14245b063ded717","transaction_id":"2ef99a061ca4bb0c","parent_id":"2ef99a061ca4bb0c","trace_id":"32a94eef3f9483702a50a2799efdc200","subtype":"http","action":"GET","timestamp":1646055610088466,"duration":37.258,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/3/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"4d47ead0ea83f9fa","transaction_id":"ab3ef65e1b698189","parent_id":"ab3ef65e1b698189","trace_id":"910687aa13654b2136dfc69006e90d0b","subtype":"postgresql","action":"query","timestamp":1646055610110122,"duration":37.633,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"3f6a4a7c72be68f3","transaction_id":"ab3ef65e1b698189","parent_id":"ab3ef65e1b698189","trace_id":"910687aa13654b2136dfc69006e90d0b","subtype":"postgresql","action":"query","timestamp":1646055610112534,"duration":40.484,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"1e57dd79c0e9a625","transaction_id":"db1f0209903fa88e","parent_id":"db1f0209903fa88e","trace_id":"17f11f99de73b0f56a513223acdff766","subtype":"postgresql","action":"query","timestamp":1646055610512786,"duration":6.824,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"db1f0209903fa88e","trace_id":"17f11f99de73b0f56a513223acdff766","parent_id":"bca806febdb76372","duration":56.408,"timestamp":1646055610501094,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-17f11f99de73b0f56a513223acdff766-bca806febdb76372-01","elastic-apm-traceparent":"00-17f11f99de73b0f56a513223acdff766-bca806febdb76372-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:10 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"88a8e4adef3b0dc2","transaction_id":"db1f0209903fa88e","parent_id":"db1f0209903fa88e","trace_id":"17f11f99de73b0f56a513223acdff766","subtype":"postgresql","action":"query","timestamp":1646055610521737,"duration":13.162,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ebf2dc7809dedb18","transaction_id":"db1f0209903fa88e","parent_id":"db1f0209903fa88e","trace_id":"17f11f99de73b0f56a513223acdff766","subtype":"postgresql","action":"query","timestamp":1646055610525716,"duration":13.953,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1ce6a8aa4bf93446","transaction_id":"db1f0209903fa88e","parent_id":"db1f0209903fa88e","trace_id":"17f11f99de73b0f56a513223acdff766","subtype":"postgresql","action":"query","timestamp":1646055610528733,"duration":19.14,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"8708dbfefb37d1f8","trace_id":"f4b810296d45ac968577cf72f21063ac","duration":27.719,"timestamp":1646055610598017,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:10 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"387d72813105b675","transaction_id":"b895ccfb8da8541f","parent_id":"b895ccfb8da8541f","trace_id":"2eff1445fb3b56e606f21ae8ed4b11e1","subtype":"redis","action":null,"timestamp":1646055610701758,"duration":1.764,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d035173112cdfce8","transaction_id":"b895ccfb8da8541f","parent_id":"b895ccfb8da8541f","trace_id":"2eff1445fb3b56e606f21ae8ed4b11e1","subtype":"postgresql","action":"query","timestamp":1646055610705006,"duration":4.122,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"b895ccfb8da8541f","trace_id":"2eff1445fb3b56e606f21ae8ed4b11e1","parent_id":"ac9c009027ce1c7d","duration":15.855,"timestamp":1646055610697019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-2eff1445fb3b56e606f21ae8ed4b11e1-ac9c009027ce1c7d-01","traceparent":"00-2eff1445fb3b56e606f21ae8ed4b11e1-ac9c009027ce1c7d-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:10 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"81a1ac228e6525ff","trace_id":"2eff1445fb3b56e606f21ae8ed4b11e1","parent_id":"9f0c5a77e0470e22","duration":49.738,"timestamp":1646055610678028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-2eff1445fb3b56e606f21ae8ed4b11e1-9f0c5a77e0470e22-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-2eff1445fb3b56e606f21ae8ed4b11e1-9f0c5a77e0470e22-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"1023","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:10 GMT","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"a67b0d0af95e813c","transaction_id":"81a1ac228e6525ff","parent_id":"81a1ac228e6525ff","trace_id":"2eff1445fb3b56e606f21ae8ed4b11e1","subtype":"http","action":"GET","timestamp":1646055610685820,"duration":34.864,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"050557fd171ccfb6","trace_id":"2eff1445fb3b56e606f21ae8ed4b11e1","parent_id":"e4f3f2553062f9b0","duration":223.149,"timestamp":1646055610587020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-2eff1445fb3b56e606f21ae8ed4b11e1-e4f3f2553062f9b0-01","traceparent":"00-2eff1445fb3b56e606f21ae8ed4b11e1-e4f3f2553062f9b0-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:10 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"3f3c060e39da0ac6","transaction_id":"050557fd171ccfb6","parent_id":"050557fd171ccfb6","trace_id":"2eff1445fb3b56e606f21ae8ed4b11e1","subtype":"http","action":"GET","timestamp":1646055610592521,"duration":203.468,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"2304a5fd058c37c8","trace_id":"2dcfef8875c5a9aaffe1a48edd5d8441","parent_id":"640e6e2f6a16fdbc","duration":114.589,"timestamp":1646055610818090,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/400","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/400","full":"http://opbeans-node:3000/api/customers/400"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-2dcfef8875c5a9aaffe1a48edd5d8441-640e6e2f6a16fdbc-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-2dcfef8875c5a9aaffe1a48edd5d8441-640e6e2f6a16fdbc-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"182","etag":"W/\"b6-ZV3PaUijzdcSKknRYutlCNbRyu0\"","date":"Mon, 28 Feb 2022 13:40:10 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"22e255b3424d6519","transaction_id":"2304a5fd058c37c8","parent_id":"2304a5fd058c37c8","trace_id":"2dcfef8875c5a9aaffe1a48edd5d8441","subtype":"postgresql","action":"query","timestamp":1646055610875041,"duration":34.105,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"588d5f39b9999fad","transaction_id":"4974065e3d198d60","parent_id":"4974065e3d198d60","trace_id":"6951351afd20e23b92194ce6723263cb","subtype":"http","action":"GET","timestamp":1646055611099583,"duration":9.883,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4974065e3d198d60","trace_id":"6951351afd20e23b92194ce6723263cb","parent_id":"d28aec36ed1620d5","duration":24.877,"timestamp":1646055611095019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-6951351afd20e23b92194ce6723263cb-d28aec36ed1620d5-01","elastic-apm-traceparent":"00-6951351afd20e23b92194ce6723263cb-d28aec36ed1620d5-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:11 GMT","content-length":"110","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"787d2b8b5ca81555","trace_id":"6951351afd20e23b92194ce6723263cb","duration":101.321,"timestamp":1646055611061034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:11 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"110","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"c0c030bec06c434d","transaction_id":"787d2b8b5ca81555","parent_id":"787d2b8b5ca81555","trace_id":"6951351afd20e23b92194ce6723263cb","subtype":"http","action":"GET","timestamp":1646055611066338,"duration":83.831,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"72901219a05fd6f7","trace_id":"222e66d429a3334459f62fbd95e789fd","parent_id":"34313ce34b696bd7","duration":303.329,"timestamp":1646055611021030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-222e66d429a3334459f62fbd95e789fd-34313ce34b696bd7-01","elastic-apm-traceparent":"00-222e66d429a3334459f62fbd95e789fd-34313ce34b696bd7-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:11 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"2926","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"a683afd2e181799d","transaction_id":"72901219a05fd6f7","parent_id":"72901219a05fd6f7","trace_id":"222e66d429a3334459f62fbd95e789fd","subtype":"http","action":"GET","timestamp":1646055611038044,"duration":277.963,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"8edaff70c607f395","trace_id":"222e66d429a3334459f62fbd95e789fd","parent_id":"77928d5a3018879a","duration":413.982,"timestamp":1646055610959022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-222e66d429a3334459f62fbd95e789fd-77928d5a3018879a-01","elastic-apm-traceparent":"00-222e66d429a3334459f62fbd95e789fd-77928d5a3018879a-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:11 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"2926","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"000df3967f0789fc","transaction_id":"8edaff70c607f395","parent_id":"8edaff70c607f395","trace_id":"222e66d429a3334459f62fbd95e789fd","subtype":"http","action":"GET","timestamp":1646055610976751,"duration":391.35,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"0b96010d803db8dd","trace_id":"f3d719c9ad7996e5835642bd82cecd6c","duration":42.973,"timestamp":1646055611557026,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:11 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"e929a0cb473fde93","trace_id":"10c4037beeedb0045d1eb4117b4a787c","parent_id":"060b98a2f71e3e83","duration":66.375,"timestamp":1646055611983044,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/921","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/921","full":"http://opbeans-node:3000/api/customers/921"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-10c4037beeedb0045d1eb4117b4a787c-060b98a2f71e3e83-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-10c4037beeedb0045d1eb4117b4a787c-060b98a2f71e3e83-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"183","etag":"W/\"b7-uz3AejOULotQipyg4cTHuFU9YDs\"","date":"Mon, 28 Feb 2022 13:40:12 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"55011acf514ddb72","transaction_id":"e929a0cb473fde93","parent_id":"e929a0cb473fde93","trace_id":"10c4037beeedb0045d1eb4117b4a787c","subtype":"postgresql","action":"query","timestamp":1646055611999101,"duration":26.593,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"48150360fcbcd06b","transaction_id":"9c2a8fe5d20fb453","parent_id":"9c2a8fe5d20fb453","trace_id":"75f31d986f25494d2672c16694fb46df","subtype":"postgresql","action":"query","timestamp":1646055612098962,"duration":42.227,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"3a8b7920137f0c86","transaction_id":"9c2a8fe5d20fb453","parent_id":"9c2a8fe5d20fb453","trace_id":"75f31d986f25494d2672c16694fb46df","subtype":"postgresql","action":"query","timestamp":1646055612104201,"duration":40.419,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"0cebb05fe07254a1","transaction_id":"9c2a8fe5d20fb453","parent_id":"9c2a8fe5d20fb453","trace_id":"75f31d986f25494d2672c16694fb46df","subtype":"postgresql","action":"query","timestamp":1646055612115209,"duration":70.168,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"e5c608d38b9018e6","transaction_id":"9c2a8fe5d20fb453","parent_id":"9c2a8fe5d20fb453","trace_id":"75f31d986f25494d2672c16694fb46df","subtype":"postgresql","action":"query","timestamp":1646055612124226,"duration":113.011,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"9c2a8fe5d20fb453","trace_id":"75f31d986f25494d2672c16694fb46df","duration":291.741,"timestamp":1646055612078031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:40:12 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"db08084238ee8bf9","transaction_id":"9c2a8fe5d20fb453","parent_id":"9c2a8fe5d20fb453","trace_id":"75f31d986f25494d2672c16694fb46df","subtype":"postgresql","action":"query","timestamp":1646055612274073,"duration":23.986,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ee16d949cb18538a","transaction_id":"9c2a8fe5d20fb453","parent_id":"9c2a8fe5d20fb453","trace_id":"75f31d986f25494d2672c16694fb46df","subtype":"postgresql","action":"query","timestamp":1646055612262449,"duration":41.765,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"85e191ebb7d9a853","transaction_id":"9c2a8fe5d20fb453","parent_id":"9c2a8fe5d20fb453","trace_id":"75f31d986f25494d2672c16694fb46df","subtype":"postgresql","action":"query","timestamp":1646055612256266,"duration":75.116,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"b755809a810cf7f4","transaction_id":"fc18ac3d5d746c7e","parent_id":"fc18ac3d5d746c7e","trace_id":"b0200577f0c525f9627c71ecc19f5c6f","subtype":"postgresql","action":"query","timestamp":1646055612553045,"duration":7.105,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0d8aab6eb40c2175","transaction_id":"fc18ac3d5d746c7e","parent_id":"fc18ac3d5d746c7e","trace_id":"b0200577f0c525f9627c71ecc19f5c6f","subtype":"postgresql","action":"query","timestamp":1646055612562202,"duration":7.651,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"dbab54367b1688ff","trace_id":"2a60c5e5894cd79cd3216e10795dab2f","parent_id":"72f4f7be02ee0c74","duration":109.151,"timestamp":1646055612493020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/69","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/69","full":"http://opbeans-node:3000/api/orders/69"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-2a60c5e5894cd79cd3216e10795dab2f-72f4f7be02ee0c74-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-2a60c5e5894cd79cd3216e10795dab2f-72f4f7be02ee0c74-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=UTF-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:12 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"fc18ac3d5d746c7e","trace_id":"b0200577f0c525f9627c71ecc19f5c6f","duration":90.394,"timestamp":1646055612548026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:12 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"28b5796aaac4e56b","transaction_id":"dbab54367b1688ff","parent_id":"dbab54367b1688ff","trace_id":"2a60c5e5894cd79cd3216e10795dab2f","subtype":"http","action":"GET","timestamp":1646055612501200,"duration":79.124,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/orders/69"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8067dc8805775624","transaction_id":"fc18ac3d5d746c7e","parent_id":"fc18ac3d5d746c7e","trace_id":"b0200577f0c525f9627c71ecc19f5c6f","subtype":"postgresql","action":"query","timestamp":1646055612565103,"duration":42.424,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"7a9d93a737876bb6","transaction_id":"fc18ac3d5d746c7e","parent_id":"fc18ac3d5d746c7e","trace_id":"b0200577f0c525f9627c71ecc19f5c6f","subtype":"postgresql","action":"query","timestamp":1646055612567068,"duration":65.782,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"4a2b62c9796e0732","transaction_id":"30617000493b0b65","parent_id":"30617000493b0b65","trace_id":"c490fe1ac3e3962b34b78578bb93c2a6","subtype":"postgresql","action":"query","timestamp":1646055612808675,"duration":3.641,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"30617000493b0b65","trace_id":"c490fe1ac3e3962b34b78578bb93c2a6","parent_id":"e8fa6c83c4b5a302","duration":19.655,"timestamp":1646055612800027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/450","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/450","full":"http://opbeans-node:3000/api/customers/450"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-c490fe1ac3e3962b34b78578bb93c2a6-e8fa6c83c4b5a302-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-c490fe1ac3e3962b34b78578bb93c2a6-e8fa6c83c4b5a302-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"180","etag":"W/\"b4-qo2IYFP/MyPsw1H9zxXRkT+ahPo\"","date":"Mon, 28 Feb 2022 13:40:12 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"4fdb2dc35136a6eb","trace_id":"7d4a2c7c20aa6d57a94877e086b1b918","duration":11.15,"timestamp":1646055613049026,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:13 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"9cedc71f93935ca4","transaction_id":"23fef4a00da5dbea","parent_id":"23fef4a00da5dbea","trace_id":"179bf385bddcf63b0606e90d209ab474","subtype":"redis","action":null,"timestamp":1646055613597616,"duration":21.542,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":217,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/orders', function (req, res) {"],"context_line":"  redis.get('orders', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"23fef4a00da5dbea","trace_id":"179bf385bddcf63b0606e90d209ab474","duration":171.775,"timestamp":1646055613571075,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:40:13 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"25fcdc14a5bde9c2","transaction_id":"23fef4a00da5dbea","parent_id":"23fef4a00da5dbea","trace_id":"179bf385bddcf63b0606e90d209ab474","subtype":"postgresql","action":"query","timestamp":1646055613655516,"duration":39.375,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ceeca4e622257821","transaction_id":"49604385ca271260","parent_id":"49604385ca271260","trace_id":"d020e987a7417dffac6908928a6ce1c6","subtype":"postgresql","action":"query","timestamp":1646055614171008,"duration":7.319,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"49604385ca271260","trace_id":"d020e987a7417dffac6908928a6ce1c6","parent_id":"6cd282badefdfd04","duration":28.304,"timestamp":1646055614158024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-d020e987a7417dffac6908928a6ce1c6-6cd282badefdfd04-01","elastic-apm-traceparent":"00-d020e987a7417dffac6908928a6ce1c6-6cd282badefdfd04-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-kkuzj37GZDzXDh0CWqh5Gan0VO4\"","date":"Mon, 28 Feb 2022 13:40:14 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"cb0d255b6097dd4b","trace_id":"d020e987a7417dffac6908928a6ce1c6","duration":194.995,"timestamp":1646055614060026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:14 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"231","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"c4d77382aa4362a2","transaction_id":"cb0d255b6097dd4b","parent_id":"cb0d255b6097dd4b","trace_id":"d020e987a7417dffac6908928a6ce1c6","subtype":"http","action":"GET","timestamp":1646055614083523,"duration":150.502,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/3"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"165cebcaee8e91e8","transaction_id":"f28f0d1e02b14ca0","parent_id":"f28f0d1e02b14ca0","trace_id":"7093e608329ea335e76472ad4e830d8c","subtype":"postgresql","action":"query","timestamp":1646055614560440,"duration":26.003,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"fca6a83bcfe5eb51","transaction_id":"f28f0d1e02b14ca0","parent_id":"f28f0d1e02b14ca0","trace_id":"7093e608329ea335e76472ad4e830d8c","subtype":"postgresql","action":"query","timestamp":1646055614567126,"duration":30.354,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"664da6ff31dc2448","transaction_id":"f28f0d1e02b14ca0","parent_id":"f28f0d1e02b14ca0","trace_id":"7093e608329ea335e76472ad4e830d8c","subtype":"postgresql","action":"query","timestamp":1646055614575015,"duration":30.959,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"ea0cf6ce2ccf08ef","transaction_id":"f28f0d1e02b14ca0","parent_id":"f28f0d1e02b14ca0","trace_id":"7093e608329ea335e76472ad4e830d8c","subtype":"postgresql","action":"query","timestamp":1646055614582282,"duration":27.747,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"f28f0d1e02b14ca0","trace_id":"7093e608329ea335e76472ad4e830d8c","duration":183.604,"timestamp":1646055614552020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:40:14 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"90c5e50ce43bd303","transaction_id":"f28f0d1e02b14ca0","parent_id":"f28f0d1e02b14ca0","trace_id":"7093e608329ea335e76472ad4e830d8c","subtype":"postgresql","action":"query","timestamp":1646055614627819,"duration":38.378,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e89a126a74f6d5c1","transaction_id":"f28f0d1e02b14ca0","parent_id":"f28f0d1e02b14ca0","trace_id":"7093e608329ea335e76472ad4e830d8c","subtype":"postgresql","action":"query","timestamp":1646055614618297,"duration":69.788,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1680bd1bb89e1cfa","transaction_id":"f28f0d1e02b14ca0","parent_id":"f28f0d1e02b14ca0","trace_id":"7093e608329ea335e76472ad4e830d8c","subtype":"postgresql","action":"query","timestamp":1646055614615131,"duration":91.613,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"6bd6ea7b903425da","trace_id":"a1c2a5338942d3429cceed016107a414","duration":160.15,"timestamp":1646055615078055,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:15 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"186769","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"c149b0234cadbdef","transaction_id":"6bd6ea7b903425da","parent_id":"6bd6ea7b903425da","trace_id":"a1c2a5338942d3429cceed016107a414","subtype":"http","action":"GET","timestamp":1646055615101666,"duration":113.847,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"0062976ab1a95a27","transaction_id":"ca99ee6694e00a70","parent_id":"ca99ee6694e00a70","trace_id":"ee834b3d91e374c06f723c62220e6a21","subtype":"redis","action":null,"timestamp":1646055615581355,"duration":10.306,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":142,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/types', function (req, res) {"],"context_line":"  redis.get('types', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"ca99ee6694e00a70","trace_id":"ee834b3d91e374c06f723c62220e6a21","duration":105.393,"timestamp":1646055615565060,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:40:15 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"fa7ce039d251d55f","transaction_id":"ca99ee6694e00a70","parent_id":"ca99ee6694e00a70","trace_id":"ee834b3d91e374c06f723c62220e6a21","subtype":"postgresql","action":"query","timestamp":1646055615600581,"duration":48.175,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"00edbc392ee1fa8c","transaction_id":"1081fdbd36eb3e2e","parent_id":"1081fdbd36eb3e2e","trace_id":"7b9e7f637f2d55a42ac727d542fcddc1","subtype":"redis","action":null,"timestamp":1646055616155424,"duration":21.993,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":59,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/products', function (req, res) {"],"context_line":"  redis.get('products', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"1081fdbd36eb3e2e","trace_id":"7b9e7f637f2d55a42ac727d542fcddc1","duration":164.027,"timestamp":1646055616111048,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:16 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"fa5182008db42c4e","transaction_id":"1081fdbd36eb3e2e","parent_id":"1081fdbd36eb3e2e","trace_id":"7b9e7f637f2d55a42ac727d542fcddc1","subtype":"postgresql","action":"query","timestamp":1646055616201711,"duration":30.776,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /is-it-coffee-time","type":"request","result":"HTTP 5xx","id":"2c5dca9637127c36","trace_id":"c3df90c9df6d805786f8082b71d147f3","duration":73.596,"timestamp":1646055616574046,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/is-it-coffee-time","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/is-it-coffee-time","full":"http://opbeans-node:3000/is-it-coffee-time"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:40:16 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"2615213c3fea1360","transaction_id":"491aef78b2cbcaf8","parent_id":"491aef78b2cbcaf8","trace_id":"d5d95a9c4885ebc688d11624db401158","subtype":"redis","action":null,"timestamp":1646055617191744,"duration":7.903,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"491aef78b2cbcaf8","trace_id":"d5d95a9c4885ebc688d11624db401158","duration":235.895,"timestamp":1646055617132082,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:40:17 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"2eb85795b347979d","transaction_id":"491aef78b2cbcaf8","parent_id":"491aef78b2cbcaf8","trace_id":"d5d95a9c4885ebc688d11624db401158","subtype":"postgresql","action":"query","timestamp":1646055617218196,"duration":88.662,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"68d5ab2e8d989d16","trace_id":"77988a6b477747082f41addf46983759","parent_id":"c21b1ed8975b25a9","duration":225.071,"timestamp":1646055617237381,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:17 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"65e6187946ba6925","transaction_id":"b51b5e7cdf49e596","parent_id":"b51b5e7cdf49e596","trace_id":"5587fd67ed111c59c4b0fbac6c23dddd","subtype":"postgresql","action":"query","timestamp":1646055617590122,"duration":63.037,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"3ac6c7a8b8532cf7","transaction_id":"b51b5e7cdf49e596","parent_id":"b51b5e7cdf49e596","trace_id":"5587fd67ed111c59c4b0fbac6c23dddd","subtype":"postgresql","action":"query","timestamp":1646055617600395,"duration":68.35,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"a16437add7e2b7bb","transaction_id":"b51b5e7cdf49e596","parent_id":"b51b5e7cdf49e596","trace_id":"5587fd67ed111c59c4b0fbac6c23dddd","subtype":"postgresql","action":"query","timestamp":1646055617616693,"duration":124.218,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"9d1383a9cb7203c7","transaction_id":"b51b5e7cdf49e596","parent_id":"b51b5e7cdf49e596","trace_id":"5587fd67ed111c59c4b0fbac6c23dddd","subtype":"postgresql","action":"query","timestamp":1646055617635355,"duration":134.647,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"29a9e1ab28ca1c99","transaction_id":"b51b5e7cdf49e596","parent_id":"b51b5e7cdf49e596","trace_id":"5587fd67ed111c59c4b0fbac6c23dddd","subtype":"postgresql","action":"query","timestamp":1646055617803695,"duration":7.563,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"b51b5e7cdf49e596","trace_id":"5587fd67ed111c59c4b0fbac6c23dddd","duration":248.784,"timestamp":1646055617575023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:40:17 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f68ce6b6e6f14520","transaction_id":"b51b5e7cdf49e596","parent_id":"b51b5e7cdf49e596","trace_id":"5587fd67ed111c59c4b0fbac6c23dddd","subtype":"postgresql","action":"query","timestamp":1646055617800725,"duration":12.741,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"9408c41889380c56","transaction_id":"b51b5e7cdf49e596","parent_id":"b51b5e7cdf49e596","trace_id":"5587fd67ed111c59c4b0fbac6c23dddd","subtype":"postgresql","action":"query","timestamp":1646055617783903,"duration":32.283,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"03dc831863894689","trace_id":"1646545e65700f3274e847226ed2dc4d","duration":35.271,"timestamp":1646055618072026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:18 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"1353d5ae23bc29d3","transaction_id":"03dc831863894689","parent_id":"03dc831863894689","trace_id":"1646545e65700f3274e847226ed2dc4d","subtype":"http","action":"GET","timestamp":1646055618083729,"duration":18.953,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"6cc991e06bb7db67","transaction_id":"c1c14e21f9903c48","parent_id":"c1c14e21f9903c48","trace_id":"48009750c6ea64add1c7f794b0f5a36f","subtype":"postgresql","action":"query","timestamp":1646055618618317,"duration":8.631,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"c1c14e21f9903c48","trace_id":"48009750c6ea64add1c7f794b0f5a36f","duration":79.545,"timestamp":1646055618605034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:18 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ba3357636644fab7","transaction_id":"c1c14e21f9903c48","parent_id":"c1c14e21f9903c48","trace_id":"48009750c6ea64add1c7f794b0f5a36f","subtype":"postgresql","action":"query","timestamp":1646055618635461,"duration":19.424,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"6c41ad4cc4c3be03","transaction_id":"c1c14e21f9903c48","parent_id":"c1c14e21f9903c48","trace_id":"48009750c6ea64add1c7f794b0f5a36f","subtype":"postgresql","action":"query","timestamp":1646055618641774,"duration":22.018,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8775917fe04391b0","transaction_id":"c1c14e21f9903c48","parent_id":"c1c14e21f9903c48","trace_id":"48009750c6ea64add1c7f794b0f5a36f","subtype":"postgresql","action":"query","timestamp":1646055618647169,"duration":24.426,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"9a140ca271dcb6f7","trace_id":"57cac0fb11e75b5a48855c6ef58444cd","duration":54.532,"timestamp":1646055619068021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:40:19 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"d8aa1806dc56121f","trace_id":"1dc39a0ec19e7bdd94ea25b5c3e2d05f","duration":20.829,"timestamp":1646055619579023,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:19 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"9726504df14ccc85","trace_id":"cf203921590d1ff478d37a6e95a42b80","duration":140.912,"timestamp":1646055620089032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/89","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/89","full":"http://opbeans-node:3000/api/orders/89"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:20 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"4dfa78cd7892d249","transaction_id":"9726504df14ccc85","parent_id":"9726504df14ccc85","trace_id":"cf203921590d1ff478d37a6e95a42b80","subtype":"http","action":"GET","timestamp":1646055620103196,"duration":102.813,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders/89"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"bee5131c2cefdb89","trace_id":"6c41145d32462053a959efd695760359","parent_id":"5b9834e527cb628b","duration":55.318,"timestamp":1646055620498028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-6c41145d32462053a959efd695760359-5b9834e527cb628b-01","elastic-apm-traceparent":"00-6c41145d32462053a959efd695760359-5b9834e527cb628b-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:20 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"233","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"1fb5ea4311d18e12","transaction_id":"bee5131c2cefdb89","parent_id":"bee5131c2cefdb89","trace_id":"6c41145d32462053a959efd695760359","subtype":"http","action":"GET","timestamp":1646055620509976,"duration":39.11,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types/1"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"f919feeb95832d75","transaction_id":"6bed39e312d20177","parent_id":"6bed39e312d20177","trace_id":"2b0424e928c348b0548624baaaff2c3f","subtype":"postgresql","action":"query","timestamp":1646055620648424,"duration":9.196,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"6bed39e312d20177","trace_id":"2b0424e928c348b0548624baaaff2c3f","parent_id":"961c808aa0fcd249","duration":35.965,"timestamp":1646055620641042,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/6/customers","full":"http://opbeans-node:3000/api/products/6/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-2b0424e928c348b0548624baaaff2c3f-961c808aa0fcd249-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-2b0424e928c348b0548624baaaff2c3f-961c808aa0fcd249-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:40:20 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"2c17164be149482d","trace_id":"98390d0115fcd940e41a7aeb7851644e","parent_id":"e9fbccfb45817617","duration":56.575,"timestamp":1646055620820109,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-98390d0115fcd940e41a7aeb7851644e-e9fbccfb45817617-01","traceparent":"00-98390d0115fcd940e41a7aeb7851644e-e9fbccfb45817617-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:20 GMT","content-length":"403","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"3822cfb4cd27c00d","transaction_id":"2c17164be149482d","parent_id":"2c17164be149482d","trace_id":"98390d0115fcd940e41a7aeb7851644e","subtype":"http","action":"GET","timestamp":1646055620830626,"duration":21.77,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"514291473b6628f5","transaction_id":"a9c6a217511c18a1","parent_id":"a9c6a217511c18a1","trace_id":"fc9859fc3eb3ad0fbc73b071d57e0c30","subtype":"postgresql","action":"query","timestamp":1646055620961559,"duration":9.211,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"9f6708b52a2b192a","transaction_id":"a9c6a217511c18a1","parent_id":"a9c6a217511c18a1","trace_id":"fc9859fc3eb3ad0fbc73b071d57e0c30","subtype":"postgresql","action":"query","timestamp":1646055620976356,"duration":8.868,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"af36800a2c4e952a","transaction_id":"a9c6a217511c18a1","parent_id":"a9c6a217511c18a1","trace_id":"fc9859fc3eb3ad0fbc73b071d57e0c30","subtype":"postgresql","action":"query","timestamp":1646055620979122,"duration":8.166,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"581e81033d6b8d74","transaction_id":"a9c6a217511c18a1","parent_id":"a9c6a217511c18a1","trace_id":"fc9859fc3eb3ad0fbc73b071d57e0c30","subtype":"postgresql","action":"query","timestamp":1646055620982062,"duration":6.819,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"a9c6a217511c18a1","trace_id":"fc9859fc3eb3ad0fbc73b071d57e0c30","parent_id":"ac8ba459344c4728","duration":72.755,"timestamp":1646055620929038,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-fc9859fc3eb3ad0fbc73b071d57e0c30-ac8ba459344c4728-01","traceparent":"00-fc9859fc3eb3ad0fbc73b071d57e0c30-ac8ba459344c4728-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:20 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"8a1b2f2ebc95f16c","transaction_id":"e65d070541c36baa","parent_id":"e65d070541c36baa","trace_id":"8815c6da372e8e898c12149653fbb38b","subtype":"postgresql","action":"query","timestamp":1646055621086155,"duration":21.575,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"e65d070541c36baa","trace_id":"8815c6da372e8e898c12149653fbb38b","parent_id":"87b70cf624c5dae7","duration":114.603,"timestamp":1646055621060047,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/3","full":"http://opbeans-go:3000/api/types/3"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-8815c6da372e8e898c12149653fbb38b-87b70cf624c5dae7-01","traceparent":"00-8815c6da372e8e898c12149653fbb38b-87b70cf624c5dae7-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:40:21 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"5b728a5d77d5d27b","transaction_id":"e65d070541c36baa","parent_id":"e65d070541c36baa","trace_id":"8815c6da372e8e898c12149653fbb38b","subtype":"postgresql","action":"query","timestamp":1646055621120722,"duration":42.694,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"8cd70c126fd4d340","trace_id":"0863c016064342eaceb007fc21aeef0c","duration":388.596,"timestamp":1646055621128030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:21 GMT","connection":"close","transfer-encoding":"chunked","content-type":"application/json","x-frame-options":"DENY","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"64c62b832d2606af","transaction_id":"8cd70c126fd4d340","parent_id":"8cd70c126fd4d340","trace_id":"0863c016064342eaceb007fc21aeef0c","subtype":"http","action":"GET","timestamp":1646055621151019,"duration":356.155,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"27fb88ac276cd5d9","trace_id":"4aba37163e73f9d8ff7932893738fc07","parent_id":"5312806ed6391f99","duration":87.326,"timestamp":1646055621482022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-4aba37163e73f9d8ff7932893738fc07-5312806ed6391f99-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-4aba37163e73f9d8ff7932893738fc07-5312806ed6391f99-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:21 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"123","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"e4b9b45c0e43f074","transaction_id":"27fb88ac276cd5d9","parent_id":"27fb88ac276cd5d9","trace_id":"4aba37163e73f9d8ff7932893738fc07","subtype":"http","action":"GET","timestamp":1646055621492369,"duration":64.318,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"740e13141b209d69","transaction_id":"8636835682ce691d","parent_id":"8636835682ce691d","trace_id":"a7e33dde4ea156ad553ba5ab8ea9f550","subtype":"postgresql","action":"query","timestamp":1646055621588543,"duration":4.103,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"8636835682ce691d","trace_id":"a7e33dde4ea156ad553ba5ab8ea9f550","duration":42.372,"timestamp":1646055621583020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:21 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0ff26ac79af1cd28","transaction_id":"8636835682ce691d","parent_id":"8636835682ce691d","trace_id":"a7e33dde4ea156ad553ba5ab8ea9f550","subtype":"postgresql","action":"query","timestamp":1646055621594465,"duration":12.851,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"b8109f54b76f406b","transaction_id":"8636835682ce691d","parent_id":"8636835682ce691d","trace_id":"a7e33dde4ea156ad553ba5ab8ea9f550","subtype":"postgresql","action":"query","timestamp":1646055621596612,"duration":13.37,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0f60b43c6bdecadf","transaction_id":"8636835682ce691d","parent_id":"8636835682ce691d","trace_id":"a7e33dde4ea156ad553ba5ab8ea9f550","subtype":"postgresql","action":"query","timestamp":1646055621598945,"duration":13.714,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d412781956ee0cbc","transaction_id":"a274079eb00bc16b","parent_id":"a274079eb00bc16b","trace_id":"537ec289ca25bde8730cb132c04f28fb","subtype":"postgresql","action":"query","timestamp":1646055621658960,"duration":22.581,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"c3c3488a24b8c0fe","transaction_id":"a274079eb00bc16b","parent_id":"a274079eb00bc16b","trace_id":"537ec289ca25bde8730cb132c04f28fb","subtype":"postgresql","action":"query","timestamp":1646055621664604,"duration":25.004,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"1bef39e75718fabc","transaction_id":"a274079eb00bc16b","parent_id":"a274079eb00bc16b","trace_id":"537ec289ca25bde8730cb132c04f28fb","subtype":"postgresql","action":"query","timestamp":1646055621669163,"duration":24.436,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"3e90bc5e0601bfaa","transaction_id":"a274079eb00bc16b","parent_id":"a274079eb00bc16b","trace_id":"537ec289ca25bde8730cb132c04f28fb","subtype":"postgresql","action":"query","timestamp":1646055621675056,"duration":22.764,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d23a99b0fcb44337","transaction_id":"a274079eb00bc16b","parent_id":"a274079eb00bc16b","trace_id":"537ec289ca25bde8730cb132c04f28fb","subtype":"postgresql","action":"query","timestamp":1646055621704988,"duration":4.376,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1f2d8482c9311ccc","transaction_id":"a274079eb00bc16b","parent_id":"a274079eb00bc16b","trace_id":"537ec289ca25bde8730cb132c04f28fb","subtype":"postgresql","action":"query","timestamp":1646055621702967,"duration":8.085,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"a274079eb00bc16b","trace_id":"537ec289ca25bde8730cb132c04f28fb","parent_id":"42c248f3ab6f1f6d","duration":73.184,"timestamp":1646055621646025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-537ec289ca25bde8730cb132c04f28fb-42c248f3ab6f1f6d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-537ec289ca25bde8730cb132c04f28fb-42c248f3ab6f1f6d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:40:21 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ef631fbe0c1a6405","transaction_id":"a274079eb00bc16b","parent_id":"a274079eb00bc16b","trace_id":"537ec289ca25bde8730cb132c04f28fb","subtype":"postgresql","action":"query","timestamp":1646055621700329,"duration":12.221,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0b28b3e4b1e6ffb6","transaction_id":"46b0203918d45889","parent_id":"46b0203918d45889","trace_id":"b5f22f8c45e5c90dab81cccace18ba52","subtype":"postgresql","action":"query","timestamp":1646055621878957,"duration":19.194,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"e01f64a6b17a4ce7","transaction_id":"46b0203918d45889","parent_id":"46b0203918d45889","trace_id":"b5f22f8c45e5c90dab81cccace18ba52","subtype":"postgresql","action":"query","timestamp":1646055621887188,"duration":14.038,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"b433eb64e5e6c3ae","transaction_id":"46b0203918d45889","parent_id":"46b0203918d45889","trace_id":"b5f22f8c45e5c90dab81cccace18ba52","subtype":"postgresql","action":"query","timestamp":1646055621890054,"duration":14.268,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"98892d8ed21a514b","transaction_id":"46b0203918d45889","parent_id":"46b0203918d45889","trace_id":"b5f22f8c45e5c90dab81cccace18ba52","subtype":"postgresql","action":"query","timestamp":1646055621892238,"duration":15.197,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"b8258ab5cf1e2ee3","transaction_id":"46b0203918d45889","parent_id":"46b0203918d45889","trace_id":"b5f22f8c45e5c90dab81cccace18ba52","subtype":"postgresql","action":"query","timestamp":1646055621915419,"duration":5.56,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"46b0203918d45889","trace_id":"b5f22f8c45e5c90dab81cccace18ba52","parent_id":"798201af37db34a5","duration":78.534,"timestamp":1646055621865037,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-b5f22f8c45e5c90dab81cccace18ba52-798201af37db34a5-01","traceparent":"00-b5f22f8c45e5c90dab81cccace18ba52-798201af37db34a5-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:40:21 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ba873168de19720c","transaction_id":"46b0203918d45889","parent_id":"46b0203918d45889","trace_id":"b5f22f8c45e5c90dab81cccace18ba52","subtype":"postgresql","action":"query","timestamp":1646055621912937,"duration":16.396,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1814822cbc1a2d18","transaction_id":"46b0203918d45889","parent_id":"46b0203918d45889","trace_id":"b5f22f8c45e5c90dab81cccace18ba52","subtype":"postgresql","action":"query","timestamp":1646055621909952,"duration":25.848,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b2436d36ead19438","trace_id":"748be509ff016226cc76123fc0590098","parent_id":"a3b0c83a1b1acc9d","duration":27.456,"timestamp":1646055621960018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/2","full":"http://opbeans-go:3000/api/types/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-748be509ff016226cc76123fc0590098-a3b0c83a1b1acc9d-01","traceparent":"00-748be509ff016226cc76123fc0590098-a3b0c83a1b1acc9d-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:21 GMT","content-length":"37","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"d6e11055e987ae07","transaction_id":"b2436d36ead19438","parent_id":"b2436d36ead19438","trace_id":"748be509ff016226cc76123fc0590098","subtype":"http","action":"GET","timestamp":1646055621965804,"duration":13.477,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"877556dbdf22f04b","trace_id":"d78cb9161389d0fe7b52ff2382991245","duration":20.649,"timestamp":1646055622079020,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:22 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"e66a56a795c02e2f","transaction_id":"c0732bb4ef6a4451","parent_id":"c0732bb4ef6a4451","trace_id":"17fb8a91c49b96910b5e90cffc176bb4","subtype":"redis","action":null,"timestamp":1646055622263278,"duration":2.318,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"6e1b16bdd5dd8678","transaction_id":"c0732bb4ef6a4451","parent_id":"c0732bb4ef6a4451","trace_id":"17fb8a91c49b96910b5e90cffc176bb4","subtype":"postgresql","action":"query","timestamp":1646055622282367,"duration":223.204,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"c0732bb4ef6a4451","trace_id":"17fb8a91c49b96910b5e90cffc176bb4","parent_id":"1a7805fcb7e84d36","duration":309.331,"timestamp":1646055622256043,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-17fb8a91c49b96910b5e90cffc176bb4-1a7805fcb7e84d36-01","traceparent":"00-17fb8a91c49b96910b5e90cffc176bb4-1a7805fcb7e84d36-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:40:22 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /throw-error","type":"request","result":"HTTP 5xx","id":"86199f7b7fad9e88","trace_id":"a77add7e3b3dac858ec4d26cc0fb5fa4","duration":17.81,"timestamp":1646055622617025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/throw-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/throw-error","full":"http://opbeans-node:3000/throw-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:40:22 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"6fa6e92c43b57d85","transaction_id":"2fdf9ddde31d660b","parent_id":"2fdf9ddde31d660b","trace_id":"0d49d9445dffbda3a0f37ecb725c2a37","subtype":"postgresql","action":"query","timestamp":1646055622682872,"duration":6.156,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"2fdf9ddde31d660b","trace_id":"0d49d9445dffbda3a0f37ecb725c2a37","parent_id":"3316680a69961555","duration":66.337,"timestamp":1646055622676032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-0d49d9445dffbda3a0f37ecb725c2a37-3316680a69961555-01","elastic-apm-traceparent":"00-0d49d9445dffbda3a0f37ecb725c2a37-3316680a69961555-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:22 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"edb082394537552a","transaction_id":"2fdf9ddde31d660b","parent_id":"2fdf9ddde31d660b","trace_id":"0d49d9445dffbda3a0f37ecb725c2a37","subtype":"postgresql","action":"query","timestamp":1646055622694247,"duration":12.071,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f96cf9e9a214170d","transaction_id":"2fdf9ddde31d660b","parent_id":"2fdf9ddde31d660b","trace_id":"0d49d9445dffbda3a0f37ecb725c2a37","subtype":"postgresql","action":"query","timestamp":1646055622699113,"duration":12.729,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"b9ebfcaba0b4a6f9","transaction_id":"2fdf9ddde31d660b","parent_id":"2fdf9ddde31d660b","trace_id":"0d49d9445dffbda3a0f37ecb725c2a37","subtype":"postgresql","action":"query","timestamp":1646055622701702,"duration":23.299,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"4c195d5ff472b4fa","trace_id":"f63e5da27de30558d826e55e5895bd78","parent_id":"b9db487008049b06","duration":79.157,"timestamp":1646055622834028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/9864","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/9864","full":"http://opbeans-node:3000/api/customers/9864"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-f63e5da27de30558d826e55e5895bd78-b9db487008049b06-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-f63e5da27de30558d826e55e5895bd78-b9db487008049b06-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/plain","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:22 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"32a52c232b049f06","transaction_id":"4c195d5ff472b4fa","parent_id":"4c195d5ff472b4fa","trace_id":"f63e5da27de30558d826e55e5895bd78","subtype":"http","action":"GET","timestamp":1646055622847377,"duration":54.719,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/customers/9864"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"21d3b23d0c00a28c","transaction_id":"ab35ad290b1a9e28","parent_id":"ab35ad290b1a9e28","trace_id":"ef03b3f7518e00440f2afc7bf1340494","subtype":"redis","action":null,"timestamp":1646055623090479,"duration":5.555,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"d6db5d3a5eda6a57","transaction_id":"ab35ad290b1a9e28","parent_id":"ab35ad290b1a9e28","trace_id":"ef03b3f7518e00440f2afc7bf1340494","subtype":"postgresql","action":"query","timestamp":1646055623118257,"duration":9.709,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"ab35ad290b1a9e28","trace_id":"ef03b3f7518e00440f2afc7bf1340494","parent_id":"2846d8b0b507938f","duration":60.524,"timestamp":1646055623076027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders","full":"http://opbeans-go:3000/api/orders"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","accept-encoding":"gzip","elastic-apm-traceparent":"00-ef03b3f7518e00440f2afc7bf1340494-2846d8b0b507938f-01","traceparent":"00-ef03b3f7518e00440f2afc7bf1340494-2846d8b0b507938f-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12, 172.23.0.9, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:40:23 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"445f084a991c983d","trace_id":"496bbcb1c7bb1b219d54d288b49b9de5","parent_id":"db4e949bb0317b2b","duration":46.114,"timestamp":1646055623121018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:23 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c82b776ea0a5f4d7","trace_id":"e51de1fa866946b6ac3f0d7fa2d5912e","duration":76.044,"timestamp":1646055623591037,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37c402fff98fe986ebf5e3ba08420463\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"54196c2d-fa50-4172-8068-b269a0b8bc08","x-runtime":"0.020304","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:23 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"3cd424f9e7acc706","transaction_id":"c82b776ea0a5f4d7","parent_id":"c82b776ea0a5f4d7","trace_id":"e51de1fa866946b6ac3f0d7fa2d5912e","subtype":"http","action":"GET","timestamp":1646055623610720,"duration":50.493,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"6a1bc383a403a5e4","trace_id":"ed864fe010a198d37fe552f72627ce17","duration":127.583,"timestamp":1646055624096030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/473","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/473","full":"http://opbeans-node:3000/api/orders/473"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=UTF-8","x-request-id":"fe41802b-4049-42be-af8d-82b445ce30f8","x-runtime":"0.065351","connection":"close","content-length":"1722","date":"Mon, 28 Feb 2022 13:40:24 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"b63cda195d624bb9","transaction_id":"6a1bc383a403a5e4","parent_id":"6a1bc383a403a5e4","trace_id":"ed864fe010a198d37fe552f72627ce17","subtype":"http","action":"GET","timestamp":1646055624101231,"duration":107.537,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/orders/473"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"03a9f8640b7a8bd4","trace_id":"05034e201376d396f6171443a335b201","duration":75.052,"timestamp":1646055624588018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:40:24 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"98cbafa8eb169d1b","trace_id":"4a3d22b6b8cfc07764055423b76d1196","duration":25.933,"timestamp":1646055625095041,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:25 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"5046e7e9631602f2","trace_id":"2d77f7e2ab93cff32be9d16760e40322","parent_id":"fff3dd395967c5d3","duration":34.988,"timestamp":1646055625606035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:25 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"1e3c13ff15bd97b1","trace_id":"dbe18a0f242bf39f5a8180499cc15c86","parent_id":"ee531fb9022b66ab","duration":14.288,"timestamp":1646055626089019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:26 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"369bc57fc689213d","trace_id":"5bfa892fe5b29957677dc341cc40b793","duration":49.001,"timestamp":1646055626590019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-node:3000/api/products/5/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:40:26 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"cb1464642fb1a31b","transaction_id":"369bc57fc689213d","parent_id":"369bc57fc689213d","trace_id":"5bfa892fe5b29957677dc341cc40b793","subtype":"postgresql","action":"query","timestamp":1646055626601482,"duration":17.785,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /throw-error","type":"request","result":"HTTP 5xx","id":"d1637ffd3a108ee5","trace_id":"3ed5debdda643aa9b9d1c15c35825a1f","duration":13.482,"timestamp":1646055627090032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/throw-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/throw-error","full":"http://opbeans-node:3000/throw-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"148","date":"Mon, 28 Feb 2022 13:40:27 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"97a70f96719a801b","trace_id":"e4fd236f1cd04f47fa5125735329809f","duration":6616.488,"timestamp":1646055620573030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:27 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"108580","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"705991c9061ee218","transaction_id":"97a70f96719a801b","parent_id":"97a70f96719a801b","trace_id":"e4fd236f1cd04f47fa5125735329809f","subtype":"http","action":"GET","timestamp":1646055620588216,"duration":6588.018,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"0c8497b641e6f47c","trace_id":"d2dc225176e72194bac6b22f571b48e2","parent_id":"60f2c37e5362f9a3","duration":14.739,"timestamp":1646055627561025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:27 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"babb8b0f799e0ac0","trace_id":"8ad18de79e9714216313e96693a3b82d","duration":39.075,"timestamp":1646055627598020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:27 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"d71f0849efa8e8e2","transaction_id":"babb8b0f799e0ac0","parent_id":"babb8b0f799e0ac0","trace_id":"8ad18de79e9714216313e96693a3b82d","subtype":"http","action":"GET","timestamp":1646055627603296,"duration":23.684,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"d5cfaa0c135fb51f","transaction_id":"0647969486ead148","parent_id":"0647969486ead148","trace_id":"e147335d1913c3c143c0ba9417dc548b","subtype":"redis","action":null,"timestamp":1646055628111684,"duration":5.361,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"0647969486ead148","trace_id":"e147335d1913c3c143c0ba9417dc548b","duration":52.088,"timestamp":1646055628091033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:40:28 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"4038ce4504849479","transaction_id":"0647969486ead148","parent_id":"0647969486ead148","trace_id":"e147335d1913c3c143c0ba9417dc548b","subtype":"postgresql","action":"query","timestamp":1646055628122034,"duration":12.342,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"Fetch package status for all orders","type":"custom","id":"f40ae43aa8d77ab0","transaction_id":"00330fcfc43d0ed2","parent_id":"00330fcfc43d0ed2","trace_id":"19dad93871d5c8ddc0b6c3d2c53b8bd8","subtype":null,"action":null,"timestamp":1646055627827726,"duration":733.4,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":43,"function":"updateShippingStatus","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Update shipping status', 'Worker')"],"context_line":"  performSubTasks(['Fetch package status for all orders', 'Send tracking emails'], function () {","post_context":["    apm.endTransaction()","    queue(updateShippingStatus)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"3919e6fad94eede4","transaction_id":"668fdd440b2fdcd1","parent_id":"668fdd440b2fdcd1","trace_id":"924a7d06465e44d4adae8f9f5c8655e4","subtype":"postgresql","action":"query","timestamp":1646055628604953,"duration":3.884,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"668fdd440b2fdcd1","trace_id":"924a7d06465e44d4adae8f9f5c8655e4","duration":48.602,"timestamp":1646055628597029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:28 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a6555742ec06c5e7","transaction_id":"668fdd440b2fdcd1","parent_id":"668fdd440b2fdcd1","trace_id":"924a7d06465e44d4adae8f9f5c8655e4","subtype":"postgresql","action":"query","timestamp":1646055628610293,"duration":12.845,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"62b807bce0a59f9f","transaction_id":"668fdd440b2fdcd1","parent_id":"668fdd440b2fdcd1","trace_id":"924a7d06465e44d4adae8f9f5c8655e4","subtype":"postgresql","action":"query","timestamp":1646055628612908,"duration":17.344,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0772b3aec6b29c4d","transaction_id":"668fdd440b2fdcd1","parent_id":"668fdd440b2fdcd1","trace_id":"924a7d06465e44d4adae8f9f5c8655e4","subtype":"postgresql","action":"query","timestamp":1646055628619119,"duration":14.022,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"47b85477ae21cbe7","transaction_id":"cc951c957f04d5b7","parent_id":"cc951c957f04d5b7","trace_id":"f4bac2d6e1d3c835b11411f5b26a52da","subtype":"redis","action":null,"timestamp":1646055629109535,"duration":2.186,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"cc951c957f04d5b7","trace_id":"f4bac2d6e1d3c835b11411f5b26a52da","duration":42.779,"timestamp":1646055629095579,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:40:29 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"ec24e0c7392d4bcf","transaction_id":"cc951c957f04d5b7","parent_id":"cc951c957f04d5b7","trace_id":"f4bac2d6e1d3c835b11411f5b26a52da","subtype":"postgresql","action":"query","timestamp":1646055629114432,"duration":12.112,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Update shipping status","type":"Worker","result":"success","id":"00330fcfc43d0ed2","trace_id":"19dad93871d5c8ddc0b6c3d2c53b8bd8","duration":1666.362,"timestamp":1646055627818045,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Send tracking emails","type":"custom","id":"a0c0ae5104286896","transaction_id":"00330fcfc43d0ed2","parent_id":"00330fcfc43d0ed2","trace_id":"19dad93871d5c8ddc0b6c3d2c53b8bd8","subtype":null,"action":null,"timestamp":1646055628587954,"duration":883.694,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"4d9b163d80974ee5","transaction_id":"e8a594c6fa5d031b","parent_id":"e8a594c6fa5d031b","trace_id":"1ba19057b97f62456ebce1bdfb074be2","subtype":"redis","action":null,"timestamp":1646055629551183,"duration":1.806,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"607511e5b99fcda5","transaction_id":"e8a594c6fa5d031b","parent_id":"e8a594c6fa5d031b","trace_id":"1ba19057b97f62456ebce1bdfb074be2","subtype":"postgresql","action":"query","timestamp":1646055629558208,"duration":3.247,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"e8a594c6fa5d031b","trace_id":"1ba19057b97f62456ebce1bdfb074be2","parent_id":"a611499b1ea192ca","duration":19.738,"timestamp":1646055629546020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-1ba19057b97f62456ebce1bdfb074be2-a611499b1ea192ca-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-1ba19057b97f62456ebce1bdfb074be2-a611499b1ea192ca-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:29 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"23d2cfb3a0f292a7","transaction_id":"cbaef021685d94b2","parent_id":"cbaef021685d94b2","trace_id":"a5baf91b39ebd2b596db5700ce4f57c5","subtype":"postgresql","action":"query","timestamp":1646055629731007,"duration":8.463,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"76c8f87bb57bb700","transaction_id":"cbaef021685d94b2","parent_id":"cbaef021685d94b2","trace_id":"a5baf91b39ebd2b596db5700ce4f57c5","subtype":"postgresql","action":"query","timestamp":1646055629744720,"duration":6.64,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"cbaef021685d94b2","trace_id":"a5baf91b39ebd2b596db5700ce4f57c5","parent_id":"f2eae8d5706a8ee5","duration":44.633,"timestamp":1646055629717021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-a5baf91b39ebd2b596db5700ce4f57c5-f2eae8d5706a8ee5-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-a5baf91b39ebd2b596db5700ce4f57c5-f2eae8d5706a8ee5-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"217","etag":"W/\"d9-cebOOHODBQMZd1wt+ZZBaSPgQLQ\"","date":"Mon, 28 Feb 2022 13:40:29 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"55889aa961bc824c","transaction_id":"a94a42d5e6dd91b4","parent_id":"a94a42d5e6dd91b4","trace_id":"085f5fcc6dec6cb978d638d14d6d9e07","subtype":"postgresql","action":"query","timestamp":1646055629937864,"duration":6.077,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"70fefacaf0a994c6","transaction_id":"a94a42d5e6dd91b4","parent_id":"a94a42d5e6dd91b4","trace_id":"085f5fcc6dec6cb978d638d14d6d9e07","subtype":"postgresql","action":"query","timestamp":1646055629945803,"duration":7.824,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"eaf7893640218f3e","transaction_id":"a94a42d5e6dd91b4","parent_id":"a94a42d5e6dd91b4","trace_id":"085f5fcc6dec6cb978d638d14d6d9e07","subtype":"postgresql","action":"query","timestamp":1646055629947919,"duration":7.499,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"af2e5df69a10c393","transaction_id":"a94a42d5e6dd91b4","parent_id":"a94a42d5e6dd91b4","trace_id":"085f5fcc6dec6cb978d638d14d6d9e07","subtype":"postgresql","action":"query","timestamp":1646055629950106,"duration":7.439,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"a94a42d5e6dd91b4","trace_id":"085f5fcc6dec6cb978d638d14d6d9e07","parent_id":"d8cb3fcceee74bc7","duration":39.526,"timestamp":1646055629923025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-085f5fcc6dec6cb978d638d14d6d9e07-d8cb3fcceee74bc7-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-085f5fcc6dec6cb978d638d14d6d9e07-d8cb3fcceee74bc7-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:29 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e12267d4aeab21c2","trace_id":"aedec7b3e355b649c25fc5e740c039b9","duration":135.767,"timestamp":1646055630101053,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"3a6fa85a318de2856f3fa7cda08b17a5\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"a19c0e7d-d8d7-43f9-86d2-4055b07f1747","x-runtime":"0.050622","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:30 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"9a9bbd96bf08ac6d","transaction_id":"e12267d4aeab21c2","parent_id":"e12267d4aeab21c2","trace_id":"aedec7b3e355b649c25fc5e740c039b9","subtype":"http","action":"GET","timestamp":1646055630130060,"duration":96.183,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/5"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"75ea067cccf921e9","transaction_id":"3bbd041adee04d1d","parent_id":"3bbd041adee04d1d","trace_id":"75623ebbbb560ac2cd592f887662e520","subtype":"postgresql","action":"query","timestamp":1646055630612952,"duration":17.614,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"b8837abed3945d89","transaction_id":"3bbd041adee04d1d","parent_id":"3bbd041adee04d1d","trace_id":"75623ebbbb560ac2cd592f887662e520","subtype":"postgresql","action":"query","timestamp":1646055630615732,"duration":24.327,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"bf00fa65b494e51d","transaction_id":"3bbd041adee04d1d","parent_id":"3bbd041adee04d1d","trace_id":"75623ebbbb560ac2cd592f887662e520","subtype":"postgresql","action":"query","timestamp":1646055630618900,"duration":24.732,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"cce8d7af64b6a4ea","transaction_id":"3bbd041adee04d1d","parent_id":"3bbd041adee04d1d","trace_id":"75623ebbbb560ac2cd592f887662e520","subtype":"postgresql","action":"query","timestamp":1646055630622565,"duration":25.484,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a340d6b6c3014c11","transaction_id":"3bbd041adee04d1d","parent_id":"3bbd041adee04d1d","trace_id":"75623ebbbb560ac2cd592f887662e520","subtype":"postgresql","action":"query","timestamp":1646055630663348,"duration":8.598,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"3bbd041adee04d1d","trace_id":"75623ebbbb560ac2cd592f887662e520","duration":87.007,"timestamp":1646055630599041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:40:30 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"2ec5df82d830c43a","transaction_id":"3bbd041adee04d1d","parent_id":"3bbd041adee04d1d","trace_id":"75623ebbbb560ac2cd592f887662e520","subtype":"postgresql","action":"query","timestamp":1646055630658381,"duration":15.612,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"13ad5c9b01c92f9d","transaction_id":"3bbd041adee04d1d","parent_id":"3bbd041adee04d1d","trace_id":"75623ebbbb560ac2cd592f887662e520","subtype":"postgresql","action":"query","timestamp":1646055630651757,"duration":26.043,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"957249ce8d2c2460","trace_id":"725648be119795cb1225510b1f5d4994","duration":12.448,"timestamp":1646055631135025,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:31 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"21d9fd988f7eb654","trace_id":"4b7f8bdedbedf342404d258c4ec2bdc4","duration":57.024,"timestamp":1646055631596037,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/6","full":"http://opbeans-node:3000/api/products/6"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"254","etag":"W/\"fe-vUW963ju559F4nwQXb+Wg4ZAqdk\"","date":"Mon, 28 Feb 2022 13:40:31 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1a04cfe040f4cdfd","transaction_id":"21d9fd988f7eb654","parent_id":"21d9fd988f7eb654","trace_id":"4b7f8bdedbedf342404d258c4ec2bdc4","subtype":"postgresql","action":"query","timestamp":1646055631605175,"duration":21.91,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"9fbbbd1bf8d85a90","trace_id":"65a99bf833f25467ee48e98824ab71f2","duration":162.451,"timestamp":1646055632110021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/238","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/238","full":"http://opbeans-node:3000/api/orders/238"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=UTF-8","x-request-id":"98f857d2-d78b-4489-8405-5380d45edbe1","x-runtime":"0.064290","connection":"close","content-length":"1722","date":"Mon, 28 Feb 2022 13:40:32 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"168d7438ef821593","transaction_id":"9fbbbd1bf8d85a90","parent_id":"9fbbbd1bf8d85a90","trace_id":"65a99bf833f25467ee48e98824ab71f2","subtype":"http","action":"GET","timestamp":1646055632122779,"duration":139.71,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/orders/238"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"6616afb801c4ffa2","trace_id":"a8ef130c288b6f35f90b6f920da76e95","duration":286.222,"timestamp":1646055632624041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"6b84b8cfae4908f93f790804f2c9e7c9\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"a2c11523-75cd-4d51-a07e-b26e093b1ffb","x-runtime":"0.094595","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:32 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"50f48d5277fa3dc2","transaction_id":"6616afb801c4ffa2","parent_id":"6616afb801c4ffa2","trace_id":"a8ef130c288b6f35f90b6f920da76e95","subtype":"http","action":"GET","timestamp":1646055632654256,"duration":173.211,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"85a4bea90ac48e5c","trace_id":"0bc220f6de63fd9f8a43c0ba14eef237","duration":29.718,"timestamp":1646055633604036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/320","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/320","full":"http://opbeans-node:3000/api/orders/320"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:33 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"9094ecde566a1f62","transaction_id":"85a4bea90ac48e5c","parent_id":"85a4bea90ac48e5c","trace_id":"0bc220f6de63fd9f8a43c0ba14eef237","subtype":"postgresql","action":"query","timestamp":1646055633614331,"duration":10.461,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0c96ac91e04fb60a","trace_id":"f6c5c167252652a5885af791292f98be","parent_id":"c64832550545f526","duration":4273.986,"timestamp":1646055629665030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-f6c5c167252652a5885af791292f98be-c64832550545f526-01","elastic-apm-traceparent":"00-f6c5c167252652a5885af791292f98be-c64832550545f526-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:33 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"ecc6306b858f99c7","transaction_id":"0c96ac91e04fb60a","parent_id":"0c96ac91e04fb60a","trace_id":"f6c5c167252652a5885af791292f98be","subtype":"http","action":"GET","timestamp":1646055629678481,"duration":4256.003,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3f0880fad73cece4","trace_id":"f6c5c167252652a5885af791292f98be","duration":4395.712,"timestamp":1646055629601021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"123","content-type":"application/json","date":"Mon, 28 Feb 2022 13:40:33 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"40ffe541795a9f50","transaction_id":"3f0880fad73cece4","parent_id":"3f0880fad73cece4","trace_id":"f6c5c167252652a5885af791292f98be","subtype":"http","action":"GET","timestamp":1646055629605350,"duration":4380.829,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b2f9263833c9a0f7","trace_id":"fc10702dc9544278de9f3463b7d00d20","parent_id":"8fd1b5a6c88c171a","duration":286.581,"timestamp":1646055633839023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-fc10702dc9544278de9f3463b7d00d20-8fd1b5a6c88c171a-01","elastic-apm-traceparent":"00-fc10702dc9544278de9f3463b7d00d20-8fd1b5a6c88c171a-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37c402fff98fe986ebf5e3ba08420463\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"d50e5d95-7dab-4d35-a4de-4651ac985d3c","x-runtime":"0.147783","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:34 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"0151f03d426b515d","transaction_id":"b2f9263833c9a0f7","parent_id":"b2f9263833c9a0f7","trace_id":"fc10702dc9544278de9f3463b7d00d20","subtype":"http","action":"GET","timestamp":1646055633846425,"duration":248.576,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"2415605094d9e00b","trace_id":"fc10702dc9544278de9f3463b7d00d20","duration":1097.615,"timestamp":1646055633098028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"83","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:34 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"d39dd8bd9a0ea138","transaction_id":"2415605094d9e00b","parent_id":"2415605094d9e00b","trace_id":"fc10702dc9544278de9f3463b7d00d20","subtype":"http","action":"GET","timestamp":1646055633104774,"duration":1085.209,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f3e7a5d722ffeb7f","trace_id":"d075bd3ca410c45897f3651963735419","duration":115.687,"timestamp":1646055634207017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/363","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/363","full":"http://opbeans-node:3000/api/orders/363"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:34 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"305","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"425d9209041064dc","transaction_id":"f3e7a5d722ffeb7f","parent_id":"f3e7a5d722ffeb7f","trace_id":"d075bd3ca410c45897f3651963735419","subtype":"http","action":"GET","timestamp":1646055634235227,"duration":71.963,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders/363"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8f0b60a6b13ab74a","transaction_id":"d143eac775a6f839","parent_id":"d143eac775a6f839","trace_id":"1e6f8439e2ec0859acadf9256fcbd9ee","subtype":"postgresql","action":"query","timestamp":1646055634619241,"duration":28.887,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"862acd1c9a01571c","transaction_id":"d143eac775a6f839","parent_id":"d143eac775a6f839","trace_id":"1e6f8439e2ec0859acadf9256fcbd9ee","subtype":"postgresql","action":"query","timestamp":1646055634622202,"duration":38.631,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"0f8e0327eeaa8c76","transaction_id":"d143eac775a6f839","parent_id":"d143eac775a6f839","trace_id":"1e6f8439e2ec0859acadf9256fcbd9ee","subtype":"postgresql","action":"query","timestamp":1646055634630161,"duration":33.973,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"6c6864b5cc58f4eb","transaction_id":"d143eac775a6f839","parent_id":"d143eac775a6f839","trace_id":"1e6f8439e2ec0859acadf9256fcbd9ee","subtype":"postgresql","action":"query","timestamp":1646055634636630,"duration":29.599,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"58f52b3a947fccd9","transaction_id":"d143eac775a6f839","parent_id":"d143eac775a6f839","trace_id":"1e6f8439e2ec0859acadf9256fcbd9ee","subtype":"postgresql","action":"query","timestamp":1646055634677614,"duration":5.354,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"d143eac775a6f839","trace_id":"1e6f8439e2ec0859acadf9256fcbd9ee","duration":92.09,"timestamp":1646055634605148,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:40:34 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"b7d4ba09c60e820a","transaction_id":"d143eac775a6f839","parent_id":"d143eac775a6f839","trace_id":"1e6f8439e2ec0859acadf9256fcbd9ee","subtype":"postgresql","action":"query","timestamp":1646055634673619,"duration":10.818,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"3b0cc57218e8c3fc","transaction_id":"d143eac775a6f839","parent_id":"d143eac775a6f839","trace_id":"1e6f8439e2ec0859acadf9256fcbd9ee","subtype":"postgresql","action":"query","timestamp":1646055634669259,"duration":17.685,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"ad3d927679bac118","transaction_id":"8689e54e88cba338","parent_id":"8689e54e88cba338","trace_id":"6634337d506a6af4f24df02d402596fe","subtype":"postgresql","action":"query","timestamp":1646055634782990,"duration":2.998,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"8689e54e88cba338","trace_id":"6634337d506a6af4f24df02d402596fe","parent_id":"d9ef89af46618d80","duration":14.33,"timestamp":1646055634775018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/928","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/928","full":"http://opbeans-go:3000/api/customers/928"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-6634337d506a6af4f24df02d402596fe-d9ef89af46618d80-01","traceparent":"00-6634337d506a6af4f24df02d402596fe-d9ef89af46618d80-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-wlHWSpsgyrF+Kq8GyYatcMXvymo\"","date":"Mon, 28 Feb 2022 13:40:34 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"d0251fd7c1288a2e","transaction_id":"11d134355dc9d8b6","parent_id":"11d134355dc9d8b6","trace_id":"1fd5dbe7f23869a11e2059e2ad56428a","subtype":"redis","action":null,"timestamp":1646055635059659,"duration":2.594,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1ac9a33759cacb57","transaction_id":"11d134355dc9d8b6","parent_id":"11d134355dc9d8b6","trace_id":"1fd5dbe7f23869a11e2059e2ad56428a","subtype":"postgresql","action":"query","timestamp":1646055635063856,"duration":8.051,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"11d134355dc9d8b6","trace_id":"1fd5dbe7f23869a11e2059e2ad56428a","parent_id":"b423c20c258a5896","duration":40.899,"timestamp":1646055635039027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-1fd5dbe7f23869a11e2059e2ad56428a-b423c20c258a5896-01","traceparent":"00-1fd5dbe7f23869a11e2059e2ad56428a-b423c20c258a5896-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:35 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"23b53899ca2a793b","transaction_id":"00b0304e0ca17180","parent_id":"00b0304e0ca17180","trace_id":"e7ea3b449ab99d028c3d225756e5f147","subtype":"postgresql","action":"query","timestamp":1646055635153982,"duration":3.579,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"00b0304e0ca17180","trace_id":"e7ea3b449ab99d028c3d225756e5f147","duration":17.155,"timestamp":1646055635148021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/35","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/35","full":"http://opbeans-node:3000/api/customers/35"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-Ou7cekaNIsAyjQVrMp4ycP5WN3c\"","date":"Mon, 28 Feb 2022 13:40:35 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"96bdd206c645a839","trace_id":"42392755b1bd112bd2c9b06c8a2d33f7","duration":29.62,"timestamp":1646055635651034,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:35 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"Send receipt email","type":"custom","id":"3da293647368dd29","transaction_id":"ef8fb7266a5e81f1","parent_id":"ef8fb7266a5e81f1","trace_id":"0d47b3449980acb589a4914730eca4ae","subtype":null,"action":null,"timestamp":1646055635052273,"duration":819.104,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":33,"function":"processCompletedOrder","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Process completed order', 'Worker')"],"context_line":"  performSubTasks(['Send receipt email', 'Update inventory'], function () {","post_context":["    apm.endTransaction()","    queue(processCompletedOrder)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"e0890f3ac62d8592","transaction_id":"0324362accc1034d","parent_id":"0324362accc1034d","trace_id":"3249a931b9788dfb33ba5b99a88b86e9","subtype":"redis","action":null,"timestamp":1646055635860937,"duration":15.571,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":168,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/customers', function (req, res) {"],"context_line":"  redis.get('customers', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"a9698897c6a680c0","transaction_id":"0324362accc1034d","parent_id":"0324362accc1034d","trace_id":"3249a931b9788dfb33ba5b99a88b86e9","subtype":"postgresql","action":"query","timestamp":1646055635883844,"duration":116.617,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"0324362accc1034d","trace_id":"3249a931b9788dfb33ba5b99a88b86e9","parent_id":"a9c3f4bb33301afb","duration":189.564,"timestamp":1646055635855028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-3249a931b9788dfb33ba5b99a88b86e9-a9c3f4bb33301afb-01","traceparent":"00-3249a931b9788dfb33ba5b99a88b86e9-a9c3f4bb33301afb-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:40:35 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"c6fe5a918fc2fe1a","transaction_id":"a4475072618c518b","parent_id":"a4475072618c518b","trace_id":"2e99f4ae9dac2f24a8664ebd37f74eb3","subtype":"postgresql","action":"query","timestamp":1646055636142495,"duration":23.006,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"a4475072618c518b","trace_id":"2e99f4ae9dac2f24a8664ebd37f74eb3","duration":114.723,"timestamp":1646055636114036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:36 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"789fee5420d75262","transaction_id":"a4475072618c518b","parent_id":"a4475072618c518b","trace_id":"2e99f4ae9dac2f24a8664ebd37f74eb3","subtype":"postgresql","action":"query","timestamp":1646055636169864,"duration":23.046,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"715d5de230198e9b","transaction_id":"a4475072618c518b","parent_id":"a4475072618c518b","trace_id":"2e99f4ae9dac2f24a8664ebd37f74eb3","subtype":"postgresql","action":"query","timestamp":1646055636177721,"duration":24.042,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"097da59dd19bade5","transaction_id":"a4475072618c518b","parent_id":"a4475072618c518b","trace_id":"2e99f4ae9dac2f24a8664ebd37f74eb3","subtype":"postgresql","action":"query","timestamp":1646055636183600,"duration":24.546,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"a9a9e97c020f7bc3","transaction_id":"469e0780e5f4b661","parent_id":"469e0780e5f4b661","trace_id":"af4e65c4584cbaaf0a82737b40a4b7d5","subtype":"redis","action":null,"timestamp":1646055636331048,"duration":1.719,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"2664bec475fc4acd","transaction_id":"469e0780e5f4b661","parent_id":"469e0780e5f4b661","trace_id":"af4e65c4584cbaaf0a82737b40a4b7d5","subtype":"postgresql","action":"query","timestamp":1646055636335157,"duration":3.593,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"469e0780e5f4b661","trace_id":"af4e65c4584cbaaf0a82737b40a4b7d5","parent_id":"2cc239e12f7e8562","duration":25.121,"timestamp":1646055636322027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-af4e65c4584cbaaf0a82737b40a4b7d5-2cc239e12f7e8562-01","traceparent":"00-af4e65c4584cbaaf0a82737b40a4b7d5-2cc239e12f7e8562-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:40:36 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Process completed order","type":"Worker","result":"success","id":"ef8fb7266a5e81f1","trace_id":"0d47b3449980acb589a4914730eca4ae","duration":1537.596,"timestamp":1646055635049040,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Update inventory","type":"custom","id":"7994bfae65bba5b3","transaction_id":"ef8fb7266a5e81f1","parent_id":"ef8fb7266a5e81f1","trace_id":"0d47b3449980acb589a4914730eca4ae","subtype":null,"action":null,"timestamp":1646055635890977,"duration":686.569,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"eab5f14c9e27bc18","transaction_id":"d226c6ef95f9437f","parent_id":"d226c6ef95f9437f","trace_id":"454fc537fbf80ed4e2946fa2cd897bbe","subtype":"redis","action":null,"timestamp":1646055636619513,"duration":2.985,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"2b68e097f5e7cedc","transaction_id":"d226c6ef95f9437f","parent_id":"d226c6ef95f9437f","trace_id":"454fc537fbf80ed4e2946fa2cd897bbe","subtype":"postgresql","action":"query","timestamp":1646055636623930,"duration":4.12,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"d226c6ef95f9437f","trace_id":"454fc537fbf80ed4e2946fa2cd897bbe","duration":19.437,"timestamp":1646055636612017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:36 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"42f98fd82cb898c4","trace_id":"b30ca088555522a10e897bc4d73232da","parent_id":"44475042ad85c85b","duration":57.466,"timestamp":1646055636603017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-b30ca088555522a10e897bc4d73232da-44475042ad85c85b-01","traceparent":"00-b30ca088555522a10e897bc4d73232da-44475042ad85c85b-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"32a6f2ac22b5ec871f35104a05ba3759\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"b60f10dd-ca61-4dde-a427-c052913c3724","x-runtime":"0.021081","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:36 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"ae2c53cdc9032c11","transaction_id":"42f98fd82cb898c4","parent_id":"42f98fd82cb898c4","trace_id":"b30ca088555522a10e897bc4d73232da","subtype":"http","action":"GET","timestamp":1646055636608384,"duration":46.747,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"c539512f7c4caa18","trace_id":"fc18ff13811892357b56740d7b24dcee","parent_id":"806f68daa8d65ca9","duration":58.9,"timestamp":1646055636754041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/908","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/908","full":"http://opbeans-go:3000/api/orders/908"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-fc18ff13811892357b56740d7b24dcee-806f68daa8d65ca9-01","traceparent":"00-fc18ff13811892357b56740d7b24dcee-806f68daa8d65ca9-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-length":"1722","content-type":"text/html; charset=UTF-8","date":"Mon, 28 Feb 2022 13:40:36 GMT","x-request-id":"61cf5d46-cb9b-4624-94fd-3ef8c77877de","x-runtime":"0.025968","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"4d3e63631083af29","transaction_id":"c539512f7c4caa18","parent_id":"c539512f7c4caa18","trace_id":"fc18ff13811892357b56740d7b24dcee","subtype":"http","action":"GET","timestamp":1646055636762018,"duration":44.191,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-go:3000/api/orders/908"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"9133e108f6c1d7b1","transaction_id":"76b78594474f7936","parent_id":"76b78594474f7936","trace_id":"fa9cadb90a82fca304d68fb42d352f5b","subtype":"postgresql","action":"query","timestamp":1646055636966712,"duration":6.019,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"76b78594474f7936","trace_id":"fa9cadb90a82fca304d68fb42d352f5b","parent_id":"22f7fccc6b1b1edb","duration":22.225,"timestamp":1646055636960023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2","full":"http://opbeans-go:3000/api/products/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-fa9cadb90a82fca304d68fb42d352f5b-22f7fccc6b1b1edb-01","traceparent":"00-fa9cadb90a82fca304d68fb42d352f5b-22f7fccc6b1b1edb-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"242","etag":"W/\"f2-TrZrMcMTUtdW6GY8TQq8W/JG3iU\"","date":"Mon, 28 Feb 2022 13:40:36 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"edb1453c50efff54","transaction_id":"6d7216c13a4eb721","parent_id":"6d7216c13a4eb721","trace_id":"91e7e0dce5cf748817fa3a3d11bf9a0a","subtype":"postgresql","action":"query","timestamp":1646055637006047,"duration":3.42,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"6d7216c13a4eb721","trace_id":"91e7e0dce5cf748817fa3a3d11bf9a0a","parent_id":"6d305a4dd4bf8ec3","duration":17.405,"timestamp":1646055636999017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/589","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/589","full":"http://opbeans-go:3000/api/orders/589"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-91e7e0dce5cf748817fa3a3d11bf9a0a-6d305a4dd4bf8ec3-01","traceparent":"00-91e7e0dce5cf748817fa3a3d11bf9a0a-6d305a4dd4bf8ec3-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:37 GMT","connection":"keep-alive","keep-alive":"timeout=5","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7efb63984e20ba1b","trace_id":"7653a1002b32660166fcd9147253c23f","parent_id":"3e5924d2f4a37d6c","duration":30.469,"timestamp":1646055637054052,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders","full":"http://opbeans-go:3000/api/orders"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-7653a1002b32660166fcd9147253c23f-3e5924d2f4a37d6c-01","traceparent":"00-7653a1002b32660166fcd9147253c23f-3e5924d2f4a37d6c-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:37 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"42060037884473f3","transaction_id":"7efb63984e20ba1b","parent_id":"7efb63984e20ba1b","trace_id":"7653a1002b32660166fcd9147253c23f","subtype":"http","action":"GET","timestamp":1646055637060066,"duration":20.274,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"ae39d417efc426e7","trace_id":"41e0ec39f19d4d4c25e84bdc01333084","duration":48.886,"timestamp":1646055637105019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:40:37 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"1f415544d8612d46","transaction_id":"a602bf74f61d9b90","parent_id":"a602bf74f61d9b90","trace_id":"025499b1c2753ca8dfcedc2379e10099","subtype":"redis","action":null,"timestamp":1646055637300384,"duration":2.629,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a5edc4ab0325a32a","transaction_id":"a602bf74f61d9b90","parent_id":"a602bf74f61d9b90","trace_id":"025499b1c2753ca8dfcedc2379e10099","subtype":"postgresql","action":"query","timestamp":1646055637304623,"duration":5.844,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"a602bf74f61d9b90","trace_id":"025499b1c2753ca8dfcedc2379e10099","parent_id":"b20de3b63d9d4f13","duration":33.318,"timestamp":1646055637286034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-025499b1c2753ca8dfcedc2379e10099-b20de3b63d9d4f13-01","traceparent":"00-025499b1c2753ca8dfcedc2379e10099-b20de3b63d9d4f13-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:37 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3e944217c34f30d3","trace_id":"004a22684d8bce122027887132d0c9b8","parent_id":"e010757464fae0a4","duration":127.828,"timestamp":1646055637425030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-004a22684d8bce122027887132d0c9b8-e010757464fae0a4-01","traceparent":"00-004a22684d8bce122027887132d0c9b8-e010757464fae0a4-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37c402fff98fe986ebf5e3ba08420463\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"3a23660c-ad30-4ae1-989f-9c68c68a6582","x-runtime":"0.062799","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:37 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"d9a50c89453b2891","transaction_id":"3e944217c34f30d3","parent_id":"3e944217c34f30d3","trace_id":"004a22684d8bce122027887132d0c9b8","subtype":"http","action":"GET","timestamp":1646055637432011,"duration":108.315,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"103f904d2911f456","trace_id":"e5d4e0374b01c1d60e3fd74c8c0e4932","duration":77.044,"timestamp":1646055637626031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:37 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"078af4ae815041c5","transaction_id":"103f904d2911f456","parent_id":"103f904d2911f456","trace_id":"e5d4e0374b01c1d60e3fd74c8c0e4932","subtype":"http","action":"GET","timestamp":1646055637633090,"duration":46.663,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"1d2d00cc0f4b0ab9","trace_id":"97e609a32ec1bef99de1f7ba440d17c5","parent_id":"a9c6b632a83ff09e","duration":28.086,"timestamp":1646055637724041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:37 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"bb3c5c3868c46b9c","transaction_id":"d0ad4014069ba018","parent_id":"d0ad4014069ba018","trace_id":"8b4f882ca4ae9514e64ea9923ec27d39","subtype":"postgresql","action":"query","timestamp":1646055637876717,"duration":4.38,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"d0ad4014069ba018","trace_id":"8b4f882ca4ae9514e64ea9923ec27d39","parent_id":"b34d4b7cb2884270","duration":17.663,"timestamp":1646055637870018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-go:3000/api/products/2/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"python-requests/2.27.1","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-8b4f882ca4ae9514e64ea9923ec27d39-b34d4b7cb2884270-01","traceparent":"00-8b4f882ca4ae9514e64ea9923ec27d39-b34d4b7cb2884270-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.11"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"4827","etag":"W/\"12db-CVjfNlJXPDdUOB1pLPihBDfjg34\"","date":"Mon, 28 Feb 2022 13:40:37 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"bf5f74fb73feff6b","trace_id":"8b4f882ca4ae9514e64ea9923ec27d39","parent_id":"94facab18c2b0473","duration":68.249,"timestamp":1646055637838020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-go:3000/api/products/2/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-8b4f882ca4ae9514e64ea9923ec27d39-94facab18c2b0473-01","traceparent":"00-8b4f882ca4ae9514e64ea9923ec27d39-94facab18c2b0473-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:37 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"4827","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"6c131cf242a352be","transaction_id":"bf5f74fb73feff6b","parent_id":"bf5f74fb73feff6b","trace_id":"8b4f882ca4ae9514e64ea9923ec27d39","subtype":"http","action":"GET","timestamp":1646055637842575,"duration":59.794,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/2/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3b87ba366f2aa870","trace_id":"b0de3f64d363f171062406e8e38864ab","parent_id":"bb2d1ad6f3f8fdeb","duration":60.041,"timestamp":1646055637937018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-b0de3f64d363f171062406e8e38864ab-bb2d1ad6f3f8fdeb-01","elastic-apm-traceparent":"00-b0de3f64d363f171062406e8e38864ab-bb2d1ad6f3f8fdeb-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:37 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"203686","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"443ec815b217e4c9","transaction_id":"3b87ba366f2aa870","parent_id":"3b87ba366f2aa870","trace_id":"b0de3f64d363f171062406e8e38864ab","subtype":"http","action":"GET","timestamp":1646055637940991,"duration":51.81,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"2e3161b9bd17bc4c","transaction_id":"1d0b82f964b3c34c","parent_id":"1d0b82f964b3c34c","trace_id":"a06a9d6036e80fd2a13cb4fe310d9c80","subtype":"postgresql","action":"query","timestamp":1646055638133039,"duration":3.808,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"1d0b82f964b3c34c","trace_id":"a06a9d6036e80fd2a13cb4fe310d9c80","parent_id":"33934a586e670564","duration":42.269,"timestamp":1646055638128022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-a06a9d6036e80fd2a13cb4fe310d9c80-33934a586e670564-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-a06a9d6036e80fd2a13cb4fe310d9c80-33934a586e670564-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:38 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"07bfcedd1ab0aab7","transaction_id":"1d0b82f964b3c34c","parent_id":"1d0b82f964b3c34c","trace_id":"a06a9d6036e80fd2a13cb4fe310d9c80","subtype":"postgresql","action":"query","timestamp":1646055638138561,"duration":19.803,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0a8eff1aaa022e62","transaction_id":"1d0b82f964b3c34c","parent_id":"1d0b82f964b3c34c","trace_id":"a06a9d6036e80fd2a13cb4fe310d9c80","subtype":"postgresql","action":"query","timestamp":1646055638145183,"duration":18.519,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"af78281bb018b83c","transaction_id":"1d0b82f964b3c34c","parent_id":"1d0b82f964b3c34c","trace_id":"a06a9d6036e80fd2a13cb4fe310d9c80","subtype":"postgresql","action":"query","timestamp":1646055638153492,"duration":12.512,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"6eb165a56862bed4","trace_id":"bab833aee57fc958acd773eac00832ff","parent_id":"625147ea995bb5b3","duration":92.24,"timestamp":1646055638115023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-bab833aee57fc958acd773eac00832ff-625147ea995bb5b3-01","traceparent":"00-bab833aee57fc958acd773eac00832ff-625147ea995bb5b3-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:38 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"48f838dc93c62943","transaction_id":"6eb165a56862bed4","parent_id":"6eb165a56862bed4","trace_id":"bab833aee57fc958acd773eac00832ff","subtype":"http","action":"GET","timestamp":1646055638119709,"duration":83.316,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"9c99ff3be4ba2032","trace_id":"bab833aee57fc958acd773eac00832ff","duration":127.953,"timestamp":1646055638104029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:38 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"3be433520203604f","transaction_id":"9c99ff3be4ba2032","parent_id":"9c99ff3be4ba2032","trace_id":"bab833aee57fc958acd773eac00832ff","subtype":"http","action":"GET","timestamp":1646055638108552,"duration":109.961,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"6c9d4e6315e50a3b","trace_id":"4ba3a479d89ab2f9bd80bdbf1262635e","parent_id":"eea7d5d1e9b85400","duration":59.231,"timestamp":1646055638424038,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/831","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/831","full":"http://opbeans-go:3000/api/orders/831"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-4ba3a479d89ab2f9bd80bdbf1262635e-eea7d5d1e9b85400-01","traceparent":"00-4ba3a479d89ab2f9bd80bdbf1262635e-eea7d5d1e9b85400-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:38 GMT","connection":"keep-alive","keep-alive":"timeout=5","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"d2522043022e5d51","transaction_id":"6c9d4e6315e50a3b","parent_id":"6c9d4e6315e50a3b","trace_id":"4ba3a479d89ab2f9bd80bdbf1262635e","subtype":"postgresql","action":"query","timestamp":1646055638444056,"duration":16.529,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"4de44392b5fb4a92","transaction_id":"be80e686de2f2ea6","parent_id":"be80e686de2f2ea6","trace_id":"cdf620a9342fbc3fad970ec173990b8d","subtype":"redis","action":null,"timestamp":1646055638630693,"duration":7.845,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d9e72d5ae1382a61","transaction_id":"be80e686de2f2ea6","parent_id":"be80e686de2f2ea6","trace_id":"cdf620a9342fbc3fad970ec173990b8d","subtype":"postgresql","action":"query","timestamp":1646055638639801,"duration":3.53,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"be80e686de2f2ea6","trace_id":"cdf620a9342fbc3fad970ec173990b8d","duration":37.983,"timestamp":1646055638610044,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:38 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"89d877e63deb7354","trace_id":"9238d942b000c419d68a24d014a3db40","parent_id":"9e8f8e83ebe92d88","duration":21.407,"timestamp":1646055638758019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4/customers","full":"http://opbeans-node:3000/api/products/4/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-9238d942b000c419d68a24d014a3db40-9e8f8e83ebe92d88-01","elastic-apm-traceparent":"00-9238d942b000c419d68a24d014a3db40-9e8f8e83ebe92d88-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:38 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"63a702f1afa89d44","transaction_id":"89d877e63deb7354","parent_id":"89d877e63deb7354","trace_id":"9238d942b000c419d68a24d014a3db40","subtype":"http","action":"GET","timestamp":1646055638762174,"duration":10.781,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/4/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"a9d07e36f4b8d34b","transaction_id":"d0f554d9739ff6aa","parent_id":"d0f554d9739ff6aa","trace_id":"70020827164504f8911a8a4da4f4d14c","subtype":"redis","action":null,"timestamp":1646055639121876,"duration":4.092,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"a339011a600f8fee","transaction_id":"d0f554d9739ff6aa","parent_id":"d0f554d9739ff6aa","trace_id":"70020827164504f8911a8a4da4f4d14c","subtype":"postgresql","action":"query","timestamp":1646055639135147,"duration":5.294,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"d0f554d9739ff6aa","trace_id":"70020827164504f8911a8a4da4f4d14c","duration":34.134,"timestamp":1646055639110035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:40:39 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"47d59e8a45702ffa","trace_id":"2de4b32280770834f2c9639de5f3a4fb","parent_id":"4132eb9fac9735ed","duration":32.959,"timestamp":1646055639148018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/325","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/325","full":"http://opbeans-node:3000/api/customers/325"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-2de4b32280770834f2c9639de5f3a4fb-4132eb9fac9735ed-01","elastic-apm-traceparent":"00-2de4b32280770834f2c9639de5f3a4fb-4132eb9fac9735ed-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:39 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"213","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"86cbafe7c3abbb35","transaction_id":"47d59e8a45702ffa","parent_id":"47d59e8a45702ffa","trace_id":"2de4b32280770834f2c9639de5f3a4fb","subtype":"http","action":"GET","timestamp":1646055639152837,"duration":23.723,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/325"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"2df5e5aa72865e16","trace_id":"5f8eabf8670a1cf1115824052f0d33e5","parent_id":"1904d7c50200ade8","duration":44.749,"timestamp":1646055639629020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers?limit=90","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2/customers","search":"?limit=90","full":"http://opbeans-node:3000/api/products/2/customers?limit=90"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-5f8eabf8670a1cf1115824052f0d33e5-1904d7c50200ade8-01","elastic-apm-traceparent":"00-5f8eabf8670a1cf1115824052f0d33e5-1904d7c50200ade8-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"4827","etag":"W/\"12db-CVjfNlJXPDdUOB1pLPihBDfjg34\"","date":"Mon, 28 Feb 2022 13:40:39 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"6d9812bf31142111","transaction_id":"2df5e5aa72865e16","parent_id":"2df5e5aa72865e16","trace_id":"5f8eabf8670a1cf1115824052f0d33e5","subtype":"postgresql","action":"query","timestamp":1646055639651455,"duration":14.4,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a1c999a48b5ad4e6","trace_id":"c58469e6eb5fd1bf8ed2820ffc1243fb","parent_id":"8dd9b1d6bc834f71","duration":46.635,"timestamp":1646055639684024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-c58469e6eb5fd1bf8ed2820ffc1243fb-8dd9b1d6bc834f71-01","elastic-apm-traceparent":"00-c58469e6eb5fd1bf8ed2820ffc1243fb-8dd9b1d6bc834f71-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:39 GMT","content-length":"110","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"e129184aa62afc9b","transaction_id":"a1c999a48b5ad4e6","parent_id":"a1c999a48b5ad4e6","trace_id":"c58469e6eb5fd1bf8ed2820ffc1243fb","subtype":"http","action":"GET","timestamp":1646055639692401,"duration":33.308,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7e0dd3c8b4e7239c","trace_id":"c58469e6eb5fd1bf8ed2820ffc1243fb","duration":158.432,"timestamp":1646055639607021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:39 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"eea3331ba7139db4","transaction_id":"7e0dd3c8b4e7239c","parent_id":"7e0dd3c8b4e7239c","trace_id":"c58469e6eb5fd1bf8ed2820ffc1243fb","subtype":"http","action":"GET","timestamp":1646055639619919,"duration":141.031,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"32293d1fad1272f3","trace_id":"22d5ab4fa83690eb1873413bcb950d5b","parent_id":"76e232831854fc5c","duration":91.772,"timestamp":1646055639944029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders","full":"http://opbeans-go:3000/api/orders"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-22d5ab4fa83690eb1873413bcb950d5b-76e232831854fc5c-01","traceparent":"00-22d5ab4fa83690eb1873413bcb950d5b-76e232831854fc5c-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"195dc75dd23c6abbf5c85d7fd3d619d1\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"94cf4bef-62fb-4637-89db-541d2b59e1e4","x-runtime":"0.057286","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:40 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"31ff40038986a72c","transaction_id":"32293d1fad1272f3","parent_id":"32293d1fad1272f3","trace_id":"22d5ab4fa83690eb1873413bcb950d5b","subtype":"http","action":"GET","timestamp":1646055639953907,"duration":77.079,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"78a58afd537fbbe3","transaction_id":"6f40145390a8133b","parent_id":"6f40145390a8133b","trace_id":"d7404ff159409bc3d4f039531dcd2236","subtype":"postgresql","action":"query","timestamp":1646055640124643,"duration":4.633,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"6f40145390a8133b","trace_id":"d7404ff159409bc3d4f039531dcd2236","duration":12.648,"timestamp":1646055640119023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/379","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/379","full":"http://opbeans-node:3000/api/orders/379"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:40 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"ad102c33369bb73f","trace_id":"eaa80d2b32245b2058abc63383b1343f","parent_id":"2aa25612d9848f01","duration":16.293,"timestamp":1646055640143016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/878","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/878","full":"http://opbeans-go:3000/api/orders/878"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-eaa80d2b32245b2058abc63383b1343f-2aa25612d9848f01-01","traceparent":"00-eaa80d2b32245b2058abc63383b1343f-2aa25612d9848f01-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:40 GMT","connection":"keep-alive","keep-alive":"timeout=5","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"b979b4b464f58b06","transaction_id":"ad102c33369bb73f","parent_id":"ad102c33369bb73f","trace_id":"eaa80d2b32245b2058abc63383b1343f","subtype":"postgresql","action":"query","timestamp":1646055640146403,"duration":10.056,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"6af08afebfafedcb","trace_id":"33cc8ade9ec46b1d42f42558fdfe8ae7","parent_id":"19255fe3879bac27","duration":55.346,"timestamp":1646055640134016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-node:3000/api/products/2/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-33cc8ade9ec46b1d42f42558fdfe8ae7-19255fe3879bac27-01","elastic-apm-traceparent":"00-33cc8ade9ec46b1d42f42558fdfe8ae7-19255fe3879bac27-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"e4763b7c6f912f9b655fa667d293bf0c\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"ac3775a4-e68d-4d36-9929-3bb4044625bd","x-runtime":"0.024504","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:40 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"402cbacbef7f2087","transaction_id":"6af08afebfafedcb","parent_id":"6af08afebfafedcb","trace_id":"33cc8ade9ec46b1d42f42558fdfe8ae7","subtype":"http","action":"GET","timestamp":1646055640137875,"duration":48.054,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/2/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"65f2a5a7612fce37","trace_id":"995141b7eca3a5cb9d50fedf7a45aad2","parent_id":"de3f88efe707a417","duration":84.145,"timestamp":1646055640149013,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2","full":"http://opbeans-node:3000/api/products/2"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-995141b7eca3a5cb9d50fedf7a45aad2-de3f88efe707a417-01","elastic-apm-traceparent":"00-995141b7eca3a5cb9d50fedf7a45aad2-de3f88efe707a417-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:40 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"330","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"139b2b0f722378d9","transaction_id":"65f2a5a7612fce37","parent_id":"65f2a5a7612fce37","trace_id":"995141b7eca3a5cb9d50fedf7a45aad2","subtype":"http","action":"GET","timestamp":1646055640153897,"duration":74.382,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"99c31e138cbfcf77","trace_id":"995141b7eca3a5cb9d50fedf7a45aad2","parent_id":"80e4bf672faa170d","duration":163.494,"timestamp":1646055640106020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2","full":"http://opbeans-node:3000/api/products/2"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-995141b7eca3a5cb9d50fedf7a45aad2-80e4bf672faa170d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-995141b7eca3a5cb9d50fedf7a45aad2-80e4bf672faa170d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:40 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"330","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"7f05f931958b0a22","transaction_id":"99c31e138cbfcf77","parent_id":"99c31e138cbfcf77","trace_id":"995141b7eca3a5cb9d50fedf7a45aad2","subtype":"http","action":"GET","timestamp":1646055640110694,"duration":154.855,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"5403ec7d9d38d470","transaction_id":"ac2d75dc996edbb4","parent_id":"ac2d75dc996edbb4","trace_id":"5fafc47c582522cd16eab676bba248dd","subtype":"postgresql","action":"query","timestamp":1646055640639995,"duration":14.621,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"9fabbb79d80ffc4c","transaction_id":"ac2d75dc996edbb4","parent_id":"ac2d75dc996edbb4","trace_id":"5fafc47c582522cd16eab676bba248dd","subtype":"postgresql","action":"query","timestamp":1646055640642116,"duration":25.488,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"1fef7c32f49ffbe1","transaction_id":"ac2d75dc996edbb4","parent_id":"ac2d75dc996edbb4","trace_id":"5fafc47c582522cd16eab676bba248dd","subtype":"postgresql","action":"query","timestamp":1646055640646844,"duration":24.082,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"ede6ebf14480d163","transaction_id":"ac2d75dc996edbb4","parent_id":"ac2d75dc996edbb4","trace_id":"5fafc47c582522cd16eab676bba248dd","subtype":"postgresql","action":"query","timestamp":1646055640649156,"duration":25.206,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"af38fd766e614f83","transaction_id":"ac2d75dc996edbb4","parent_id":"ac2d75dc996edbb4","trace_id":"5fafc47c582522cd16eab676bba248dd","subtype":"postgresql","action":"query","timestamp":1646055640682228,"duration":7.728,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"ac2d75dc996edbb4","trace_id":"5fafc47c582522cd16eab676bba248dd","parent_id":"78c0b55bbfc97932","duration":74.648,"timestamp":1646055640629025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-5fafc47c582522cd16eab676bba248dd-78c0b55bbfc97932-01","traceparent":"00-5fafc47c582522cd16eab676bba248dd-78c0b55bbfc97932-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:40:40 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"b0c3ca77a3b65547","transaction_id":"ac2d75dc996edbb4","parent_id":"ac2d75dc996edbb4","trace_id":"5fafc47c582522cd16eab676bba248dd","subtype":"postgresql","action":"query","timestamp":1646055640680005,"duration":13.043,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8d62e534f837e611","transaction_id":"ac2d75dc996edbb4","parent_id":"ac2d75dc996edbb4","trace_id":"5fafc47c582522cd16eab676bba248dd","subtype":"postgresql","action":"query","timestamp":1646055640677009,"duration":19.022,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7b72f8e8329c62e6","trace_id":"505046b53f1d183a39a4ac84dbc38950","duration":171.059,"timestamp":1646055640621035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"203686","content-type":"application/json","date":"Mon, 28 Feb 2022 13:40:40 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"e549021084fc3672","transaction_id":"7b72f8e8329c62e6","parent_id":"7b72f8e8329c62e6","trace_id":"505046b53f1d183a39a4ac84dbc38950","subtype":"http","action":"GET","timestamp":1646055640634562,"duration":153.826,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"POST unknown route","type":"request","result":"HTTP 4xx","id":"6c3979b16033718e","trace_id":"ec203ee8bd429ad06a93666d1e74c56a","parent_id":"f22361b654dc8f82","duration":31.35,"timestamp":1646055640922022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"POST","url":{"raw":"/api/orders/csv","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/csv","full":"http://opbeans-go:3000/api/orders/csv"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","content-length":"383","accept":"*/*","accept-encoding":"gzip, deflate","content-type":"multipart/form-data; boundary=320cd4e9858d4e4689f740509551a5fb","elastic-apm-traceparent":"00-ec203ee8bd429ad06a93666d1e74c56a-f22361b654dc8f82-01","traceparent":"00-ec203ee8bd429ad06a93666d1e74c56a-f22361b654dc8f82-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"},"body":"[REDACTED]"},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"154","date":"Mon, 28 Feb 2022 13:40:40 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"a7659ff25aef4a5a","trace_id":"0d352593352344d9e5772472828ac3f1","duration":14.992,"timestamp":1646055641108022,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:41 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"db7d309f42268009","trace_id":"740b2c56f80b3213a4a2e392a376c567","duration":59.856,"timestamp":1646055641615034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/95","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/95","full":"http://opbeans-node:3000/api/orders/95"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"278","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:41 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"031af356cdb3fa43","transaction_id":"db7d309f42268009","parent_id":"db7d309f42268009","trace_id":"740b2c56f80b3213a4a2e392a376c567","subtype":"http","action":"GET","timestamp":1646055641625614,"duration":26.444,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders/95"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"0924ed1fe0d3ed8a","trace_id":"49ddbe8d10c119eeaaa6b69609611ab1","parent_id":"c1514f5cc28caf5b","duration":24.558,"timestamp":1646055642137089,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:42 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"6ec0becb8d4b19c7","trace_id":"c9ac400fa7cc70d1ec1cab500c7506a5","duration":36.901,"timestamp":1646055642612038,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:42 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"200bbbe10fd5afd4","trace_id":"d8638bdc3692269ba0cac81eda24ad98","duration":50.75,"timestamp":1646055643111031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:43 GMT","content-length":"403","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"4e76db0c50e37b8c","transaction_id":"200bbbe10fd5afd4","parent_id":"200bbbe10fd5afd4","trace_id":"d8638bdc3692269ba0cac81eda24ad98","subtype":"http","action":"GET","timestamp":1646055643124015,"duration":21.424,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"1f39b0eac5eb452e","trace_id":"6eafb7bbb8bac0f4787c28f8d5f9184b","duration":26.01,"timestamp":1646055643617065,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:43 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"597fba2081522e06","trace_id":"4117ccd9a9d59916105a884cf3fb2a1c","duration":22.766,"timestamp":1646055644114032,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:44 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"c94943de8ec5d085","trace_id":"1147d97f3e257c2974de129ae015de0e","parent_id":"ce967d012dc9258e","duration":13.77,"timestamp":1646055644611031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:44 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"4791da69c29bc8b4","trace_id":"4d5b37561b497be8474db7dc1d776114","duration":19.468,"timestamp":1646055645107021,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:45 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"9d776f6176708671","transaction_id":"2c899fc51244189b","parent_id":"2c899fc51244189b","trace_id":"cfbce62f0039c23b49170f06f415b047","subtype":"postgresql","action":"query","timestamp":1646055645643702,"duration":6.034,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"3cb86014447bf252","transaction_id":"2c899fc51244189b","parent_id":"2c899fc51244189b","trace_id":"cfbce62f0039c23b49170f06f415b047","subtype":"postgresql","action":"query","timestamp":1646055645651639,"duration":19.038,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"cd84cdceb141b3f0","transaction_id":"2c899fc51244189b","parent_id":"2c899fc51244189b","trace_id":"cfbce62f0039c23b49170f06f415b047","subtype":"postgresql","action":"query","timestamp":1646055645658161,"duration":19.577,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"2c899fc51244189b","trace_id":"cfbce62f0039c23b49170f06f415b047","parent_id":"f03b2a30d89c3651","duration":53.488,"timestamp":1646055645636030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-cfbce62f0039c23b49170f06f415b047-f03b2a30d89c3651-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-cfbce62f0039c23b49170f06f415b047-f03b2a30d89c3651-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:45 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a48655ba58f37fa6","trace_id":"4a86b8f907ee45f769badf2d0ab8fec0","duration":87.833,"timestamp":1646055645614040,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:45 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"248","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"cd9b064019cc365c","transaction_id":"2c899fc51244189b","parent_id":"2c899fc51244189b","trace_id":"cfbce62f0039c23b49170f06f415b047","subtype":"postgresql","action":"query","timestamp":1646055645660135,"duration":23.681,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"4d5429d371aa5e66","transaction_id":"a48655ba58f37fa6","parent_id":"a48655ba58f37fa6","trace_id":"4a86b8f907ee45f769badf2d0ab8fec0","subtype":"http","action":"GET","timestamp":1646055645626248,"duration":71.898,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/3"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"099960ea928cfe13","transaction_id":"ba49f0ecac564d27","parent_id":"ba49f0ecac564d27","trace_id":"21adf75464b7d8db652f24958ab92691","subtype":"postgresql","action":"query","timestamp":1646055646000033,"duration":3.407,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"4b5bf963344b97ef","transaction_id":"ba49f0ecac564d27","parent_id":"ba49f0ecac564d27","trace_id":"21adf75464b7d8db652f24958ab92691","subtype":"postgresql","action":"query","timestamp":1646055646017366,"duration":8.532,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"ba49f0ecac564d27","trace_id":"21adf75464b7d8db652f24958ab92691","parent_id":"9ba7dd64e9d4ecba","duration":41.827,"timestamp":1646055645991092,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-21adf75464b7d8db652f24958ab92691-9ba7dd64e9d4ecba-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-21adf75464b7d8db652f24958ab92691-9ba7dd64e9d4ecba-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"217","etag":"W/\"d9-cebOOHODBQMZd1wt+ZZBaSPgQLQ\"","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"514869e62d42cd2d","transaction_id":"e5b0f1818a32b2ce","parent_id":"e5b0f1818a32b2ce","trace_id":"3cb1a26d63855486e5c29cbdd4f24226","subtype":"redis","action":null,"timestamp":1646055646055259,"duration":2.215,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"5fa372184dcf9c92","transaction_id":"e5b0f1818a32b2ce","parent_id":"e5b0f1818a32b2ce","trace_id":"3cb1a26d63855486e5c29cbdd4f24226","subtype":"postgresql","action":"query","timestamp":1646055646059008,"duration":3.648,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"e5b0f1818a32b2ce","trace_id":"3cb1a26d63855486e5c29cbdd4f24226","parent_id":"a0ed099115538389","duration":25.014,"timestamp":1646055646051018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-3cb1a26d63855486e5c29cbdd4f24226-a0ed099115538389-01","traceparent":"00-3cb1a26d63855486e5c29cbdd4f24226-a0ed099115538389-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c706a1825e224c86","transaction_id":"e90e49202b585609","parent_id":"e90e49202b585609","trace_id":"5dc00f3b1a26dd9522e586b132daefe8","subtype":"postgresql","action":"query","timestamp":1646055646117093,"duration":8.566,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"e90e49202b585609","trace_id":"5dc00f3b1a26dd9522e586b132daefe8","duration":21.079,"timestamp":1646055646108022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"250","etag":"W/\"fa-O2pSp/nl49sefAwhjFNnvOX493Y\"","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"70be84f2da9348a7","trace_id":"e9ef9c90a1e9250586e472e31dd5f9ac","parent_id":"32df1d7bf1233471","duration":29.875,"timestamp":1646055646140020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-e9ef9c90a1e9250586e472e31dd5f9ac-32df1d7bf1233471-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-e9ef9c90a1e9250586e472e31dd5f9ac-32df1d7bf1233471-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"250","etag":"W/\"fa-O2pSp/nl49sefAwhjFNnvOX493Y\"","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"972c423566f0372b","transaction_id":"70be84f2da9348a7","parent_id":"70be84f2da9348a7","trace_id":"e9ef9c90a1e9250586e472e31dd5f9ac","subtype":"postgresql","action":"query","timestamp":1646055646143976,"duration":15.692,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c709b9bcbc90bb1e","trace_id":"0c5b8f32bce390db9232e77ba828ed22","parent_id":"231800c0e8b5e6e7","duration":50.419,"timestamp":1646055646205022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-0c5b8f32bce390db9232e77ba828ed22-231800c0e8b5e6e7-01","traceparent":"00-0c5b8f32bce390db9232e77ba828ed22-231800c0e8b5e6e7-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"186769","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"9f024eb3e09d70db","transaction_id":"c709b9bcbc90bb1e","parent_id":"c709b9bcbc90bb1e","trace_id":"0c5b8f32bce390db9232e77ba828ed22","subtype":"http","action":"GET","timestamp":1646055646209438,"duration":39.019,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"bed1117950c57751","trace_id":"a207a8cb6c2bf80b45d63f565d7b82c1","parent_id":"24595607c0b10ae4","duration":35.409,"timestamp":1646055646292022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/9","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/9","full":"http://opbeans-go:3000/api/orders/9"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-a207a8cb6c2bf80b45d63f565d7b82c1-24595607c0b10ae4-01","traceparent":"00-a207a8cb6c2bf80b45d63f565d7b82c1-24595607c0b10ae4-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"311","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"6d4b6b9e7bd6721e","transaction_id":"bed1117950c57751","parent_id":"bed1117950c57751","trace_id":"a207a8cb6c2bf80b45d63f565d7b82c1","subtype":"http","action":"GET","timestamp":1646055646295960,"duration":27.461,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders/9"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"263659646d9d8ecd","trace_id":"0a9131b04590e10fab69ed6898e243b8","parent_id":"d90bd94e6dc1b8eb","duration":124.266,"timestamp":1646055646275020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-0a9131b04590e10fab69ed6898e243b8-d90bd94e6dc1b8eb-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-0a9131b04590e10fab69ed6898e243b8-d90bd94e6dc1b8eb-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"195dc75dd23c6abbf5c85d7fd3d619d1\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"6b7b272c-24b2-4ee4-9f99-eb06329dd1c6","x-runtime":"0.074281","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:46 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"275f0abe7b6d3c5a","transaction_id":"263659646d9d8ecd","parent_id":"263659646d9d8ecd","trace_id":"0a9131b04590e10fab69ed6898e243b8","subtype":"http","action":"GET","timestamp":1646055646281795,"duration":109.598,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"cbee0e372a19fa48","trace_id":"20b6a0b0631f8ddf9b024ec553cf9c32","parent_id":"c4a741c6015ed587","duration":120.632,"timestamp":1646055646407031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-20b6a0b0631f8ddf9b024ec553cf9c32-c4a741c6015ed587-01","traceparent":"00-20b6a0b0631f8ddf9b024ec553cf9c32-c4a741c6015ed587-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"110","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"cd308bf5460c5509","transaction_id":"cbee0e372a19fa48","parent_id":"cbee0e372a19fa48","trace_id":"20b6a0b0631f8ddf9b024ec553cf9c32","subtype":"http","action":"GET","timestamp":1646055646450794,"duration":71.394,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"a7afa936500e8965","transaction_id":"073d7eb458045e19","parent_id":"073d7eb458045e19","trace_id":"e405fb080b2f2c82230d8b517e2d7468","subtype":"postgresql","action":"query","timestamp":1646055646563479,"duration":3.533,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 4xx","id":"073d7eb458045e19","trace_id":"e405fb080b2f2c82230d8b517e2d7468","parent_id":"e8f4d53276e0ef70","duration":12.837,"timestamp":1646055646557020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/6223","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/6223","full":"http://opbeans-go:3000/api/customers/6223"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-e405fb080b2f2c82230d8b517e2d7468-e8f4d53276e0ef70-01","traceparent":"00-e405fb080b2f2c82230d8b517e2d7468-e8f4d53276e0ef70-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"keep-alive","keep-alive":"timeout=5","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"374d0ab44189d8f0","transaction_id":"93daaf20fd226b89","parent_id":"93daaf20fd226b89","trace_id":"7a4b020b5b51af0fdce2505c61a52017","subtype":"postgresql","action":"query","timestamp":1646055646615805,"duration":7.127,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"93daaf20fd226b89","trace_id":"7a4b020b5b51af0fdce2505c61a52017","duration":19.152,"timestamp":1646055646611022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4/customers","full":"http://opbeans-node:3000/api/products/4/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"5a418d3623bde0c4","trace_id":"43e2cdd4552cbad3f2308497e9814c87","parent_id":"ca3f155852e035fb","duration":31.703,"timestamp":1646055646795021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/677","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/677","full":"http://opbeans-node:3000/api/customers/677"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-43e2cdd4552cbad3f2308497e9814c87-ca3f155852e035fb-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-43e2cdd4552cbad3f2308497e9814c87-ca3f155852e035fb-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"203","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"8d6244641858c8b2","transaction_id":"5a418d3623bde0c4","parent_id":"5a418d3623bde0c4","trace_id":"43e2cdd4552cbad3f2308497e9814c87","subtype":"http","action":"GET","timestamp":1646055646799339,"duration":22.06,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/677"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"9ec3eea4299d706c","transaction_id":"69a3e5d38e3ee49d","parent_id":"69a3e5d38e3ee49d","trace_id":"64dab799174ae2588a34ac39aa993e9e","subtype":"postgresql","action":"query","timestamp":1646055646932905,"duration":4.349,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d740b15bad07806b","transaction_id":"69a3e5d38e3ee49d","parent_id":"69a3e5d38e3ee49d","trace_id":"64dab799174ae2588a34ac39aa993e9e","subtype":"postgresql","action":"query","timestamp":1646055646938695,"duration":5.172,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"69a3e5d38e3ee49d","trace_id":"64dab799174ae2588a34ac39aa993e9e","parent_id":"be03c4c47b35b2c9","duration":25.348,"timestamp":1646055646928024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/3","full":"http://opbeans-go:3000/api/types/3"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-64dab799174ae2588a34ac39aa993e9e-be03c4c47b35b2c9-01","traceparent":"00-64dab799174ae2588a34ac39aa993e9e-be03c4c47b35b2c9-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:40:46 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0deb9a662b0cca61","trace_id":"057ac3b2870ff4d0d2774390d162b38e","parent_id":"8333a2be02771f3e","duration":54.316,"timestamp":1646055647053042,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-057ac3b2870ff4d0d2774390d162b38e-8333a2be02771f3e-01","traceparent":"00-057ac3b2870ff4d0d2774390d162b38e-8333a2be02771f3e-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"112","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:47 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"12e387d443cc4fcb","transaction_id":"0deb9a662b0cca61","parent_id":"0deb9a662b0cca61","trace_id":"057ac3b2870ff4d0d2774390d162b38e","subtype":"http","action":"GET","timestamp":1646055647059320,"duration":38.396,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b293a0f806d23f65","trace_id":"6a059097c656b024627bee9b052ccf5b","duration":35.604,"timestamp":1646055647122020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:47 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"9ff3d31893fdaa8f","transaction_id":"b293a0f806d23f65","parent_id":"b293a0f806d23f65","trace_id":"6a059097c656b024627bee9b052ccf5b","subtype":"http","action":"GET","timestamp":1646055647126474,"duration":27.385,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"7778bb19d1a5066d","trace_id":"d711a1f75a2138eaab2dd103d02fd4f2","parent_id":"afced30947a17350","duration":35.636,"timestamp":1646055647137026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/96","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/96","full":"http://opbeans-go:3000/api/customers/96"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-d711a1f75a2138eaab2dd103d02fd4f2-afced30947a17350-01","traceparent":"00-d711a1f75a2138eaab2dd103d02fd4f2-afced30947a17350-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"185","etag":"W/\"b9-mWXXbPC4ukVf3r6ExB2E7yjqPE4\"","date":"Mon, 28 Feb 2022 13:40:47 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"9c1f8df531f388c2","transaction_id":"7778bb19d1a5066d","parent_id":"7778bb19d1a5066d","trace_id":"d711a1f75a2138eaab2dd103d02fd4f2","subtype":"postgresql","action":"query","timestamp":1646055647143713,"duration":23.071,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4ef554602cb48d5f","trace_id":"b5511e05fd9a05ab558e69ef26bfc019","parent_id":"8eb5cfbebe47ce4f","duration":49.107,"timestamp":1646055647334039,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-b5511e05fd9a05ab558e69ef26bfc019-8eb5cfbebe47ce4f-01","traceparent":"00-b5511e05fd9a05ab558e69ef26bfc019-8eb5cfbebe47ce4f-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37992d7e5d1df22332cd7c5be552ddce\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"3e8b5d9e-d8a0-4d28-87c6-4ada240b42e1","x-runtime":"0.016792","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:47 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"047be2d0f2814bfe","transaction_id":"4ef554602cb48d5f","parent_id":"4ef554602cb48d5f","trace_id":"b5511e05fd9a05ab558e69ef26bfc019","subtype":"http","action":"GET","timestamp":1646055647340606,"duration":33.977,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"806865953f987b2d","trace_id":"84e8975aebda998754223d3e742e9f3c","parent_id":"dce193886b917bbf","duration":44.994,"timestamp":1646055647425026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types","full":"http://opbeans-go:3000/api/types"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-84e8975aebda998754223d3e742e9f3c-dce193886b917bbf-01","traceparent":"00-84e8975aebda998754223d3e742e9f3c-dce193886b917bbf-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:47 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"123","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"b76d5afd0591e906","transaction_id":"806865953f987b2d","parent_id":"806865953f987b2d","trace_id":"84e8975aebda998754223d3e742e9f3c","subtype":"http","action":"GET","timestamp":1646055647433055,"duration":33.194,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"3e242428a4d08614","transaction_id":"760570720ad6b1ff","parent_id":"760570720ad6b1ff","trace_id":"80a01c36ab03387e757c8d78243d796c","subtype":"http","action":"GET","timestamp":1646055647483306,"duration":9.591,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"760570720ad6b1ff","trace_id":"80a01c36ab03387e757c8d78243d796c","parent_id":"b966fbefe8c0898a","duration":15.35,"timestamp":1646055647479023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-80a01c36ab03387e757c8d78243d796c-b966fbefe8c0898a-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-80a01c36ab03387e757c8d78243d796c-b966fbefe8c0898a-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:47 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"Send receipt email","type":"custom","id":"00848e397717ef10","transaction_id":"4cc5b61ed926413b","parent_id":"4cc5b61ed926413b","trace_id":"2955247329677a1e4b9afab14a3b86b3","subtype":null,"action":null,"timestamp":1646055647199922,"duration":361.281,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":33,"function":"processCompletedOrder","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Process completed order', 'Worker')"],"context_line":"  performSubTasks(['Send receipt email', 'Update inventory'], function () {","post_context":["    apm.endTransaction()","    queue(processCompletedOrder)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"425767e0bba6035a","transaction_id":"5ebe6962e503369c","parent_id":"5ebe6962e503369c","trace_id":"48135a08cfcc94cea454248fe0d4e610","subtype":"redis","action":null,"timestamp":1646055647640524,"duration":1.927,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"fc97dba1c851f3eb","transaction_id":"5ebe6962e503369c","parent_id":"5ebe6962e503369c","trace_id":"48135a08cfcc94cea454248fe0d4e610","subtype":"postgresql","action":"query","timestamp":1646055647644152,"duration":42.72,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"5ebe6962e503369c","trace_id":"48135a08cfcc94cea454248fe0d4e610","parent_id":"7f9bf17ee0231c01","duration":106.072,"timestamp":1646055647632072,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-48135a08cfcc94cea454248fe0d4e610-7f9bf17ee0231c01-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-48135a08cfcc94cea454248fe0d4e610-7f9bf17ee0231c01-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:40:47 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"09f7b0cd76c574f9","trace_id":"5a843cef6d96c2d4ebf0b2db7bd049d7","parent_id":"4a3baf29b61f159d","duration":46.742,"timestamp":1646055647753030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-5a843cef6d96c2d4ebf0b2db7bd049d7-4a3baf29b61f159d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-5a843cef6d96c2d4ebf0b2db7bd049d7-4a3baf29b61f159d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:47 GMT","content-length":"403","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"1209459a2195a0cd","transaction_id":"09f7b0cd76c574f9","parent_id":"09f7b0cd76c574f9","trace_id":"5a843cef6d96c2d4ebf0b2db7bd049d7","subtype":"http","action":"GET","timestamp":1646055647772509,"duration":21.328,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4fa93b54e57b6497","trace_id":"5a843cef6d96c2d4ebf0b2db7bd049d7","duration":224.063,"timestamp":1646055647617033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:47 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"6b80742990782127","transaction_id":"4fa93b54e57b6497","parent_id":"4fa93b54e57b6497","trace_id":"5a843cef6d96c2d4ebf0b2db7bd049d7","subtype":"http","action":"GET","timestamp":1646055647622593,"duration":214.316,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"c0a5593f9629bbad","trace_id":"d3e462ae4ff52dcd6dcaeab26b7f514e","parent_id":"fe17e29c89503765","duration":15.552,"timestamp":1646055647909023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:47 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"28c792474f02be7f","trace_id":"5c991867b1a387f7a2e29f89fb2f16c0","parent_id":"5e35eb2428d2a5bd","duration":23.442,"timestamp":1646055648113032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:48 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"061efe54e97996ef","trace_id":"4b400b9d70d7c17e345ceb29140cbf8a","parent_id":"accb36ea20206314","duration":45.093,"timestamp":1646055648313041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/652","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/652","full":"http://opbeans-go:3000/api/customers/652"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-4b400b9d70d7c17e345ceb29140cbf8a-accb36ea20206314-01","traceparent":"00-4b400b9d70d7c17e345ceb29140cbf8a-accb36ea20206314-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:48 GMT","content-length":"188","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"5b6bff9d5f48acdf","transaction_id":"061efe54e97996ef","parent_id":"061efe54e97996ef","trace_id":"4b400b9d70d7c17e345ceb29140cbf8a","subtype":"http","action":"GET","timestamp":1646055648328105,"duration":19.867,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers/652"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Process completed order","type":"Worker","result":"success","id":"4cc5b61ed926413b","trace_id":"2955247329677a1e4b9afab14a3b86b3","duration":1198.979,"timestamp":1646055647197030,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Update inventory","type":"custom","id":"4c2b24a317b14465","transaction_id":"4cc5b61ed926413b","parent_id":"4cc5b61ed926413b","trace_id":"2955247329677a1e4b9afab14a3b86b3","subtype":null,"action":null,"timestamp":1646055647567197,"duration":820.97,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b066e45c78f093b2","trace_id":"9d492a25940f6a13793fa6736f430961","parent_id":"1f64d17289c30357","duration":51.665,"timestamp":1646055648446027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers?limit=80","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","search":"?limit=80","full":"http://opbeans-node:3000/api/products/5/customers?limit=80"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-9d492a25940f6a13793fa6736f430961-1f64d17289c30357-01","elastic-apm-traceparent":"00-9d492a25940f6a13793fa6736f430961-1f64d17289c30357-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:48 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"55dd5b692795b7b4","transaction_id":"b066e45c78f093b2","parent_id":"b066e45c78f093b2","trace_id":"9d492a25940f6a13793fa6736f430961","subtype":"http","action":"GET","timestamp":1646055648457635,"duration":26.397,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/5/customers?limit=80"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"89da22335dea05f3","trace_id":"83bc1a68c1368c35ada4beef5136a1f0","parent_id":"86e960c12c221934","duration":33.443,"timestamp":1646055648699043,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/263","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/263","full":"http://opbeans-go:3000/api/orders/263"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-83bc1a68c1368c35ada4beef5136a1f0-86e960c12c221934-01","traceparent":"00-83bc1a68c1368c35ada4beef5136a1f0-86e960c12c221934-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:48 GMT","connection":"keep-alive","keep-alive":"timeout=5","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"1cf997a1c35fa0e8","transaction_id":"89da22335dea05f3","parent_id":"89da22335dea05f3","trace_id":"83bc1a68c1368c35ada4beef5136a1f0","subtype":"postgresql","action":"query","timestamp":1646055648711316,"duration":12.62,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"44488bde4df03430","trace_id":"83bc1a68c1368c35ada4beef5136a1f0","duration":94.925,"timestamp":1646055648652031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/263","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/263","full":"http://opbeans-node:3000/api/orders/263"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/plain","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:48 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"40c8d0b8062c9d58","transaction_id":"44488bde4df03430","parent_id":"44488bde4df03430","trace_id":"83bc1a68c1368c35ada4beef5136a1f0","subtype":"http","action":"GET","timestamp":1646055648672399,"duration":69.336,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/orders/263"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f30e492021775d7c","trace_id":"cbf2d401dd8d4cadb1450a1c615a61cb","duration":58.851,"timestamp":1646055649138029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/460","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/460","full":"http://opbeans-node:3000/api/customers/460"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:49 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"204","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"1c546c77108e328b","transaction_id":"f30e492021775d7c","parent_id":"f30e492021775d7c","trace_id":"cbf2d401dd8d4cadb1450a1c615a61cb","subtype":"http","action":"GET","timestamp":1646055649142847,"duration":48.654,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/460"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"1dba5fd138518e0a","transaction_id":"ccc4f0caa3d566cb","parent_id":"ccc4f0caa3d566cb","trace_id":"471d2834419a0de74ab7210dbb6726b2","subtype":"postgresql","action":"query","timestamp":1646055649651560,"duration":6.491,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"ccc4f0caa3d566cb","trace_id":"471d2834419a0de74ab7210dbb6726b2","duration":69.192,"timestamp":1646055649640032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:49 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"6930c06141b82371","transaction_id":"ccc4f0caa3d566cb","parent_id":"ccc4f0caa3d566cb","trace_id":"471d2834419a0de74ab7210dbb6726b2","subtype":"postgresql","action":"query","timestamp":1646055649665303,"duration":17.136,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8cbf0cd138f1ed8b","transaction_id":"ccc4f0caa3d566cb","parent_id":"ccc4f0caa3d566cb","trace_id":"471d2834419a0de74ab7210dbb6726b2","subtype":"postgresql","action":"query","timestamp":1646055649670476,"duration":19.863,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ee19d92d61611816","transaction_id":"ccc4f0caa3d566cb","parent_id":"ccc4f0caa3d566cb","trace_id":"471d2834419a0de74ab7210dbb6726b2","subtype":"postgresql","action":"query","timestamp":1646055649676111,"duration":21.825,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e5d9838f106aae51","trace_id":"295a48ffc01749a5a80997ae6d9dcf4f","duration":42.837,"timestamp":1646055650117028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:50 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"42823e874866895d","transaction_id":"e5d9838f106aae51","parent_id":"e5d9838f106aae51","trace_id":"295a48ffc01749a5a80997ae6d9dcf4f","subtype":"http","action":"GET","timestamp":1646055650122639,"duration":33.91,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"Validate CC","type":"custom","id":"dff801550e38b3bd","transaction_id":"a59d4c801b33407c","parent_id":"a59d4c801b33407c","trace_id":"70efae4d99094fafb421ce111ad03266","subtype":null,"action":null,"timestamp":1646055649571299,"duration":708.423,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":23,"function":"processPayment","library_frame":false,"abs_path":"/app/worker.js","pre_context":["","  apm.startTransaction('Process payment', 'Worker')"],"context_line":"  performSubTasks(['Validate CC', 'Reserve funds'], function () {","post_context":["    apm.endTransaction()","    queue(processPayment)"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"Process payment","type":"Worker","result":"success","id":"a59d4c801b33407c","trace_id":"70efae4d99094fafb421ce111ad03266","duration":1025.21,"timestamp":1646055649569059,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{}},"span_count":{"started":2},"outcome":"unknown","sample_rate":1}}
{"span":{"name":"Reserve funds","type":"custom","id":"e9e1473903109c93","transaction_id":"a59d4c801b33407c","parent_id":"a59d4c801b33407c","trace_id":"70efae4d99094fafb421ce111ad03266","subtype":null,"action":null,"timestamp":1646055650297936,"duration":293.672,"stacktrace":[{"filename":"worker.js","lineno":63,"function":"performSubTask","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  const span = apm.startSpan(name)","post_context":["","  setTimeout(function () {"]},{"filename":"worker.js","lineno":52,"function":"performSubTasks","library_frame":false,"abs_path":"/app/worker.js","pre_context":["  if (!running) return",""],"context_line":"  performSubTask(tasks.shift(), function () {","post_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"]},{"filename":"worker.js","lineno":55,"function":"Timeout._onTimeout","library_frame":false,"abs_path":"/app/worker.js","pre_context":["    if (tasks.length === 0) return cb()","    setTimeout(function () {"],"context_line":"      performSubTasks(tasks, cb)","post_context":["    }, Math.random() * 20).unref()","  })"]},{"filename":"internal/timers.js","lineno":557,"function":"listOnTimeout","library_frame":true,"abs_path":"internal/timers.js"},{"filename":"internal/timers.js","lineno":500,"function":"processTimers","library_frame":true,"abs_path":"internal/timers.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"8caa4c8734fb8b66","transaction_id":"3abc1ac769dc1ad2","parent_id":"3abc1ac769dc1ad2","trace_id":"02c4019da976a9f2252325916e4bcb41","subtype":"redis","action":null,"timestamp":1646055650699585,"duration":7.005,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c51d9bb47d17db3a","transaction_id":"3abc1ac769dc1ad2","parent_id":"3abc1ac769dc1ad2","trace_id":"02c4019da976a9f2252325916e4bcb41","subtype":"postgresql","action":"query","timestamp":1646055650708089,"duration":8.465,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"3abc1ac769dc1ad2","trace_id":"02c4019da976a9f2252325916e4bcb41","parent_id":"f819d3691861ab88","duration":41.13,"timestamp":1646055650690044,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-02c4019da976a9f2252325916e4bcb41-f819d3691861ab88-01","traceparent":"00-02c4019da976a9f2252325916e4bcb41-f819d3691861ab88-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:40:50 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"7628fc69b6b248d7","trace_id":"02c4019da976a9f2252325916e4bcb41","duration":109.525,"timestamp":1646055650657040,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"1023","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:50 GMT","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"64c927a17dce8676","transaction_id":"7628fc69b6b248d7","parent_id":"7628fc69b6b248d7","trace_id":"02c4019da976a9f2252325916e4bcb41","subtype":"http","action":"GET","timestamp":1646055650669285,"duration":83.908,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"847fbba92301dc11","trace_id":"f0a9c0557e739039262e452603dd0694","duration":30.364,"timestamp":1646055651122041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:51 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"017212fc01dc0677","transaction_id":"847fbba92301dc11","parent_id":"847fbba92301dc11","trace_id":"f0a9c0557e739039262e452603dd0694","subtype":"http","action":"GET","timestamp":1646055651127863,"duration":20.171,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"620a5f62b71f90fe","trace_id":"fafbd73d515a67ea43fb1298ce4abac4","parent_id":"40dab849730275d1","duration":17.491,"timestamp":1646055651626048,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:51 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"926f2c15d470cc69","transaction_id":"f59afb3107a90b47","parent_id":"f59afb3107a90b47","trace_id":"02aa9a46fa70b61be0b613ae7340f64a","subtype":"redis","action":null,"timestamp":1646055652120209,"duration":1.738,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"c2a4fb6221fbaef6","transaction_id":"f59afb3107a90b47","parent_id":"f59afb3107a90b47","trace_id":"02aa9a46fa70b61be0b613ae7340f64a","subtype":"postgresql","action":"query","timestamp":1646055652123877,"duration":7.705,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"f59afb3107a90b47","trace_id":"02aa9a46fa70b61be0b613ae7340f64a","duration":40.483,"timestamp":1646055652115023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:40:52 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"7fb1688ffbd80bd3","trace_id":"4d14badf3b2aa5c1346a71e8028b608c","parent_id":"3fcddac1e15bac87","duration":29.601,"timestamp":1646055652619029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:52 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"d2c9df8e9412263d","transaction_id":"b7ff2b9175aadc90","parent_id":"b7ff2b9175aadc90","trace_id":"db91271461bb66f1a5c7ae44f4819e02","subtype":"postgresql","action":"query","timestamp":1646055653144021,"duration":6.493,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"b7ff2b9175aadc90","trace_id":"db91271461bb66f1a5c7ae44f4819e02","duration":33.657,"timestamp":1646055653133029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/152","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/152","full":"http://opbeans-node:3000/api/orders/152"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:53 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"b6bdb61ac1a26e65","transaction_id":"dc72cee8aebd09f3","parent_id":"dc72cee8aebd09f3","trace_id":"1e864f53e4cb428cf2a6e9db95ea8137","subtype":"postgresql","action":"query","timestamp":1646055653654792,"duration":6.852,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"dc72cee8aebd09f3","trace_id":"1e864f53e4cb428cf2a6e9db95ea8137","duration":35.796,"timestamp":1646055653643037,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/882","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/882","full":"http://opbeans-node:3000/api/customers/882"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"180","etag":"W/\"b4-zyeLzOjFWTL7/aYPUm4jDjyczwo\"","date":"Mon, 28 Feb 2022 13:40:53 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"be204d38e3561cfd","trace_id":"62da894e036f01606ebe8207e6f3f425","parent_id":"c1af16dd056722b7","duration":43.663,"timestamp":1646055654170045,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:54 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"adf302ea91c2b0f2","transaction_id":"51f04fe03b5684a2","parent_id":"51f04fe03b5684a2","trace_id":"e87cc72c350988028d74523b7e6012d2","subtype":"postgresql","action":"query","timestamp":1646055654651850,"duration":6.236,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"51f04fe03b5684a2","trace_id":"e87cc72c350988028d74523b7e6012d2","duration":81.5,"timestamp":1646055654630050,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:54 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e64e8830479beb6b","transaction_id":"51f04fe03b5684a2","parent_id":"51f04fe03b5684a2","trace_id":"e87cc72c350988028d74523b7e6012d2","subtype":"postgresql","action":"query","timestamp":1646055654662983,"duration":18.617,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a33a96e644c5f7cb","transaction_id":"51f04fe03b5684a2","parent_id":"51f04fe03b5684a2","trace_id":"e87cc72c350988028d74523b7e6012d2","subtype":"postgresql","action":"query","timestamp":1646055654670953,"duration":20.685,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"635acbb0a329715b","transaction_id":"51f04fe03b5684a2","parent_id":"51f04fe03b5684a2","trace_id":"e87cc72c350988028d74523b7e6012d2","subtype":"postgresql","action":"query","timestamp":1646055654675378,"duration":23.064,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"5ca6f72cdc679cb1","trace_id":"9d9fcfd70650c874742272aef69fff59","parent_id":"c3ece61b7b5d6a6d","duration":6414.99,"timestamp":1646055648375030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders","full":"http://opbeans-go:3000/api/orders"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-9d9fcfd70650c874742272aef69fff59-c3ece61b7b5d6a6d-01","traceparent":"00-9d9fcfd70650c874742272aef69fff59-c3ece61b7b5d6a6d-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:54 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"108580","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"47d2fb6dde5cd4ea","transaction_id":"5ca6f72cdc679cb1","parent_id":"5ca6f72cdc679cb1","trace_id":"9d9fcfd70650c874742272aef69fff59","subtype":"http","action":"GET","timestamp":1646055648418610,"duration":6350.916,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"6769b50daedd123a","transaction_id":"e60a34176e8a565a","parent_id":"e60a34176e8a565a","trace_id":"ad724428e9a2273d3eac067a5b0f6823","subtype":"postgresql","action":"query","timestamp":1646055655027999,"duration":3.864,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"e60a34176e8a565a","trace_id":"ad724428e9a2273d3eac067a5b0f6823","parent_id":"98fb8b6878054aa5","duration":84.201,"timestamp":1646055655018040,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-ad724428e9a2273d3eac067a5b0f6823-98fb8b6878054aa5-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-ad724428e9a2273d3eac067a5b0f6823-98fb8b6878054aa5-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:55 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"384c6fcef5f763aa","transaction_id":"e60a34176e8a565a","parent_id":"e60a34176e8a565a","trace_id":"ad724428e9a2273d3eac067a5b0f6823","subtype":"postgresql","action":"query","timestamp":1646055655036024,"duration":30.102,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"4a4f849cafaa47f8","transaction_id":"e60a34176e8a565a","parent_id":"e60a34176e8a565a","trace_id":"ad724428e9a2273d3eac067a5b0f6823","subtype":"postgresql","action":"query","timestamp":1646055655037839,"duration":39.414,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a42f335a7d5ea785","transaction_id":"e60a34176e8a565a","parent_id":"e60a34176e8a565a","trace_id":"ad724428e9a2273d3eac067a5b0f6823","subtype":"postgresql","action":"query","timestamp":1646055655054764,"duration":31.316,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"dbe744594e4e9e87","trace_id":"da92ef18db2d7590e0d4d8f7123cb511","parent_id":"9e17f5c23c2928ec","duration":28.906,"timestamp":1646055655151041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:55 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"bbb6325b45367262","transaction_id":"fbc638df645fe6b8","parent_id":"fbc638df645fe6b8","trace_id":"61ac27690a3c4173e2650c5a09082097","subtype":"postgresql","action":"query","timestamp":1646055655389135,"duration":9.79,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"fbc638df645fe6b8","trace_id":"61ac27690a3c4173e2650c5a09082097","parent_id":"8d135958518388d1","duration":46.231,"timestamp":1646055655362035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/4","full":"http://opbeans-node:3000/api/products/4"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-61ac27690a3c4173e2650c5a09082097-8d135958518388d1-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-61ac27690a3c4173e2650c5a09082097-8d135958518388d1-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"243","etag":"W/\"f3-6sVO4eOixKeSqLsiOclAUoIfJnQ\"","date":"Mon, 28 Feb 2022 13:40:55 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"70e9f64901a22fe4","trace_id":"51d7cc1bf85814e6e69575151749552d","parent_id":"d8c2768d14b54103","duration":68.096,"timestamp":1646055655692027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2","full":"http://opbeans-node:3000/api/products/2"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-51d7cc1bf85814e6e69575151749552d-d8c2768d14b54103-01","elastic-apm-traceparent":"00-51d7cc1bf85814e6e69575151749552d-d8c2768d14b54103-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:55 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"259","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"5b62771f41e2106e","transaction_id":"70e9f64901a22fe4","parent_id":"70e9f64901a22fe4","trace_id":"51d7cc1bf85814e6e69575151749552d","subtype":"http","action":"GET","timestamp":1646055655701634,"duration":42.759,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"5ed9a3a342e8edf5","trace_id":"8f22a461b160b781899b619326b118d9","duration":197.923,"timestamp":1646055655627040,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:55 GMT","connection":"close","transfer-encoding":"chunked","content-type":"application/json","x-frame-options":"DENY","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"10cd93b0583ea619","transaction_id":"5ed9a3a342e8edf5","parent_id":"5ed9a3a342e8edf5","trace_id":"8f22a461b160b781899b619326b118d9","subtype":"http","action":"GET","timestamp":1646055655638120,"duration":182.889,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"cc8b92541c78e496","trace_id":"6d289f37bd7cbf6024ade2cdf27d2d4f","parent_id":"1f415d472e3cefa7","duration":30.675,"timestamp":1646055655805032,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2","full":"http://opbeans-go:3000/api/products/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-6d289f37bd7cbf6024ade2cdf27d2d4f-1f415d472e3cefa7-01","traceparent":"00-6d289f37bd7cbf6024ade2cdf27d2d4f-1f415d472e3cefa7-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"242","etag":"W/\"f2-TrZrMcMTUtdW6GY8TQq8W/JG3iU\"","date":"Mon, 28 Feb 2022 13:40:55 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"655ab104eb4fa7a8","transaction_id":"cc8b92541c78e496","parent_id":"cc8b92541c78e496","trace_id":"6d289f37bd7cbf6024ade2cdf27d2d4f","subtype":"postgresql","action":"query","timestamp":1646055655813319,"duration":17.183,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"0345f309d0f17a87","trace_id":"7d8d2d168b01715ad01564a41a264e9d","parent_id":"2e88bb5665eb89d2","duration":84.253,"timestamp":1646055655956023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-7d8d2d168b01715ad01564a41a264e9d-2e88bb5665eb89d2-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-7d8d2d168b01715ad01564a41a264e9d-2e88bb5665eb89d2-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:56 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"110","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"9265bf351ebd2259","transaction_id":"0345f309d0f17a87","parent_id":"0345f309d0f17a87","trace_id":"7d8d2d168b01715ad01564a41a264e9d","subtype":"http","action":"GET","timestamp":1646055655960631,"duration":65.516,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"adab27c236db2ea4","transaction_id":"0ce2e3fbf2d64656","parent_id":"0ce2e3fbf2d64656","trace_id":"69a0ba33ab3dddaff12e7745bd65f554","subtype":"postgresql","action":"query","timestamp":1646055656141045,"duration":17.872,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"0ce2e3fbf2d64656","trace_id":"69a0ba33ab3dddaff12e7745bd65f554","duration":82.247,"timestamp":1646055656122035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:56 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"bd7d62c7a6a0f539","transaction_id":"0ce2e3fbf2d64656","parent_id":"0ce2e3fbf2d64656","trace_id":"69a0ba33ab3dddaff12e7745bd65f554","subtype":"postgresql","action":"query","timestamp":1646055656169891,"duration":18.381,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"7a4c3d6e35be92a9","transaction_id":"0ce2e3fbf2d64656","parent_id":"0ce2e3fbf2d64656","trace_id":"69a0ba33ab3dddaff12e7745bd65f554","subtype":"postgresql","action":"query","timestamp":1646055656177297,"duration":13.938,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f4fc4af9ea05314e","transaction_id":"0ce2e3fbf2d64656","parent_id":"0ce2e3fbf2d64656","trace_id":"69a0ba33ab3dddaff12e7745bd65f554","subtype":"postgresql","action":"query","timestamp":1646055656179296,"duration":15.323,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"8814000040e3e71b","transaction_id":"0542aa0a763b4a8a","parent_id":"0542aa0a763b4a8a","trace_id":"dde751d65181151f1e302643901e5806","subtype":"redis","action":null,"timestamp":1646055656228560,"duration":3.246,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"df89d26d1d41110f","transaction_id":"0542aa0a763b4a8a","parent_id":"0542aa0a763b4a8a","trace_id":"dde751d65181151f1e302643901e5806","subtype":"postgresql","action":"query","timestamp":1646055656239430,"duration":42.087,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"0542aa0a763b4a8a","trace_id":"dde751d65181151f1e302643901e5806","parent_id":"e38777ff5a8a5802","duration":96.006,"timestamp":1646055656218022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-dde751d65181151f1e302643901e5806-e38777ff5a8a5802-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-dde751d65181151f1e302643901e5806-e38777ff5a8a5802-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:40:56 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"d4556b8ff8391c1f","trace_id":"833e4884e495c87f6b20c332f5aece32","parent_id":"50fe699cef54c01c","duration":68.445,"timestamp":1646055656345039,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/1","full":"http://opbeans-node:3000/api/products/1"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-833e4884e495c87f6b20c332f5aece32-50fe699cef54c01c-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-833e4884e495c87f6b20c332f5aece32-50fe699cef54c01c-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-6JlJegaJ+ir0C8I8EmmOjms1dnc\"","date":"Mon, 28 Feb 2022 13:40:56 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"5df5495106096f61","transaction_id":"d4556b8ff8391c1f","parent_id":"d4556b8ff8391c1f","trace_id":"833e4884e495c87f6b20c332f5aece32","subtype":"postgresql","action":"query","timestamp":1646055656354894,"duration":43.434,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"6301dc8f7986761d","trace_id":"00bae03986699010c3e502df4135359c","parent_id":"a2a473af46381af2","duration":18.854,"timestamp":1646055656620023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:56 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"d762f3a7b104cb32","transaction_id":"678abf38df874d08","parent_id":"678abf38df874d08","trace_id":"fb03ae0fd63fe205009402641b2bbe7f","subtype":"postgresql","action":"query","timestamp":1646055657146325,"duration":8.02,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"678abf38df874d08","trace_id":"fb03ae0fd63fe205009402641b2bbe7f","duration":27.589,"timestamp":1646055657136026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/60","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/60","full":"http://opbeans-node:3000/api/orders/60"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:40:57 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ab90c3d55d63b55d","trace_id":"fbd26c502daba0c49d01089fc2040701","duration":140.386,"timestamp":1646055657624028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"203686","content-type":"application/json","date":"Mon, 28 Feb 2022 13:40:57 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"2abb1587060177c1","transaction_id":"ab90c3d55d63b55d","parent_id":"ab90c3d55d63b55d","trace_id":"fbd26c502daba0c49d01089fc2040701","subtype":"http","action":"GET","timestamp":1646055657633538,"duration":86.698,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"8e1b64464521d6ac","trace_id":"1f685458c771ab9b6acb3a30d47f6f15","parent_id":"cf94fb2ec035592b","duration":25.272,"timestamp":1646055658004056,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:58 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"47a00b16fdfba1ab","trace_id":"d9186347e892deb2666630e8237ba5ea","duration":10.109,"timestamp":1646055658129041,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:40:58 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"feef35f943701edd","trace_id":"b8618dd484ec9d80a48ced0fa94a59de","parent_id":"37a66024dd5bf085","duration":14.455,"timestamp":1646055658631041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:58 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"35fdfb373ac48678","trace_id":"cec8cdf159e371186fbd4ea2b8712273","parent_id":"7992920ab1b9a72f","duration":128.457,"timestamp":1646055658674021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-cec8cdf159e371186fbd4ea2b8712273-7992920ab1b9a72f-01","elastic-apm-traceparent":"00-cec8cdf159e371186fbd4ea2b8712273-7992920ab1b9a72f-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:58 GMT","connection":"close","transfer-encoding":"chunked","content-type":"application/json","x-frame-options":"DENY","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"7490861b06a3e157","transaction_id":"35fdfb373ac48678","parent_id":"35fdfb373ac48678","trace_id":"cec8cdf159e371186fbd4ea2b8712273","subtype":"http","action":"GET","timestamp":1646055658679378,"duration":115.815,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"ced791e8b4b19121","transaction_id":"44d4bc42f0651011","parent_id":"44d4bc42f0651011","trace_id":"19647ef072491a36029075b01ff9edde","subtype":"postgresql","action":"query","timestamp":1646055658896529,"duration":6.689,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"b48b6633909ccede","transaction_id":"44d4bc42f0651011","parent_id":"44d4bc42f0651011","trace_id":"19647ef072491a36029075b01ff9edde","subtype":"postgresql","action":"query","timestamp":1646055658904759,"duration":8.553,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f6952f8f586f0952","transaction_id":"44d4bc42f0651011","parent_id":"44d4bc42f0651011","trace_id":"19647ef072491a36029075b01ff9edde","subtype":"postgresql","action":"query","timestamp":1646055658907253,"duration":8.587,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a95c545b4bbb1564","transaction_id":"44d4bc42f0651011","parent_id":"44d4bc42f0651011","trace_id":"19647ef072491a36029075b01ff9edde","subtype":"postgresql","action":"query","timestamp":1646055658910040,"duration":7.856,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"44d4bc42f0651011","trace_id":"19647ef072491a36029075b01ff9edde","parent_id":"5b1fa3440bbc10ba","duration":40.845,"timestamp":1646055658888022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-19647ef072491a36029075b01ff9edde-5b1fa3440bbc10ba-01","elastic-apm-traceparent":"00-19647ef072491a36029075b01ff9edde-5b1fa3440bbc10ba-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:40:58 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"8a8f7b17d29ab477","trace_id":"1619cf6f014a2b2fdf8e7c3c46a1fd2b","parent_id":"41d1077775de2817","duration":102.01,"timestamp":1646055658988025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1/customers?limit=110","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/1/customers","search":"?limit=110","full":"http://opbeans-node:3000/api/products/1/customers?limit=110"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-1619cf6f014a2b2fdf8e7c3c46a1fd2b-41d1077775de2817-01","elastic-apm-traceparent":"00-1619cf6f014a2b2fdf8e7c3c46a1fd2b-41d1077775de2817-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:40:59 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"203686","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"7fba1a0f87a4745c","transaction_id":"8a8f7b17d29ab477","parent_id":"8a8f7b17d29ab477","trace_id":"1619cf6f014a2b2fdf8e7c3c46a1fd2b","subtype":"http","action":"GET","timestamp":1646055658993664,"duration":92.125,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/1/customers?limit=110"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"5a76748cfc87f827","trace_id":"57758dd8f952471696352c780d92ba88","duration":28.17,"timestamp":1646055659137029,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:40:59 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"870793581fb2437c","transaction_id":"5a76748cfc87f827","parent_id":"5a76748cfc87f827","trace_id":"57758dd8f952471696352c780d92ba88","subtype":"http","action":"GET","timestamp":1646055659145922,"duration":11.423,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"1c7ffad1f5f0d02a","trace_id":"85b3dfe3323be3dcc0353ccf8f274bf1","parent_id":"ca57f147ff2a02fd","duration":82.984,"timestamp":1646055659369136,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/783","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/783","full":"http://opbeans-node:3000/api/customers/783"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-85b3dfe3323be3dcc0353ccf8f274bf1-ca57f147ff2a02fd-01","elastic-apm-traceparent":"00-85b3dfe3323be3dcc0353ccf8f274bf1-ca57f147ff2a02fd-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=UTF-8","x-request-id":"279a3b88-0781-493b-bcb6-95823f4e9a44","x-runtime":"0.038658","connection":"close","content-length":"1722","date":"Mon, 28 Feb 2022 13:40:59 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"99e5e42225f84efa","transaction_id":"1c7ffad1f5f0d02a","parent_id":"1c7ffad1f5f0d02a","trace_id":"85b3dfe3323be3dcc0353ccf8f274bf1","subtype":"http","action":"GET","timestamp":1646055659377322,"duration":68.339,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/customers/783"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"691330419fb9834c","trace_id":"53b2edbdd36b1757fc33e2c6173ef58e","parent_id":"059dbe6387b7e210","duration":7.904,"timestamp":1646055659627023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:40:59 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4f2262215006dd82","trace_id":"b3d73932d3b0b633cc5044edc693c6e7","parent_id":"b3631b83085b8adc","duration":45.274,"timestamp":1646055659763031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-b3d73932d3b0b633cc5044edc693c6e7-b3631b83085b8adc-01","elastic-apm-traceparent":"00-b3d73932d3b0b633cc5044edc693c6e7-b3631b83085b8adc-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37992d7e5d1df22332cd7c5be552ddce\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"f460de6c-4828-4957-b786-6df9e53796c5","x-runtime":"0.017714","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:40:59 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"118931db4513dd17","transaction_id":"4f2262215006dd82","parent_id":"4f2262215006dd82","trace_id":"b3d73932d3b0b633cc5044edc693c6e7","subtype":"http","action":"GET","timestamp":1646055659769199,"duration":35.153,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"08632700a922b788","trace_id":"6c498f3db57969fd042889c720cd489f","duration":10.604,"timestamp":1646055660124025,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:41:00 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"77cef29e26f5622a","transaction_id":"6f79c20edf45d97b","parent_id":"6f79c20edf45d97b","trace_id":"56acc163dfee1ff35309394d530308df","subtype":"redis","action":null,"timestamp":1646055660686980,"duration":12.866,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":59,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/products', function (req, res) {"],"context_line":"  redis.get('products', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"6f79c20edf45d97b","trace_id":"56acc163dfee1ff35309394d530308df","duration":124.668,"timestamp":1646055660631043,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:41:00 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"490b879175ca058f","transaction_id":"6f79c20edf45d97b","parent_id":"6f79c20edf45d97b","trace_id":"56acc163dfee1ff35309394d530308df","subtype":"postgresql","action":"query","timestamp":1646055660720126,"duration":16.063,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"257349d306088b2e","transaction_id":"299b9afb27b2a852","parent_id":"299b9afb27b2a852","trace_id":"e75f3dcb98cc1ab1a0dd3caf30d6b7eb","subtype":"redis","action":null,"timestamp":1646055661132260,"duration":1.77,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"299b9afb27b2a852","trace_id":"e75f3dcb98cc1ab1a0dd3caf30d6b7eb","duration":104.495,"timestamp":1646055661126027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:41:01 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"2c67aea87c4fe428","transaction_id":"299b9afb27b2a852","parent_id":"299b9afb27b2a852","trace_id":"e75f3dcb98cc1ab1a0dd3caf30d6b7eb","subtype":"postgresql","action":"query","timestamp":1646055661137752,"duration":58.258,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"63b0f423ae90bf62","transaction_id":"bcd77f5192a006eb","parent_id":"bcd77f5192a006eb","trace_id":"88d92ce57e74ebf71913d7a66b456fe4","subtype":"postgresql","action":"query","timestamp":1646055661670171,"duration":38.9,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"98839c7bad0db520","transaction_id":"bcd77f5192a006eb","parent_id":"bcd77f5192a006eb","trace_id":"88d92ce57e74ebf71913d7a66b456fe4","subtype":"postgresql","action":"query","timestamp":1646055661678170,"duration":39.275,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"74ea87529653acd6","transaction_id":"bcd77f5192a006eb","parent_id":"bcd77f5192a006eb","trace_id":"88d92ce57e74ebf71913d7a66b456fe4","subtype":"postgresql","action":"query","timestamp":1646055661686801,"duration":32.866,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"218304fab644e771","transaction_id":"bcd77f5192a006eb","parent_id":"bcd77f5192a006eb","trace_id":"88d92ce57e74ebf71913d7a66b456fe4","subtype":"postgresql","action":"query","timestamp":1646055661740680,"duration":12.569,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":270,"function":"Client.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg/lib/client.js","lineno":279,"function":"_handleReadyForQuery","library_frame":true,"abs_path":"/app/node_modules/pg/lib/client.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/pg/lib/connection.js","lineno":114,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg/lib/connection.js"},{"filename":"node_modules/pg-protocol/src/parser.ts","lineno":104,"function":"parse","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/parser.ts"},{"filename":"node_modules/pg-protocol/src/index.ts","lineno":7,"function":"Socket.<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-protocol/src/index.ts"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"internal/streams/readable.js","lineno":293,"function":"addChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":267,"function":"readableAddChunk","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/streams/readable.js","lineno":206,"function":"Readable.push","library_frame":true,"abs_path":"internal/streams/readable.js"},{"filename":"internal/stream_base_commons.js","lineno":188,"function":"onStreamRead","library_frame":true,"abs_path":"internal/stream_base_commons.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":true,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"87271f36bffd67a8","transaction_id":"bcd77f5192a006eb","parent_id":"bcd77f5192a006eb","trace_id":"88d92ce57e74ebf71913d7a66b456fe4","subtype":"postgresql","action":"query","timestamp":1646055661772396,"duration":9.23,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"bcd77f5192a006eb","trace_id":"88d92ce57e74ebf71913d7a66b456fe4","duration":145.366,"timestamp":1646055661641089,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:41:01 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ea78243a98ee6841","transaction_id":"bcd77f5192a006eb","parent_id":"bcd77f5192a006eb","trace_id":"88d92ce57e74ebf71913d7a66b456fe4","subtype":"postgresql","action":"query","timestamp":1646055661761942,"duration":15.125,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"4826d00ec655e4ca","transaction_id":"bcd77f5192a006eb","parent_id":"bcd77f5192a006eb","trace_id":"88d92ce57e74ebf71913d7a66b456fe4","subtype":"postgresql","action":"query","timestamp":1646055661767213,"duration":12.111,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"041d54ff2f9c46dd","trace_id":"b7950d3a2c8b3b18c33b453f284990f5","parent_id":"251e1496e7680184","duration":42.347,"timestamp":1646055661879035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-b7950d3a2c8b3b18c33b453f284990f5-251e1496e7680184-01","traceparent":"00-b7950d3a2c8b3b18c33b453f284990f5-251e1496e7680184-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:01 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"128","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"cac911d1f2f00536","transaction_id":"041d54ff2f9c46dd","parent_id":"041d54ff2f9c46dd","trace_id":"b7950d3a2c8b3b18c33b453f284990f5","subtype":"http","action":"GET","timestamp":1646055661891298,"duration":25.018,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c40112abb661d233","trace_id":"0491267308fd1cad832c144bec063f0c","parent_id":"2ce2a6739de13d1e","duration":221.251,"timestamp":1646055662228101,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/649","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/649","full":"http://opbeans-node:3000/api/orders/649"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-0491267308fd1cad832c144bec063f0c-2ce2a6739de13d1e-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-0491267308fd1cad832c144bec063f0c-2ce2a6739de13d1e-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:02 GMT","content-length":"279","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"59b30e0e3e3216ad","transaction_id":"c40112abb661d233","parent_id":"c40112abb661d233","trace_id":"0491267308fd1cad832c144bec063f0c","subtype":"http","action":"GET","timestamp":1646055662269425,"duration":138.625,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders/649"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"3e5720b72358d29f","trace_id":"9065bf1c4c4e7e32bfb2037bdd917b01","parent_id":"fdce4560b07b8645","duration":155.358,"timestamp":1646055662331028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:02 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"7fb7bc8b5ec27bc1","transaction_id":"58f5f7854d166e9f","parent_id":"58f5f7854d166e9f","trace_id":"eb14a054e25a091040c56aac464ccd75","subtype":"postgresql","action":"query","timestamp":1646055662520577,"duration":5.856,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"58f5f7854d166e9f","trace_id":"eb14a054e25a091040c56aac464ccd75","parent_id":"c70d1941b4657d5d","duration":21.37,"timestamp":1646055662513034,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-go:3000/api/products/5/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-eb14a054e25a091040c56aac464ccd75-c70d1941b4657d5d-01","traceparent":"00-eb14a054e25a091040c56aac464ccd75-c70d1941b4657d5d-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:41:02 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"59f70a096bd8728f","transaction_id":"e0cd14047d9dae0e","parent_id":"e0cd14047d9dae0e","trace_id":"a93e44e12478ae3ad8cd237457153f4c","subtype":"http","action":"GET","timestamp":1646055662575043,"duration":8.757,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-go:3000/api/customers/7893"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"e0cd14047d9dae0e","trace_id":"a93e44e12478ae3ad8cd237457153f4c","parent_id":"b9293e0442d96bc6","duration":14.736,"timestamp":1646055662571018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/7893","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/7893","full":"http://opbeans-node:3000/api/customers/7893"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-a93e44e12478ae3ad8cd237457153f4c-b9293e0442d96bc6-01","elastic-apm-traceparent":"00-a93e44e12478ae3ad8cd237457153f4c-b9293e0442d96bc6-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-length":"0","date":"Mon, 28 Feb 2022 13:41:02 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"a311f8abe6b90ad9","trace_id":"f67fb01d32c42f6e2f0582ff5514600b","duration":190.46,"timestamp":1646055662631051,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:41:02 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"5a3603eeecd6a370","trace_id":"cdd5b1eefba76163f6587109d3faea0b","parent_id":"af76505c92228a8e","duration":109.151,"timestamp":1646055662889037,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/6/customers","full":"http://opbeans-node:3000/api/products/6/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-cdd5b1eefba76163f6587109d3faea0b-af76505c92228a8e-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-cdd5b1eefba76163f6587109d3faea0b-af76505c92228a8e-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:41:02 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"e838c65adfe0e646","transaction_id":"5a3603eeecd6a370","parent_id":"5a3603eeecd6a370","trace_id":"cdd5b1eefba76163f6587109d3faea0b","subtype":"postgresql","action":"query","timestamp":1646055662960021,"duration":10.919,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"6bd08dc9b2598171","transaction_id":"509d4d6046fdeb45","parent_id":"509d4d6046fdeb45","trace_id":"6889513386d9f990e6e16f47263bfdc7","subtype":"postgresql","action":"query","timestamp":1646055663200375,"duration":8.062,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"b5900c2503326928","transaction_id":"509d4d6046fdeb45","parent_id":"509d4d6046fdeb45","trace_id":"6889513386d9f990e6e16f47263bfdc7","subtype":"postgresql","action":"query","timestamp":1646055663210487,"duration":17.241,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1aebfb332bac8ca9","transaction_id":"509d4d6046fdeb45","parent_id":"509d4d6046fdeb45","trace_id":"6889513386d9f990e6e16f47263bfdc7","subtype":"postgresql","action":"query","timestamp":1646055663213400,"duration":18.195,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"509d4d6046fdeb45","trace_id":"6889513386d9f990e6e16f47263bfdc7","parent_id":"746a79f812b7a828","duration":69.386,"timestamp":1646055663192031,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-6889513386d9f990e6e16f47263bfdc7-746a79f812b7a828-01","elastic-apm-traceparent":"00-6889513386d9f990e6e16f47263bfdc7-746a79f812b7a828-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:41:03 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"cc4ffc3394a03797","transaction_id":"509d4d6046fdeb45","parent_id":"509d4d6046fdeb45","trace_id":"6889513386d9f990e6e16f47263bfdc7","subtype":"postgresql","action":"query","timestamp":1646055663221940,"duration":25.616,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"c258e8dc9b02efd0","transaction_id":"ed7d3bcef6719e8f","parent_id":"ed7d3bcef6719e8f","trace_id":"3da666ba9d13aba3df58698cd76336bd","subtype":"redis","action":null,"timestamp":1646055663299086,"duration":4.946,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e25b6b335f5e68a5","transaction_id":"ed7d3bcef6719e8f","parent_id":"ed7d3bcef6719e8f","trace_id":"3da666ba9d13aba3df58698cd76336bd","subtype":"postgresql","action":"query","timestamp":1646055663305527,"duration":4.565,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"ed7d3bcef6719e8f","trace_id":"3da666ba9d13aba3df58698cd76336bd","parent_id":"223a65ecb35387f0","duration":19.142,"timestamp":1646055663294024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-3da666ba9d13aba3df58698cd76336bd-223a65ecb35387f0-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-3da666ba9d13aba3df58698cd76336bd-223a65ecb35387f0-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:41:03 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a3fece3312debccb","trace_id":"3da666ba9d13aba3df58698cd76336bd","duration":217.729,"timestamp":1646055663134037,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:03 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"0873571d9080a383","transaction_id":"a3fece3312debccb","parent_id":"a3fece3312debccb","trace_id":"3da666ba9d13aba3df58698cd76336bd","subtype":"http","action":"GET","timestamp":1646055663143140,"duration":204.746,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"8408aa8b10fae66b","trace_id":"2904bef4f057a2b2283de36dcf510cbd","duration":232.815,"timestamp":1646055663642051,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/6","full":"http://opbeans-node:3000/api/products/6"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:03 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"5678df91f4ad3817","transaction_id":"8408aa8b10fae66b","parent_id":"8408aa8b10fae66b","trace_id":"2904bef4f057a2b2283de36dcf510cbd","subtype":"http","action":"GET","timestamp":1646055663651404,"duration":215.974,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/6"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"2822b8a218f9eb03","transaction_id":"7f588264ae1279cb","parent_id":"7f588264ae1279cb","trace_id":"8381de2ab36353f363a9e2cae5761d1c","subtype":"redis","action":null,"timestamp":1646055664100345,"duration":2.52,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"7695ad7b76df1735","transaction_id":"7f588264ae1279cb","parent_id":"7f588264ae1279cb","trace_id":"8381de2ab36353f363a9e2cae5761d1c","subtype":"postgresql","action":"query","timestamp":1646055664105105,"duration":6.343,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"7f588264ae1279cb","trace_id":"8381de2ab36353f363a9e2cae5761d1c","parent_id":"34e31c6c84bf1220","duration":28.754,"timestamp":1646055664095018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-8381de2ab36353f363a9e2cae5761d1c-34e31c6c84bf1220-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-8381de2ab36353f363a9e2cae5761d1c-34e31c6c84bf1220-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:41:04 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"094fb9f3b0c7f790","trace_id":"8381de2ab36353f363a9e2cae5761d1c","parent_id":"27860299c2f58db8","duration":74.728,"timestamp":1646055664068159,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-8381de2ab36353f363a9e2cae5761d1c-27860299c2f58db8-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-8381de2ab36353f363a9e2cae5761d1c-27860299c2f58db8-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:04 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"a6671f26a619abea","transaction_id":"094fb9f3b0c7f790","parent_id":"094fb9f3b0c7f790","trace_id":"8381de2ab36353f363a9e2cae5761d1c","subtype":"http","action":"GET","timestamp":1646055664075406,"duration":60.864,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"50c0a1726724633a","trace_id":"b97a94ef1bbf7c8880b7dfee0a14dbc9","duration":36.589,"timestamp":1646055664152020,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:41:04 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"741324c9b00e2d35","trace_id":"c6537f1c45d7096754713620813bb992","parent_id":"9c66036ad0ef9857","duration":28.35,"timestamp":1646055664603022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-c6537f1c45d7096754713620813bb992-9c66036ad0ef9857-01","elastic-apm-traceparent":"00-c6537f1c45d7096754713620813bb992-9c66036ad0ef9857-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:04 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"89353844aa63a422","transaction_id":"741324c9b00e2d35","parent_id":"741324c9b00e2d35","trace_id":"c6537f1c45d7096754713620813bb992","subtype":"http","action":"GET","timestamp":1646055664609921,"duration":16.679,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"66701d091347fb05","trace_id":"3f0411d906ec186bf28239d0c18a95c7","duration":66.183,"timestamp":1646055664642019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5","full":"http://opbeans-node:3000/api/products/5"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"250","etag":"W/\"fa-O2pSp/nl49sefAwhjFNnvOX493Y\"","date":"Mon, 28 Feb 2022 13:41:04 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"46cc0124e5d1901c","transaction_id":"66701d091347fb05","parent_id":"66701d091347fb05","trace_id":"3f0411d906ec186bf28239d0c18a95c7","subtype":"postgresql","action":"query","timestamp":1646055664687507,"duration":12.526,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"72c74ee01c7a5391","trace_id":"52b4430d5d672eb0fbc3f95caee05954","parent_id":"d4da6af081ecca55","duration":71.748,"timestamp":1646055665147046,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:05 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"e1df22990fb19291","transaction_id":"142f39282d56e125","parent_id":"142f39282d56e125","trace_id":"87d6b6a878eb5eb118720fbb14911573","subtype":"postgresql","action":"query","timestamp":1646055665262289,"duration":4.988,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"97fc70cc7a5026a2","transaction_id":"142f39282d56e125","parent_id":"142f39282d56e125","trace_id":"87d6b6a878eb5eb118720fbb14911573","subtype":"postgresql","action":"query","timestamp":1646055665268705,"duration":3.044,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"142f39282d56e125","trace_id":"87d6b6a878eb5eb118720fbb14911573","parent_id":"1cb798aaf4f1def0","duration":19.209,"timestamp":1646055665257205,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-87d6b6a878eb5eb118720fbb14911573-1cb798aaf4f1def0-01","elastic-apm-traceparent":"00-87d6b6a878eb5eb118720fbb14911573-1cb798aaf4f1def0-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:41:05 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"5ecfea3f9ca36a8c","trace_id":"87d6b6a878eb5eb118720fbb14911573","parent_id":"133ded984aa1be21","duration":102.611,"timestamp":1646055665197024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-87d6b6a878eb5eb118720fbb14911573-133ded984aa1be21-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-87d6b6a878eb5eb118720fbb14911573-133ded984aa1be21-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:05 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"189","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"08f746ac7d45f38b","transaction_id":"5ecfea3f9ca36a8c","parent_id":"5ecfea3f9ca36a8c","trace_id":"87d6b6a878eb5eb118720fbb14911573","subtype":"http","action":"GET","timestamp":1646055665234785,"duration":55.294,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types/3"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"da16a4eac531e36c","transaction_id":"47902c6b8a77d0e4","parent_id":"47902c6b8a77d0e4","trace_id":"69a6a3a8cb9700adcf10a56adc1b3eea","subtype":"http","action":"GET","timestamp":1646055665335493,"duration":8.161,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"47902c6b8a77d0e4","trace_id":"69a6a3a8cb9700adcf10a56adc1b3eea","parent_id":"0b1f14f26e70768c","duration":18.188,"timestamp":1646055665331018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-69a6a3a8cb9700adcf10a56adc1b3eea-0b1f14f26e70768c-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-69a6a3a8cb9700adcf10a56adc1b3eea-0b1f14f26e70768c-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:05 GMT","content-length":"112","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"62ba8fbbdc62f8fd","transaction_id":"e58a473e7ecd9e39","parent_id":"e58a473e7ecd9e39","trace_id":"18dedb08e351f8f68ddd9e14c33397d2","subtype":"redis","action":null,"timestamp":1646055665464865,"duration":2.329,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"1ad1646b518bc501","transaction_id":"e58a473e7ecd9e39","parent_id":"e58a473e7ecd9e39","trace_id":"18dedb08e351f8f68ddd9e14c33397d2","subtype":"postgresql","action":"query","timestamp":1646055665469530,"duration":4.599,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"e58a473e7ecd9e39","trace_id":"18dedb08e351f8f68ddd9e14c33397d2","parent_id":"23c3ff423e1d95d6","duration":30.036,"timestamp":1646055665459023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-18dedb08e351f8f68ddd9e14c33397d2-23c3ff423e1d95d6-01","traceparent":"00-18dedb08e351f8f68ddd9e14c33397d2-23c3ff423e1d95d6-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:41:05 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /log-error","type":"request","result":"HTTP 5xx","id":"0be912ffdf09d7a6","trace_id":"8f2fb664f8d4d7eb5578ebeb9e4f167b","duration":92.794,"timestamp":1646055665630022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/log-error","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/log-error","full":"http://opbeans-node:3000/log-error"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":500,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=utf-8","content-length":"24","etag":"W/\"18-MS3VbhH7auHMzO0fUuNF6v14N/M\"","date":"Mon, 28 Feb 2022 13:41:05 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"ea6200d1cff89ea1","transaction_id":"94071b3f7a60ca9c","parent_id":"94071b3f7a60ca9c","trace_id":"3296fe7a8fe74bf58c9f9c594b92d8b3","subtype":"postgresql","action":"query","timestamp":1646055666171228,"duration":5.486,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"94071b3f7a60ca9c","trace_id":"3296fe7a8fe74bf58c9f9c594b92d8b3","duration":24.187,"timestamp":1646055666157071,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/296","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/296","full":"http://opbeans-node:3000/api/customers/296"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-s5scQCpX0vv0RfF+zUK7Q0VCj3A\"","date":"Mon, 28 Feb 2022 13:41:06 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"58e3b8de06fecaca","transaction_id":"5188b178565095eb","parent_id":"5188b178565095eb","trace_id":"00cee5240d1957a8cda2c795a79bfe55","subtype":"postgresql","action":"query","timestamp":1646055666191900,"duration":11.548,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"4490219a4caec9e0","transaction_id":"5188b178565095eb","parent_id":"5188b178565095eb","trace_id":"00cee5240d1957a8cda2c795a79bfe55","subtype":"postgresql","action":"query","timestamp":1646055666194405,"duration":11.863,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"bc6c703bfda4e5ce","transaction_id":"5188b178565095eb","parent_id":"5188b178565095eb","trace_id":"00cee5240d1957a8cda2c795a79bfe55","subtype":"postgresql","action":"query","timestamp":1646055666196773,"duration":12.103,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"a6cb9e6b06ddea0b","transaction_id":"5188b178565095eb","parent_id":"5188b178565095eb","trace_id":"00cee5240d1957a8cda2c795a79bfe55","subtype":"postgresql","action":"query","timestamp":1646055666198543,"duration":12.357,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"5188b178565095eb","trace_id":"00cee5240d1957a8cda2c795a79bfe55","parent_id":"a317b20289201804","duration":70.1,"timestamp":1646055666186026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-00cee5240d1957a8cda2c795a79bfe55-a317b20289201804-01","elastic-apm-traceparent":"00-00cee5240d1957a8cda2c795a79bfe55-a317b20289201804-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:41:06 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f6821a8ae997fa74","transaction_id":"5188b178565095eb","parent_id":"5188b178565095eb","trace_id":"00cee5240d1957a8cda2c795a79bfe55","subtype":"postgresql","action":"query","timestamp":1646055666216877,"duration":11.451,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"37c878424f4f7ca4","transaction_id":"5188b178565095eb","parent_id":"5188b178565095eb","trace_id":"00cee5240d1957a8cda2c795a79bfe55","subtype":"postgresql","action":"query","timestamp":1646055666215042,"duration":24.123,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d1e71f9198cbb5e8","transaction_id":"5188b178565095eb","parent_id":"5188b178565095eb","trace_id":"00cee5240d1957a8cda2c795a79bfe55","subtype":"postgresql","action":"query","timestamp":1646055666212823,"duration":28.905,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"92c55f08be11f0f4","trace_id":"52756c21f43f7d34aa05f1404382bb75","parent_id":"3b024ff21732ada1","duration":85.042,"timestamp":1646055666332035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-52756c21f43f7d34aa05f1404382bb75-3b024ff21732ada1-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-52756c21f43f7d34aa05f1404382bb75-3b024ff21732ada1-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:06 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"2926","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"cdef2a4fa1ba22ff","transaction_id":"92c55f08be11f0f4","parent_id":"92c55f08be11f0f4","trace_id":"52756c21f43f7d34aa05f1404382bb75","subtype":"http","action":"GET","timestamp":1646055666341144,"duration":72.108,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"acb77c23f5eefefb","trace_id":"b6c6adac22bbd86525d39c90d49d0595","duration":16.696,"timestamp":1646055666630032,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:41:06 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"d7447a723a4aca0f","trace_id":"5e766d0fcb3dc78cced2e0108b2220b7","parent_id":"d1e8dcfbd20f366d","duration":139.329,"timestamp":1646055666653019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2/customers","full":"http://opbeans-node:3000/api/products/2/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-5e766d0fcb3dc78cced2e0108b2220b7-d1e8dcfbd20f366d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-5e766d0fcb3dc78cced2e0108b2220b7-d1e8dcfbd20f366d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:06 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"203686","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"401dd35534e4a757","transaction_id":"d7447a723a4aca0f","parent_id":"d7447a723a4aca0f","trace_id":"5e766d0fcb3dc78cced2e0108b2220b7","subtype":"http","action":"GET","timestamp":1646055666658041,"duration":130.564,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/2/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"0e9aa280f47d292b","transaction_id":"5a2a098259b33444","parent_id":"5a2a098259b33444","trace_id":"a00ad2d117a8933aa7b33e56b695bbc7","subtype":"postgresql","action":"query","timestamp":1646055667144791,"duration":3.497,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"5a2a098259b33444","trace_id":"a00ad2d117a8933aa7b33e56b695bbc7","duration":26.004,"timestamp":1646055667131024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/3","full":"http://opbeans-node:3000/api/products/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-kkuzj37GZDzXDh0CWqh5Gan0VO4\"","date":"Mon, 28 Feb 2022 13:41:07 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"3b0fc25df60adf23","transaction_id":"98de976bc08058e6","parent_id":"98de976bc08058e6","trace_id":"faf0a7bb11fe30374fb53413b7c9b217","subtype":"redis","action":null,"timestamp":1646055667349127,"duration":2.012,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8564300b521bfad2","transaction_id":"98de976bc08058e6","parent_id":"98de976bc08058e6","trace_id":"faf0a7bb11fe30374fb53413b7c9b217","subtype":"postgresql","action":"query","timestamp":1646055667352472,"duration":2.389,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"98de976bc08058e6","trace_id":"faf0a7bb11fe30374fb53413b7c9b217","parent_id":"67b0331709803340","duration":14.073,"timestamp":1646055667345019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-faf0a7bb11fe30374fb53413b7c9b217-67b0331709803340-01","elastic-apm-traceparent":"00-faf0a7bb11fe30374fb53413b7c9b217-67b0331709803340-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:41:07 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"15b660d0adf3a548","trace_id":"278ba99360be8532c21dffcf29f03ce7","parent_id":"3238c78aac2040be","duration":26.302,"timestamp":1646055667630019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:07 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"c6563fc0a6b44087","transaction_id":"14a1bda42f61755d","parent_id":"14a1bda42f61755d","trace_id":"a97acdee2aa4ab70a5ec3bf2ff60bd58","subtype":"redis","action":null,"timestamp":1646055667969523,"duration":2.583,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"8ef9a2c1bd6d37e5","transaction_id":"14a1bda42f61755d","parent_id":"14a1bda42f61755d","trace_id":"a97acdee2aa4ab70a5ec3bf2ff60bd58","subtype":"postgresql","action":"query","timestamp":1646055667973809,"duration":23.418,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"14a1bda42f61755d","trace_id":"a97acdee2aa4ab70a5ec3bf2ff60bd58","parent_id":"aa7b329d159415bf","duration":117.77,"timestamp":1646055667965019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-a97acdee2aa4ab70a5ec3bf2ff60bd58-aa7b329d159415bf-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-a97acdee2aa4ab70a5ec3bf2ff60bd58-aa7b329d159415bf-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:41:07 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"a5a3e39fef58bb14","trace_id":"a45fcdf9f26bddcc7bb4c40df7ab90a1","parent_id":"2fcc7ffeaacccf3f","duration":20.306,"timestamp":1646055668148021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:08 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"832c506ec28b1c01","trace_id":"b52d2b5610827dce5f3846c0c9392164","parent_id":"a2abce4d578f50c6","duration":24.715,"timestamp":1646055668645052,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:08 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"cd57ff5855858c9b","transaction_id":"38a31db759256844","parent_id":"38a31db759256844","trace_id":"fe1ae3e19e6dc7fae049ad9574f645ff","subtype":"postgresql","action":"query","timestamp":1646055668784367,"duration":4.332,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"38a31db759256844","trace_id":"fe1ae3e19e6dc7fae049ad9574f645ff","parent_id":"5a377525bec7372a","duration":55.57,"timestamp":1646055668778061,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-fe1ae3e19e6dc7fae049ad9574f645ff-5a377525bec7372a-01","elastic-apm-traceparent":"00-fe1ae3e19e6dc7fae049ad9574f645ff-5a377525bec7372a-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:41:08 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"d80e68efdd30d55c","transaction_id":"38a31db759256844","parent_id":"38a31db759256844","trace_id":"fe1ae3e19e6dc7fae049ad9574f645ff","subtype":"postgresql","action":"query","timestamp":1646055668790268,"duration":15.13,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"52c833e4f159786f","transaction_id":"38a31db759256844","parent_id":"38a31db759256844","trace_id":"fe1ae3e19e6dc7fae049ad9574f645ff","subtype":"postgresql","action":"query","timestamp":1646055668795499,"duration":12.44,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"090c6f6025332704","transaction_id":"38a31db759256844","parent_id":"38a31db759256844","trace_id":"fe1ae3e19e6dc7fae049ad9574f645ff","subtype":"postgresql","action":"query","timestamp":1646055668799330,"duration":16.777,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"f0e708fcc799208c","trace_id":"6fcc975cdf0b5a656d95e4a9aeac7ad7","parent_id":"3ee95f9aeb03eaa7","duration":87.922,"timestamp":1646055669061028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/9367","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/9367","full":"http://opbeans-node:3000/api/customers/9367"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-6fcc975cdf0b5a656d95e4a9aeac7ad7-3ee95f9aeb03eaa7-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-6fcc975cdf0b5a656d95e4a9aeac7ad7-3ee95f9aeb03eaa7-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=UTF-8","x-request-id":"fd54933d-e5aa-4345-8552-fc352594eb90","x-runtime":"0.038618","connection":"close","content-length":"1722","date":"Mon, 28 Feb 2022 13:41:09 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"36878e8948fda364","transaction_id":"f0e708fcc799208c","parent_id":"f0e708fcc799208c","trace_id":"6fcc975cdf0b5a656d95e4a9aeac7ad7","subtype":"http","action":"GET","timestamp":1646055669065655,"duration":71.082,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/customers/9367"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"d0272c91b6a66149","trace_id":"37fe1846a1ce67a235dc2d11f7dc84f9","parent_id":"ed55a0049b75ca1a","duration":146.797,"timestamp":1646055669097024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-37fe1846a1ce67a235dc2d11f7dc84f9-ed55a0049b75ca1a-01","traceparent":"00-37fe1846a1ce67a235dc2d11f7dc84f9-ed55a0049b75ca1a-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:09 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"203686","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"66daaada75f5d599","trace_id":"d0c43cd0d97fcf9d9493e19876fce4e6","duration":149.734,"timestamp":1646055669166018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37c402fff98fe986ebf5e3ba08420463\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"41e1cc30-2e74-4b4a-81bd-63cf082b27aa","x-runtime":"0.032079","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:09 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"98782185868e5451","transaction_id":"d0272c91b6a66149","parent_id":"d0272c91b6a66149","trace_id":"37fe1846a1ce67a235dc2d11f7dc84f9","subtype":"http","action":"GET","timestamp":1646055669121505,"duration":116.103,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"51a0fb9f5e8461ec","transaction_id":"66daaada75f5d599","parent_id":"66daaada75f5d599","trace_id":"d0c43cd0d97fcf9d9493e19876fce4e6","subtype":"http","action":"GET","timestamp":1646055669177851,"duration":117.262,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"657969d69e8faef2","trace_id":"a66844852ac5b3abf31bc1fdb3844a2a","parent_id":"5cb2301ce75d9618","duration":83.968,"timestamp":1646055669584052,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2","full":"http://opbeans-go:3000/api/products/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-a66844852ac5b3abf31bc1fdb3844a2a-5cb2301ce75d9618-01","traceparent":"00-a66844852ac5b3abf31bc1fdb3844a2a-5cb2301ce75d9618-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"05c956bd01f33dfc24760b4f8c51733d\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"36a3a8e2-f514-477d-827c-e48aa8a9b18d","x-runtime":"0.031953","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:09 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"6d0059cb992adc7c","transaction_id":"657969d69e8faef2","parent_id":"657969d69e8faef2","trace_id":"a66844852ac5b3abf31bc1fdb3844a2a","subtype":"http","action":"GET","timestamp":1646055669600055,"duration":49.819,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/2"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"1add1ec1c39ec094","trace_id":"64042c8f5e6255c6e4200c083d786906","duration":52.934,"timestamp":1646055669694020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:09 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"cd738a81636f69eb","transaction_id":"1add1ec1c39ec094","parent_id":"1add1ec1c39ec094","trace_id":"64042c8f5e6255c6e4200c083d786906","subtype":"http","action":"GET","timestamp":1646055669702134,"duration":40.17,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"6923f433df01f31d","transaction_id":"e3821726cffd72ec","parent_id":"e3821726cffd72ec","trace_id":"e62b510b7a156d6eaaf628f9bc13c721","subtype":"postgresql","action":"query","timestamp":1646055669764330,"duration":6.483,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"44e522ff18be6032","transaction_id":"e3821726cffd72ec","parent_id":"e3821726cffd72ec","trace_id":"e62b510b7a156d6eaaf628f9bc13c721","subtype":"postgresql","action":"query","timestamp":1646055669772164,"duration":6.876,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"e3821726cffd72ec","trace_id":"e62b510b7a156d6eaaf628f9bc13c721","parent_id":"0aabc3b1e1613954","duration":25.176,"timestamp":1646055669757019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-e62b510b7a156d6eaaf628f9bc13c721-0aabc3b1e1613954-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-e62b510b7a156d6eaaf628f9bc13c721-0aabc3b1e1613954-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:41:09 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"fc0cb60374454bb0","transaction_id":"95010d024479ccac","parent_id":"95010d024479ccac","trace_id":"c911486d20a7f36f9a762985c754f9d8","subtype":"postgresql","action":"query","timestamp":1646055669805243,"duration":2.332,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e521ea7f1c9cbce3","transaction_id":"95010d024479ccac","parent_id":"95010d024479ccac","trace_id":"c911486d20a7f36f9a762985c754f9d8","subtype":"postgresql","action":"query","timestamp":1646055669808907,"duration":6.65,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"7259ae6181953eb4","transaction_id":"95010d024479ccac","parent_id":"95010d024479ccac","trace_id":"c911486d20a7f36f9a762985c754f9d8","subtype":"postgresql","action":"query","timestamp":1646055669810886,"duration":6.23,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"95010d024479ccac","trace_id":"c911486d20a7f36f9a762985c754f9d8","parent_id":"9aa00cc0c236553d","duration":34.536,"timestamp":1646055669798018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-c911486d20a7f36f9a762985c754f9d8-9aa00cc0c236553d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-c911486d20a7f36f9a762985c754f9d8-9aa00cc0c236553d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:41:09 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"852676dcd0e2ba1e","transaction_id":"95010d024479ccac","parent_id":"95010d024479ccac","trace_id":"c911486d20a7f36f9a762985c754f9d8","subtype":"postgresql","action":"query","timestamp":1646055669812862,"duration":10.773,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"e5189fd13dd8b900","trace_id":"7d66cab31f8185182b799d0bbb551368","parent_id":"d8a4e59fc705c936","duration":20.422,"timestamp":1646055670179024,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:10 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"597a4d975fae6b87","trace_id":"d0e010e28f8c2a3d08e78d09a4b80a55","parent_id":"9b738196381c8430","duration":102.667,"timestamp":1646055670134072,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/stats","full":"http://opbeans-go:3000/api/stats"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-d0e010e28f8c2a3d08e78d09a4b80a55-9b738196381c8430-01","traceparent":"00-d0e010e28f8c2a3d08e78d09a4b80a55-9b738196381c8430-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37c402fff98fe986ebf5e3ba08420463\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"66882176-4d76-4067-93a3-a2f100e291ab","x-runtime":"0.021300","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:10 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"4ee9580ac26561a2","transaction_id":"597a4d975fae6b87","parent_id":"597a4d975fae6b87","trace_id":"d0e010e28f8c2a3d08e78d09a4b80a55","subtype":"http","action":"GET","timestamp":1646055670166414,"duration":61.95,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"7cc7c054ceb29f70","transaction_id":"c452794aeb6c857b","parent_id":"c452794aeb6c857b","trace_id":"fa3ffdcc8ee56169d6b9ce11748da9c5","subtype":"postgresql","action":"query","timestamp":1646055670393603,"duration":5.2,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"c452794aeb6c857b","trace_id":"fa3ffdcc8ee56169d6b9ce11748da9c5","parent_id":"9e1d50efc309710d","duration":17.46,"timestamp":1646055670388025,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/2","full":"http://opbeans-go:3000/api/products/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-fa3ffdcc8ee56169d6b9ce11748da9c5-9e1d50efc309710d-01","traceparent":"00-fa3ffdcc8ee56169d6b9ce11748da9c5-9e1d50efc309710d-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"242","etag":"W/\"f2-TrZrMcMTUtdW6GY8TQq8W/JG3iU\"","date":"Mon, 28 Feb 2022 13:41:10 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ff95e470bcaf75b7","trace_id":"bbeaf91806aef78e8ee795da1b11c0a9","parent_id":"7349cc1873ce7b8b","duration":61.188,"timestamp":1646055670465033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-bbeaf91806aef78e8ee795da1b11c0a9-7349cc1873ce7b8b-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-bbeaf91806aef78e8ee795da1b11c0a9-7349cc1873ce7b8b-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:10 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"46e34b4f7a8f89eb","transaction_id":"ff95e470bcaf75b7","parent_id":"ff95e470bcaf75b7","trace_id":"bbeaf91806aef78e8ee795da1b11c0a9","subtype":"http","action":"GET","timestamp":1646055670472837,"duration":45.999,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types/3"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"fd57d79a5f0b0053","transaction_id":"7645754f3535257a","parent_id":"7645754f3535257a","trace_id":"83b0a7443b0ee0c25a44ff8cc98636e9","subtype":"redis","action":null,"timestamp":1646055670568543,"duration":5.699,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"5e00c61ac9e4fc79","transaction_id":"7645754f3535257a","parent_id":"7645754f3535257a","trace_id":"83b0a7443b0ee0c25a44ff8cc98636e9","subtype":"postgresql","action":"query","timestamp":1646055670577311,"duration":1.838,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"7645754f3535257a","trace_id":"83b0a7443b0ee0c25a44ff8cc98636e9","parent_id":"87caecf428fa53a6","duration":27.957,"timestamp":1646055670564021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-83b0a7443b0ee0c25a44ff8cc98636e9-87caecf428fa53a6-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-83b0a7443b0ee0c25a44ff8cc98636e9-87caecf428fa53a6-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:41:10 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"f361f48765622ec3","transaction_id":"c31328c3e410bc67","parent_id":"c31328c3e410bc67","trace_id":"23d8b49c8bfa75ffb1d3b292f31a6045","subtype":"postgresql","action":"query","timestamp":1646055670778638,"duration":6.726,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"c31328c3e410bc67","trace_id":"23d8b49c8bfa75ffb1d3b292f31a6045","parent_id":"4df0ef015e59bec5","duration":41.369,"timestamp":1646055670767023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers?limit=70","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/5/customers","search":"?limit=70","full":"http://opbeans-go:3000/api/products/5/customers?limit=70"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-23d8b49c8bfa75ffb1d3b292f31a6045-4df0ef015e59bec5-01","traceparent":"00-23d8b49c8bfa75ffb1d3b292f31a6045-4df0ef015e59bec5-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:41:10 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"23a891bbfa815438","trace_id":"52c0d7701a38911c604c99146f21e263","parent_id":"fabd4939e1682852","duration":54.749,"timestamp":1646055670854022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-52c0d7701a38911c604c99146f21e263-fabd4939e1682852-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-52c0d7701a38911c604c99146f21e263-fabd4939e1682852-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"e7a2362bf423f315691b319c14409fa6\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"42ef4d88-0ec2-4e75-9f1a-f50ffb4b9347","x-runtime":"0.029763","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:10 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"414998e6451d6265","transaction_id":"23a891bbfa815438","parent_id":"23a891bbfa815438","trace_id":"52c0d7701a38911c604c99146f21e263","subtype":"http","action":"GET","timestamp":1646055670858078,"duration":41.66,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3f87a0a89ea0ddbe","trace_id":"dd8dbe5f7f3466a2d7db41f2cb34daff","parent_id":"be82725bc76d4b83","duration":32.993,"timestamp":1646055671106035,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-dd8dbe5f7f3466a2d7db41f2cb34daff-be82725bc76d4b83-01","traceparent":"00-dd8dbe5f7f3466a2d7db41f2cb34daff-be82725bc76d4b83-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:11 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"e8b999d98738ef2c","transaction_id":"3f87a0a89ea0ddbe","parent_id":"3f87a0a89ea0ddbe","trace_id":"dd8dbe5f7f3466a2d7db41f2cb34daff","subtype":"http","action":"GET","timestamp":1646055671111428,"duration":16.539,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c4d53eb2c2d695d9","transaction_id":"f30f02407bce4430","parent_id":"f30f02407bce4430","trace_id":"fa7274055b49bc3072b54ec9d18b390e","subtype":"postgresql","action":"query","timestamp":1646055671158695,"duration":7.767,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"f30f02407bce4430","trace_id":"fa7274055b49bc3072b54ec9d18b390e","duration":39.47,"timestamp":1646055671147151,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/6","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/6","full":"http://opbeans-node:3000/api/products/6"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"254","etag":"W/\"fe-vUW963ju559F4nwQXb+Wg4ZAqdk\"","date":"Mon, 28 Feb 2022 13:41:11 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"721826864939e3f1","trace_id":"d478f728eb9e4fe6441ea3de805a223b","parent_id":"b386f2d33a850792","duration":42.796,"timestamp":1646055671316027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/8391","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/8391","full":"http://opbeans-go:3000/api/customers/8391"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-d478f728eb9e4fe6441ea3de805a223b-b386f2d33a850792-01","traceparent":"00-d478f728eb9e4fe6441ea3de805a223b-b386f2d33a850792-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/plain","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:11 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"54ae963dfdac66a5","transaction_id":"721826864939e3f1","parent_id":"721826864939e3f1","trace_id":"d478f728eb9e4fe6441ea3de805a223b","subtype":"http","action":"GET","timestamp":1646055671324527,"duration":30.406,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/customers/8391"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"91b2d5fd3df60ca9","transaction_id":"432031e428aec47f","parent_id":"432031e428aec47f","trace_id":"b61d9cd1c86f5beebf2c03a7b57326a7","subtype":"postgresql","action":"query","timestamp":1646055671666758,"duration":7.297,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"432031e428aec47f","trace_id":"b61d9cd1c86f5beebf2c03a7b57326a7","duration":61.213,"timestamp":1646055671655068,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:41:11 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"4e0293199d7bc332","transaction_id":"432031e428aec47f","parent_id":"432031e428aec47f","trace_id":"b61d9cd1c86f5beebf2c03a7b57326a7","subtype":"postgresql","action":"query","timestamp":1646055671685630,"duration":12.07,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"ec311c2d0a216007","trace_id":"dada5721d18eacfdc8a3a4dddf5f61cd","parent_id":"09302320a263c9ef","duration":32.15,"timestamp":1646055671842027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/727","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/727","full":"http://opbeans-go:3000/api/orders/727"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-dada5721d18eacfdc8a3a4dddf5f61cd-09302320a263c9ef-01","traceparent":"00-dada5721d18eacfdc8a3a4dddf5f61cd-09302320a263c9ef-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:41:11 GMT","connection":"keep-alive","keep-alive":"timeout=5","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"182f549b0e41db22","transaction_id":"ec311c2d0a216007","parent_id":"ec311c2d0a216007","trace_id":"dada5721d18eacfdc8a3a4dddf5f61cd","subtype":"postgresql","action":"query","timestamp":1646055671847455,"duration":18.599,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"b0f3bd705cd3507f","transaction_id":"7e23a214a49e4391","parent_id":"7e23a214a49e4391","trace_id":"70259fceff0c9f1e46dbe996599c0801","subtype":"redis","action":null,"timestamp":1646055671981920,"duration":5.03,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"7e23a214a49e4391","trace_id":"70259fceff0c9f1e46dbe996599c0801","parent_id":"c816d773625f8d48","duration":43.647,"timestamp":1646055671977015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders","full":"http://opbeans-go:3000/api/orders"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-70259fceff0c9f1e46dbe996599c0801-c816d773625f8d48-01","traceparent":"00-70259fceff0c9f1e46dbe996599c0801-c816d773625f8d48-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:41:11 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"fabb3f518fe1ef7c","transaction_id":"7e23a214a49e4391","parent_id":"7e23a214a49e4391","trace_id":"70259fceff0c9f1e46dbe996599c0801","subtype":"postgresql","action":"query","timestamp":1646055671989985,"duration":13.507,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"80c9ad4da8bfd6f3","transaction_id":"62e0e7e6e61acf60","parent_id":"62e0e7e6e61acf60","trace_id":"08fbfaac394c53a44e79fd085b01a396","subtype":"postgresql","action":"query","timestamp":1646055672159464,"duration":2.784,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"62e0e7e6e61acf60","trace_id":"08fbfaac394c53a44e79fd085b01a396","duration":23.55,"timestamp":1646055672151030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/2","full":"http://opbeans-node:3000/api/products/2"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"242","etag":"W/\"f2-TrZrMcMTUtdW6GY8TQq8W/JG3iU\"","date":"Mon, 28 Feb 2022 13:41:12 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"16bb9fb876d86a70","trace_id":"fad4efea53a135c97656e15a74cb240b","parent_id":"645f9db8012f5554","duration":261.381,"timestamp":1646055672242016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","accept-encoding":"gzip","elastic-apm-traceparent":"00-fad4efea53a135c97656e15a74cb240b-645f9db8012f5554-01","traceparent":"00-fad4efea53a135c97656e15a74cb240b-645f9db8012f5554-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:12 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"309","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"9520d1e023c5a445","transaction_id":"16bb9fb876d86a70","parent_id":"16bb9fb876d86a70","trace_id":"fad4efea53a135c97656e15a74cb240b","subtype":"http","action":"GET","timestamp":1646055672245679,"duration":253.473,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"4f9cac797bfda710","transaction_id":"2a2482db0dfd1997","parent_id":"2a2482db0dfd1997","trace_id":"ef57cbf7e87361141d06e114838da23c","subtype":"postgresql","action":"query","timestamp":1646055672547553,"duration":2.88,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"2a2482db0dfd1997","trace_id":"ef57cbf7e87361141d06e114838da23c","parent_id":"78736ae990fdc72c","duration":19.859,"timestamp":1646055672536015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/702","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/702","full":"http://opbeans-go:3000/api/customers/702"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-ef57cbf7e87361141d06e114838da23c-78736ae990fdc72c-01","traceparent":"00-ef57cbf7e87361141d06e114838da23c-78736ae990fdc72c-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"194","etag":"W/\"c2-uvvcFJIQeN+MuFN/ezRVBrOjCTs\"","date":"Mon, 28 Feb 2022 13:41:12 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"0757ad7d7e4f9a84","transaction_id":"a5a6d9be69b5fa02","parent_id":"a5a6d9be69b5fa02","trace_id":"e4799beaf81b0e4aac23221ed21cb063","subtype":"postgresql","action":"query","timestamp":1646055672596437,"duration":7.493,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 4xx","id":"a5a6d9be69b5fa02","trace_id":"e4799beaf81b0e4aac23221ed21cb063","parent_id":"ea443d8ba65e2148","duration":41.363,"timestamp":1646055672575041,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/5688","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/5688","full":"http://opbeans-go:3000/api/customers/5688"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-e4799beaf81b0e4aac23221ed21cb063-ea443d8ba65e2148-01","traceparent":"00-e4799beaf81b0e4aac23221ed21cb063-ea443d8ba65e2148-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:41:12 GMT","connection":"keep-alive","keep-alive":"timeout=5","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"47c959942a342337","trace_id":"090644462b713676ad82b87c49575d57","parent_id":"58fc9dbed60ff0e5","duration":15.729,"timestamp":1646055672654014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:12 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b77a284902b9b286","trace_id":"6d69bd11b4d340f031d41bf901bf7c96","duration":59.5,"timestamp":1646055673150137,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37c402fff98fe986ebf5e3ba08420463\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"4df941c2-d7af-4b18-91a9-6634185f4cfc","x-runtime":"0.022663","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:13 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"91a1abfa8fcf2ca6","transaction_id":"b77a284902b9b286","parent_id":"b77a284902b9b286","trace_id":"6d69bd11b4d340f031d41bf901bf7c96","subtype":"http","action":"GET","timestamp":1646055673155104,"duration":42.085,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"eca910077b3b5814","trace_id":"205350c651448a7559eb5796a8d69fcb","parent_id":"ef3911b6e7ba9b39","duration":18.545,"timestamp":1646055673650020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:13 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"29a13454398776c7","trace_id":"aebfa79c5ba9876f7160b41af54f5393","duration":26.277,"timestamp":1646055674152026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:14 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"61e18a8f90013170","transaction_id":"29a13454398776c7","parent_id":"29a13454398776c7","trace_id":"aebfa79c5ba9876f7160b41af54f5393","subtype":"http","action":"GET","timestamp":1646055674156773,"duration":16.009,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"b2aa33cf5d3e5b94","trace_id":"c427f02a74648a76d8bb575c4df8beff","duration":6197.148,"timestamp":1646055668133017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:14 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"108580","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"d16c138f9acc3c38","transaction_id":"b2aa33cf5d3e5b94","parent_id":"b2aa33cf5d3e5b94","trace_id":"c427f02a74648a76d8bb575c4df8beff","subtype":"http","action":"GET","timestamp":1646055668139546,"duration":6186.719,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"58e7746f66de4d69","trace_id":"ee7b0bc230381bbeb19cdcb44eafaf71","parent_id":"22e04c5cfd162343","duration":99.949,"timestamp":1646055674395030,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-ee7b0bc230381bbeb19cdcb44eafaf71-22e04c5cfd162343-01","traceparent":"00-ee7b0bc230381bbeb19cdcb44eafaf71-22e04c5cfd162343-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14, 172.23.0.9"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:14 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"071bc96e93821f4b","transaction_id":"58e7746f66de4d69","parent_id":"58e7746f66de4d69","trace_id":"ee7b0bc230381bbeb19cdcb44eafaf71","subtype":"http","action":"GET","timestamp":1646055674403715,"duration":77.386,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"764e1c6d776a6615","trace_id":"509c9105f82d421a2f1a1cd6fdc30730","parent_id":"56688ff73a077858","duration":38.59,"timestamp":1646055674628022,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-509c9105f82d421a2f1a1cd6fdc30730-56688ff73a077858-01","elastic-apm-traceparent":"00-509c9105f82d421a2f1a1cd6fdc30730-56688ff73a077858-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:14 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"4838b79c04e83130","transaction_id":"764e1c6d776a6615","parent_id":"764e1c6d776a6615","trace_id":"509c9105f82d421a2f1a1cd6fdc30730","subtype":"http","action":"GET","timestamp":1646055674635280,"duration":13.887,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"ea5605983708d07c","transaction_id":"0ce681ebc79aeb08","parent_id":"0ce681ebc79aeb08","trace_id":"0455e2ebd391c80c3685cc462ba0a05d","subtype":"postgresql","action":"query","timestamp":1646055674781063,"duration":9.367,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"e21474c05e1b0a7d","transaction_id":"0ce681ebc79aeb08","parent_id":"0ce681ebc79aeb08","trace_id":"0455e2ebd391c80c3685cc462ba0a05d","subtype":"postgresql","action":"query","timestamp":1646055674792670,"duration":2.769,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"0ce681ebc79aeb08","trace_id":"0455e2ebd391c80c3685cc462ba0a05d","parent_id":"394e32d46f746e41","duration":27.445,"timestamp":1646055674773073,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/2","full":"http://opbeans-go:3000/api/types/2"},"headers":{"host":"opbeans-go:3000","elastic-apm-traceparent":"00-0455e2ebd391c80c3685cc462ba0a05d-394e32d46f746e41-01","traceparent":"00-0455e2ebd391c80c3685cc462ba0a05d-394e32d46f746e41-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.10","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"205","etag":"W/\"cd-pFMi1QOVY6YqWe+nwcbZVviCths\"","date":"Mon, 28 Feb 2022 13:41:14 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c4283ad55ac08a41","trace_id":"0455e2ebd391c80c3685cc462ba0a05d","duration":112.436,"timestamp":1646055674708023,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/2","full":"http://opbeans-node:3000/api/types/2"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"205","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:14 GMT","etag":"W/\"cd-pFMi1QOVY6YqWe+nwcbZVviCths\"","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"81e33f0a5cd98fcc","transaction_id":"c4283ad55ac08a41","parent_id":"c4283ad55ac08a41","trace_id":"0455e2ebd391c80c3685cc462ba0a05d","subtype":"http","action":"GET","timestamp":1646055674721621,"duration":90.355,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"POST /api","type":"request","result":"HTTP 5xx","id":"ac45b25717cd110e","trace_id":"011cb4fbb9e9b4b5728ded4349d253f0","parent_id":"61ca0cdf8bc33dea","duration":235.992,"timestamp":1646055674746080,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"POST","url":{"raw":"/api/orders/csv","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/orders/csv","full":"http://opbeans-go:3000/api/orders/csv"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","content-length":"380","accept":"*/*","accept-encoding":"gzip, deflate","content-type":"multipart/form-data; boundary=e918d81daff3447dae2e76288d88f4f9","elastic-apm-traceparent":"00-011cb4fbb9e9b4b5728ded4349d253f0-61ca0cdf8bc33dea-01","traceparent":"00-011cb4fbb9e9b4b5728ded4349d253f0-61ca0cdf8bc33dea-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"},"body":"[REDACTED]"},"response":{"status_code":500,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:14 GMT","connection":"close","content-type":"text/html","x-frame-options":"DENY","content-length":"145","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"failure","sample_rate":1}}
{"span":{"name":"POST opbeans-python:3000","type":"external","id":"16e13384b63b5ac6","transaction_id":"ac45b25717cd110e","parent_id":"ac45b25717cd110e","trace_id":"011cb4fbb9e9b4b5728ded4349d253f0","subtype":"http","action":"POST","timestamp":1646055674764095,"duration":195.132,"context":{"http":{"method":"POST","status_code":500,"url":"http://opbeans-python:3000/api/orders/csv"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":75,"function":"serveStatic","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/body-parser/lib/types/json.js","lineno":119,"function":"jsonParser","library_frame":true,"abs_path":"/app/node_modules/body-parser/lib/types/json.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":58,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use(function (req, res, next) {","  req.log.debug('request received')"],"context_line":"  next()","post_context":["})","app.use(require('body-parser').json())"]}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"dd80c437c60f2e58","trace_id":"4de2d90778a7beeccb933d94a60c9762","parent_id":"9d59211734c35bfb","duration":43.262,"timestamp":1646055675038020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-go:3000/api/products/5/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-4de2d90778a7beeccb933d94a60c9762-9d59211734c35bfb-01","traceparent":"00-4de2d90778a7beeccb933d94a60c9762-9d59211734c35bfb-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:41:15 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"b9e1514296d572bb","transaction_id":"dd80c437c60f2e58","parent_id":"dd80c437c60f2e58","trace_id":"4de2d90778a7beeccb933d94a60c9762","subtype":"postgresql","action":"query","timestamp":1646055675057588,"duration":10.631,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"82f17e995e959d8e","trace_id":"a613a5b260ab9727fb52824f51744450","duration":160.486,"timestamp":1646055675188019,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/210","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/210","full":"http://opbeans-node:3000/api/customers/210"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-type":"text/html; charset=UTF-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:15 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"dfa13554d9772ae1","transaction_id":"82f17e995e959d8e","parent_id":"82f17e995e959d8e","trace_id":"a613a5b260ab9727fb52824f51744450","subtype":"http","action":"GET","timestamp":1646055675206816,"duration":121.581,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-ruby:3000/api/customers/210"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"497cdc781ed39965","transaction_id":"6295a00648a108cd","parent_id":"6295a00648a108cd","trace_id":"fb842bc119ac96fe27ba4b208528a267","subtype":"postgresql","action":"query","timestamp":1646055675363224,"duration":5.677,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"6295a00648a108cd","trace_id":"fb842bc119ac96fe27ba4b208528a267","parent_id":"1a34b66339b30b26","duration":20.532,"timestamp":1646055675357015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/711","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/711","full":"http://opbeans-go:3000/api/customers/711"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-fb842bc119ac96fe27ba4b208528a267-1a34b66339b30b26-01","traceparent":"00-fb842bc119ac96fe27ba4b208528a267-1a34b66339b30b26-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"197","etag":"W/\"c5-N5nQJVyDbx4oFOUlFe+eOQ8jOvo\"","date":"Mon, 28 Feb 2022 13:41:15 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"22222121d0c69955","transaction_id":"d18ac958e77ce111","parent_id":"d18ac958e77ce111","trace_id":"af4f6101c3d8de03ffe602f5a91a10d0","subtype":"http","action":"GET","timestamp":1646055675445785,"duration":9.702,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"d18ac958e77ce111","trace_id":"af4f6101c3d8de03ffe602f5a91a10d0","parent_id":"4458666825e270ed","duration":17.445,"timestamp":1646055675441015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/2","full":"http://opbeans-go:3000/api/types/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-af4f6101c3d8de03ffe602f5a91a10d0-4458666825e270ed-01","traceparent":"00-af4f6101c3d8de03ffe602f5a91a10d0-4458666825e270ed-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:15 GMT","content-length":"37","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"48ae037f74d145e7","trace_id":"9591ba4869bb5fd3a8a934420f9bb3eb","parent_id":"7cb094191cf96a40","duration":26.931,"timestamp":1646055675533050,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/3","full":"http://opbeans-go:3000/api/products/3"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-9591ba4869bb5fd3a8a934420f9bb3eb-7cb094191cf96a40-01","traceparent":"00-9591ba4869bb5fd3a8a934420f9bb3eb-7cb094191cf96a40-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:15 GMT","content-length":"231","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"ff92546361c76f8e","transaction_id":"48ae037f74d145e7","parent_id":"48ae037f74d145e7","trace_id":"9591ba4869bb5fd3a8a934420f9bb3eb","subtype":"http","action":"GET","timestamp":1646055675544592,"duration":10.769,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/3"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"af14a331112ccf72","trace_id":"f1f60e0cb72c39001363a0336a151e02","duration":62.953,"timestamp":1646055675663038,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers?count=orders&limit=50","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","search":"?count=orders&limit=50","full":"http://opbeans-node:3000/api/products/5/customers?count=orders&limit=50"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:41:15 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"86747462a0f19ac9","transaction_id":"af14a331112ccf72","parent_id":"af14a331112ccf72","trace_id":"f1f60e0cb72c39001363a0336a151e02","subtype":"postgresql","action":"query","timestamp":1646055675697421,"duration":11.394,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"570cd147560d9590","transaction_id":"d9d4949bdf0c2e25","parent_id":"d9d4949bdf0c2e25","trace_id":"8c4520e4f568f760d79f006c2b14e385","subtype":"redis","action":null,"timestamp":1646055675753569,"duration":5.207,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"805c7d798b6d0649","transaction_id":"d9d4949bdf0c2e25","parent_id":"d9d4949bdf0c2e25","trace_id":"8c4520e4f568f760d79f006c2b14e385","subtype":"postgresql","action":"query","timestamp":1646055675766409,"duration":6.836,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"d9d4949bdf0c2e25","trace_id":"8c4520e4f568f760d79f006c2b14e385","parent_id":"b4c2f5acc6b9139c","duration":48.887,"timestamp":1646055675740097,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-8c4520e4f568f760d79f006c2b14e385-b4c2f5acc6b9139c-01","elastic-apm-traceparent":"00-8c4520e4f568f760d79f006c2b14e385-b4c2f5acc6b9139c-01","tracestate":"es=s:1"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:41:15 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"54aca5440d9b617c","transaction_id":"0671522bb07b68ca","parent_id":"0671522bb07b68ca","trace_id":"d91c53c341d0b0b70c88715884373c72","subtype":"redis","action":null,"timestamp":1646055675993225,"duration":7.858,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"9bab15f6c0f225c2","transaction_id":"0671522bb07b68ca","parent_id":"0671522bb07b68ca","trace_id":"d91c53c341d0b0b70c88715884373c72","subtype":"postgresql","action":"query","timestamp":1646055676025825,"duration":83.079,"context":{"db":{"statement":"SELECT * FROM customers LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers","type":"request","result":"HTTP 2xx","id":"0671522bb07b68ca","trace_id":"d91c53c341d0b0b70c88715884373c72","parent_id":"a467791be139393c","duration":182.973,"timestamp":1646055675977033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers","full":"http://opbeans-go:3000/api/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-d91c53c341d0b0b70c88715884373c72-a467791be139393c-01","traceparent":"00-d91c53c341d0b0b70c88715884373c72-a467791be139393c-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"186769","etag":"W/\"2d991-yG3J8W/roH7fSxXTudZrO27Ax9s\"","date":"Mon, 28 Feb 2022 13:41:16 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"bcc6dbb407e17d56","trace_id":"e2b90ac0e63a4adbcd4ae7789066714a","parent_id":"ef103633783a2ac5","duration":41.257,"timestamp":1646055676183027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:16 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"3f846884888a4a08","trace_id":"9143bcc3869ffcdcbaa8275146475b0c","parent_id":"234a76a62bba6b7d","duration":38.882,"timestamp":1646055676198013,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/7555","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/7555","full":"http://opbeans-node:3000/api/customers/7555"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-9143bcc3869ffcdcbaa8275146475b0c-234a76a62bba6b7d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-9143bcc3869ffcdcbaa8275146475b0c-234a76a62bba6b7d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:41:16 GMT","content-length":"0","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"9c129593f28a3f40","transaction_id":"3f846884888a4a08","parent_id":"3f846884888a4a08","trace_id":"9143bcc3869ffcdcbaa8275146475b0c","subtype":"http","action":"GET","timestamp":1646055676202789,"duration":29.786,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-go:3000/api/customers/7555"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f56bb15c02c544f8","trace_id":"78b73197f7d07f6dc9293a8117c15f77","duration":50.296,"timestamp":1646055676655028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:16 GMT","content-length":"411","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"8726c3a5f6c8d610","transaction_id":"f56bb15c02c544f8","parent_id":"f56bb15c02c544f8","trace_id":"78b73197f7d07f6dc9293a8117c15f77","subtype":"http","action":"GET","timestamp":1646055676662704,"duration":25.076,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"5e9250922650aab2","trace_id":"56bb33dbf6dcecb30022697ba59b60fe","duration":6549.7,"timestamp":1646055670651018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:17 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"108580","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"d7f9ca6349580ca8","transaction_id":"5e9250922650aab2","parent_id":"5e9250922650aab2","trace_id":"56bb33dbf6dcecb30022697ba59b60fe","subtype":"http","action":"GET","timestamp":1646055670660804,"duration":6535.543,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3d211548983937b6","trace_id":"a5c3e19f9c79be3f2068f74ddf9f8850","duration":88.75,"timestamp":1646055677652015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"6b84b8cfae4908f93f790804f2c9e7c9\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"3b1a038e-7c04-4a76-bfaf-337d28e44d7d","x-runtime":"0.044814","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:17 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"c83f90502098db97","transaction_id":"3d211548983937b6","parent_id":"3d211548983937b6","trace_id":"a5c3e19f9c79be3f2068f74ddf9f8850","subtype":"http","action":"GET","timestamp":1646055677660323,"duration":64.919,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"03d3f7d9864c884d","trace_id":"22c93a04e0b74671d90b1252854aff0f","duration":672.601,"timestamp":1646055677151016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/2","full":"http://opbeans-node:3000/api/types/2"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"221","content-type":"application/json","date":"Mon, 28 Feb 2022 13:41:17 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"4c52ba5fbbc0d3f4","transaction_id":"03d3f7d9864c884d","parent_id":"03d3f7d9864c884d","trace_id":"22c93a04e0b74671d90b1252854aff0f","subtype":"http","action":"GET","timestamp":1646055677155608,"duration":663.325,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 4xx","id":"983e4e7426105377","trace_id":"eaebf48a8966a71455d3c726ce9ef181","parent_id":"98dde55443efec27","duration":141.072,"timestamp":1646055678067466,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/321","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/customers/321","full":"http://opbeans-go:3000/api/customers/321"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-eaebf48a8966a71455d3c726ce9ef181-98dde55443efec27-01","traceparent":"00-eaebf48a8966a71455d3c726ce9ef181-98dde55443efec27-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","content-length":"1722","content-type":"text/html; charset=UTF-8","date":"Mon, 28 Feb 2022 13:41:18 GMT","x-request-id":"3f980541-ac7a-474d-b935-6a8bae3aa05f","x-runtime":"0.027940","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"269d5ed467a005e6","transaction_id":"983e4e7426105377","parent_id":"983e4e7426105377","trace_id":"eaebf48a8966a71455d3c726ce9ef181","subtype":"http","action":"GET","timestamp":1646055678092384,"duration":87.983,"context":{"http":{"method":"GET","status_code":404,"url":"http://opbeans-go:3000/api/customers/321"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"failure","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"8a4b39ab5c4bd6c4","transaction_id":"d383cbfd1191437a","parent_id":"d383cbfd1191437a","trace_id":"e4b0951ed19d10733c9fd22063bd48b2","subtype":"redis","action":null,"timestamp":1646055678250869,"duration":26.258,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"stacktrace":[{"filename":"node_modules/redis/lib/commands.js","lineno":46,"function":"get","library_frame":true,"abs_path":"/app/node_modules/redis/lib/commands.js"},{"filename":"server/routes.js","lineno":217,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server/routes.js","pre_context":["","app.get('/orders', function (req, res) {"],"context_line":"  redis.get('orders', function (err, obj) {","post_context":["    if (err) apm.captureError(err)","    else if (obj) return res.json(obj)"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":137,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/route.js","lineno":112,"function":"dispatch","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/route.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":281,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":88,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["app.use('/api', function (req, res, next) {","  if (Math.random() > opbeansRedirectProbability) {"],"context_line":"    return next()","post_context":["  }",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"d383cbfd1191437a","trace_id":"e4b0951ed19d10733c9fd22063bd48b2","duration":123.894,"timestamp":1646055678217085,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:41:18 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"63ee2a52269dcab6","transaction_id":"d383cbfd1191437a","parent_id":"d383cbfd1191437a","trace_id":"e4b0951ed19d10733c9fd22063bd48b2","subtype":"postgresql","action":"query","timestamp":1646055678293285,"duration":35.711,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"865b69768583dc6a","trace_id":"9ddd8dfd2ee304174243d07514d64909","parent_id":"1d23432e5e81bca1","duration":26.73,"timestamp":1646055678369113,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"host":"opbeans-node:3000","user-agent":"Wget","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:18 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"cabe17e8acdb4039","trace_id":"c3f83f5dd10c66b7964c72a5b98d2018","parent_id":"72f260a911107461","duration":129.622,"timestamp":1646055678297021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/2","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/2","full":"http://opbeans-go:3000/api/types/2"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-c3f83f5dd10c66b7964c72a5b98d2018-72f260a911107461-01","traceparent":"00-c3f83f5dd10c66b7964c72a5b98d2018-72f260a911107461-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","cache-control":"max-age=0, private, must-revalidate","content-type":"application/json; charset=utf-8","etag":"W/\"86dca956c4d935f7a1a446036838b927\"","referrer-policy":"strict-origin-when-cross-origin","x-content-type-options":"nosniff","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-request-id":"af351e4a-82bd-439b-befd-a394623f28b7","x-runtime":"0.022954","x-xss-protection":"1; mode=block","date":"Mon, 28 Feb 2022 13:41:18 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"e6c6585d05b68193","transaction_id":"cabe17e8acdb4039","parent_id":"cabe17e8acdb4039","trace_id":"c3f83f5dd10c66b7964c72a5b98d2018","subtype":"http","action":"GET","timestamp":1646055678309591,"duration":109.561,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types/2"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"87885af141f5d632","transaction_id":"8afbcddb810ea682","parent_id":"8afbcddb810ea682","trace_id":"d3c917230c2747a3db213f9573230734","subtype":"postgresql","action":"query","timestamp":1646055678464807,"duration":2.256,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ef9c80437ab7ce10","transaction_id":"8afbcddb810ea682","parent_id":"8afbcddb810ea682","trace_id":"d3c917230c2747a3db213f9573230734","subtype":"postgresql","action":"query","timestamp":1646055678475932,"duration":6.831,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a9121e94fa6c943b","transaction_id":"8afbcddb810ea682","parent_id":"8afbcddb810ea682","trace_id":"d3c917230c2747a3db213f9573230734","subtype":"postgresql","action":"query","timestamp":1646055678477601,"duration":7.541,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"8afbcddb810ea682","trace_id":"d3c917230c2747a3db213f9573230734","parent_id":"e4a1e1175a66eb24","duration":43.847,"timestamp":1646055678460013,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/top","full":"http://opbeans-go:3000/api/products/top"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-d3c917230c2747a3db213f9573230734-e4a1e1175a66eb24-01","traceparent":"00-d3c917230c2747a3db213f9573230734-e4a1e1175a66eb24-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:41:18 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ade2650b176827df","transaction_id":"8afbcddb810ea682","parent_id":"8afbcddb810ea682","trace_id":"d3c917230c2747a3db213f9573230734","subtype":"postgresql","action":"query","timestamp":1646055678479801,"duration":13.788,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"43876f3780158f1f","trace_id":"55fece6dc0d8168dc4acda4cbad42799","parent_id":"05cb998c571acfd2","duration":25.331,"timestamp":1646055678653016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:18 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a0a30acde98e340d","trace_id":"e0810cf1423288ce8686af5da3a134a0","parent_id":"980ed86a9917a545","duration":108.109,"timestamp":1646055678615049,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-e0810cf1423288ce8686af5da3a134a0-980ed86a9917a545-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-e0810cf1423288ce8686af5da3a134a0-980ed86a9917a545-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json","date":"Mon, 28 Feb 2022 13:41:18 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"91820ef6856152f8","transaction_id":"a0a30acde98e340d","parent_id":"a0a30acde98e340d","trace_id":"e0810cf1423288ce8686af5da3a134a0","subtype":"http","action":"GET","timestamp":1646055678632770,"duration":83.705,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"db8aa1643c6d4f95","transaction_id":"7fd0247b7a39ac66","parent_id":"7fd0247b7a39ac66","trace_id":"abc79ec3c848dd06a057b9e31433457f","subtype":"postgresql","action":"query","timestamp":1646055678874121,"duration":5.826,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"7fd0247b7a39ac66","trace_id":"abc79ec3c848dd06a057b9e31433457f","parent_id":"139492f68d256dd8","duration":24.505,"timestamp":1646055678867055,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/5/customers","full":"http://opbeans-go:3000/api/products/5/customers"},"headers":{"host":"opbeans-go:3000","user-agent":"http.rb/5.0.4","elastic-apm-traceparent":"00-abc79ec3c848dd06a057b9e31433457f-139492f68d256dd8-01","traceparent":"00-abc79ec3c848dd06a057b9e31433457f-139492f68d256dd8-01","tracestate":"es=s:1.0","x-forwarded-for":"172.23.0.12","accept-encoding":"gzip"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:41:18 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e58f00c0568ea8d2","trace_id":"abc79ec3c848dd06a057b9e31433457f","parent_id":"3d6b1961dfdd73dc","duration":82.497,"timestamp":1646055678829026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers?limit=90","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/5/customers","search":"?limit=90","full":"http://opbeans-go:3000/api/products/5/customers?limit=90"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-abc79ec3c848dd06a057b9e31433457f-3d6b1961dfdd73dc-01","traceparent":"00-abc79ec3c848dd06a057b9e31433457f-3d6b1961dfdd73dc-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:18 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"90df310662c148ad","transaction_id":"e58f00c0568ea8d2","parent_id":"e58f00c0568ea8d2","trace_id":"abc79ec3c848dd06a057b9e31433457f","subtype":"http","action":"GET","timestamp":1646055678839017,"duration":68.125,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products/5/customers?limit=90"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"e8e943b3be31b11d","transaction_id":"a3b39c8b86fb8e52","parent_id":"a3b39c8b86fb8e52","trace_id":"a12082e4c167f3be5aec2db024f68e83","subtype":"postgresql","action":"query","timestamp":1646055679109333,"duration":3.264,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"a3b39c8b86fb8e52","trace_id":"a12082e4c167f3be5aec2db024f68e83","parent_id":"02bb41d3e4c68ea6","duration":10.262,"timestamp":1646055679105015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/174","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/174","full":"http://opbeans-node:3000/api/orders/174"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-a12082e4c167f3be5aec2db024f68e83-02bb41d3e4c68ea6-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-a12082e4c167f3be5aec2db024f68e83-02bb41d3e4c68ea6-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:41:19 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"e8422fa011806c83","trace_id":"75339d7aa498d9c17172c4eeb3f6cff4","parent_id":"8a879fc1c92da1e6","duration":161.563,"timestamp":1646055679055018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/4","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/4","full":"http://opbeans-go:3000/api/products/4"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-75339d7aa498d9c17172c4eeb3f6cff4-8a879fc1c92da1e6-01","traceparent":"00-75339d7aa498d9c17172c4eeb3f6cff4-8a879fc1c92da1e6-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:19 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"331","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"f5de7262199f720e","transaction_id":"e8422fa011806c83","parent_id":"e8422fa011806c83","trace_id":"75339d7aa498d9c17172c4eeb3f6cff4","subtype":"http","action":"GET","timestamp":1646055679059333,"duration":153.915,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/4"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f3e90c3b4462e706","trace_id":"b6029695988a42fac663a6b6b3262373","duration":134.802,"timestamp":1646055679152014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:19 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"352","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"50f7625c6f275771","transaction_id":"f3e90c3b4462e706","parent_id":"f3e90c3b4462e706","trace_id":"b6029695988a42fac663a6b6b3262373","subtype":"http","action":"GET","timestamp":1646055679160183,"duration":114.677,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/types"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3fef7620dbe93483","trace_id":"129d1d47eb4444e7e9439254c7a5f259","parent_id":"49a42ae502423be9","duration":79.272,"timestamp":1646055679367027,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products","full":"http://opbeans-go:3000/api/products"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-129d1d47eb4444e7e9439254c7a5f259-49a42ae502423be9-01","traceparent":"00-129d1d47eb4444e7e9439254c7a5f259-49a42ae502423be9-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:19 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"2134","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"b4e19ffa9e7ef95c","transaction_id":"3fef7620dbe93483","parent_id":"3fef7620dbe93483","trace_id":"129d1d47eb4444e7e9439254c7a5f259","subtype":"http","action":"GET","timestamp":1646055679384809,"duration":56.344,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"0938993a9a784e06","transaction_id":"3c58be5b2cdc7714","parent_id":"3c58be5b2cdc7714","trace_id":"0eb9b83d0d0b752eca2ad531e8a61e24","subtype":"postgresql","action":"query","timestamp":1646055679658794,"duration":5.349,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a7e528401234742d","transaction_id":"3c58be5b2cdc7714","parent_id":"3c58be5b2cdc7714","trace_id":"0eb9b83d0d0b752eca2ad531e8a61e24","subtype":"postgresql","action":"query","timestamp":1646055679665348,"duration":11.631,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"69d9a84e097c09d0","transaction_id":"3c58be5b2cdc7714","parent_id":"3c58be5b2cdc7714","trace_id":"0eb9b83d0d0b752eca2ad531e8a61e24","subtype":"postgresql","action":"query","timestamp":1646055679669392,"duration":13.416,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"3c58be5b2cdc7714","trace_id":"0eb9b83d0d0b752eca2ad531e8a61e24","duration":45.399,"timestamp":1646055679655021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:41:19 GMT","connection":"close"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"a69e9a4b1fc498ce","transaction_id":"3c58be5b2cdc7714","parent_id":"3c58be5b2cdc7714","trace_id":"0eb9b83d0d0b752eca2ad531e8a61e24","subtype":"postgresql","action":"query","timestamp":1646055679674202,"duration":16.851,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"757221dfb2830f6a","transaction_id":"13b3aab6ca22844a","parent_id":"13b3aab6ca22844a","trace_id":"f0ccca6649e6080887081482564b6d4b","subtype":"redis","action":null,"timestamp":1646055679783335,"duration":1.717,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"545df018ad1e99dd","transaction_id":"13b3aab6ca22844a","parent_id":"13b3aab6ca22844a","trace_id":"f0ccca6649e6080887081482564b6d4b","subtype":"postgresql","action":"query","timestamp":1646055679788085,"duration":2.494,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"13b3aab6ca22844a","trace_id":"f0ccca6649e6080887081482564b6d4b","parent_id":"8e25d61dcd787392","duration":20.864,"timestamp":1646055679779013,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-f0ccca6649e6080887081482564b6d4b-8e25d61dcd787392-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-f0ccca6649e6080887081482564b6d4b-8e25d61dcd787392-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:41:19 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3b64eba9ef3c7c2c","trace_id":"f0ccca6649e6080887081482564b6d4b","parent_id":"7feb8d5b5575d142","duration":51.511,"timestamp":1646055679760015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-f0ccca6649e6080887081482564b6d4b-7feb8d5b5575d142-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-f0ccca6649e6080887081482564b6d4b-7feb8d5b5575d142-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:19 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"99339b48a4ec1891","transaction_id":"3b64eba9ef3c7c2c","parent_id":"3b64eba9ef3c7c2c","trace_id":"f0ccca6649e6080887081482564b6d4b","subtype":"http","action":"GET","timestamp":1646055679764016,"duration":42.221,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"c7c7bb1bde4a29b6","transaction_id":"1882e4d7c6f95527","parent_id":"1882e4d7c6f95527","trace_id":"00c163b7a2073c43532e04b09f2e77a6","subtype":"postgresql","action":"query","timestamp":1646055679882012,"duration":13.251,"context":{"db":{"statement":"SELECT COUNT(*) FROM products","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"bfe2130fd9b9c46d","transaction_id":"1882e4d7c6f95527","parent_id":"1882e4d7c6f95527","trace_id":"00c163b7a2073c43532e04b09f2e77a6","subtype":"postgresql","action":"query","timestamp":1646055679888180,"duration":10.169,"context":{"db":{"statement":"SELECT COUNT(*) FROM customers","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"0c71e4f7b8627db0","transaction_id":"1882e4d7c6f95527","parent_id":"1882e4d7c6f95527","trace_id":"00c163b7a2073c43532e04b09f2e77a6","subtype":"postgresql","action":"query","timestamp":1646055679890149,"duration":10.737,"context":{"db":{"statement":"SELECT COUNT(*) FROM orders","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"1ea24d3dd5e3f5e9","transaction_id":"1882e4d7c6f95527","parent_id":"1882e4d7c6f95527","trace_id":"00c163b7a2073c43532e04b09f2e77a6","subtype":"postgresql","action":"query","timestamp":1646055679912141,"duration":4.558,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":true,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/stats","type":"request","result":"HTTP 2xx","id":"1882e4d7c6f95527","trace_id":"00c163b7a2073c43532e04b09f2e77a6","parent_id":"28119ff36ebb238c","duration":72.298,"timestamp":1646055679877021,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-00c163b7a2073c43532e04b09f2e77a6-28119ff36ebb238c-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-00c163b7a2073c43532e04b09f2e77a6-28119ff36ebb238c-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"108","etag":"W/\"6c-t7HmStN3fR0Y5XCG92GLzVuOzaA\"","date":"Mon, 28 Feb 2022 13:41:19 GMT","connection":"close"}}},"span_count":{"started":7},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"fb726b896b5a5532","transaction_id":"1882e4d7c6f95527","parent_id":"1882e4d7c6f95527","trace_id":"00c163b7a2073c43532e04b09f2e77a6","subtype":"postgresql","action":"query","timestamp":1646055679918048,"duration":11.371,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8c4df4b18a120e2d","transaction_id":"1882e4d7c6f95527","parent_id":"1882e4d7c6f95527","trace_id":"00c163b7a2073c43532e04b09f2e77a6","subtype":"postgresql","action":"query","timestamp":1646055679921096,"duration":11.087,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"26312e504f2c754c","transaction_id":"1882e4d7c6f95527","parent_id":"1882e4d7c6f95527","trace_id":"00c163b7a2073c43532e04b09f2e77a6","subtype":"postgresql","action":"query","timestamp":1646055679923360,"duration":11.432,"context":{"db":{"statement":"SELECT cost, selling_price FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"4393b70bf1d20087","trace_id":"06b3682161ea3a4bbf859d9c304eef40","parent_id":"2db275974321a03b","duration":189.822,"timestamp":1646055679845016,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-06b3682161ea3a4bbf859d9c304eef40-2db275974321a03b-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-06b3682161ea3a4bbf859d9c304eef40-2db275974321a03b-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:20 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"309","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"ec261a1c3578a968","transaction_id":"4393b70bf1d20087","parent_id":"4393b70bf1d20087","trace_id":"06b3682161ea3a4bbf859d9c304eef40","subtype":"http","action":"GET","timestamp":1646055679848793,"duration":167.917,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"f337325b0054e385","transaction_id":"5fc8620b6582a022","parent_id":"5fc8620b6582a022","trace_id":"63816ce7bad0be45dc234f6dbe010ac2","subtype":"postgresql","action":"query","timestamp":1646055680086416,"duration":2.63,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"48569cf350aa7f8e","transaction_id":"5fc8620b6582a022","parent_id":"5fc8620b6582a022","trace_id":"63816ce7bad0be45dc234f6dbe010ac2","subtype":"postgresql","action":"query","timestamp":1646055680090247,"duration":9.241,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"8b92839ce60b061b","transaction_id":"5fc8620b6582a022","parent_id":"5fc8620b6582a022","trace_id":"63816ce7bad0be45dc234f6dbe010ac2","subtype":"postgresql","action":"query","timestamp":1646055680094899,"duration":6.029,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"2132d95f91173f67","transaction_id":"5fc8620b6582a022","parent_id":"5fc8620b6582a022","trace_id":"63816ce7bad0be45dc234f6dbe010ac2","subtype":"postgresql","action":"query","timestamp":1646055680096802,"duration":5.312,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"5fc8620b6582a022","trace_id":"63816ce7bad0be45dc234f6dbe010ac2","parent_id":"e844fafacaa6688e","duration":23.153,"timestamp":1646055680082017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-63816ce7bad0be45dc234f6dbe010ac2-e844fafacaa6688e-01","elastic-apm-traceparent":"00-63816ce7bad0be45dc234f6dbe010ac2-e844fafacaa6688e-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:41:20 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"51852a2459123b54","transaction_id":"fdddf9292bfe655a","parent_id":"fdddf9292bfe655a","trace_id":"673aaa9d33fdaeddec30f3a76f61450e","subtype":"redis","action":null,"timestamp":1646055680124274,"duration":1.917,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"93e889d41e03040f","transaction_id":"fdddf9292bfe655a","parent_id":"fdddf9292bfe655a","trace_id":"673aaa9d33fdaeddec30f3a76f61450e","subtype":"postgresql","action":"query","timestamp":1646055680127342,"duration":3.445,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"fdddf9292bfe655a","trace_id":"673aaa9d33fdaeddec30f3a76f61450e","parent_id":"e473f66663bc2e53","duration":15.118,"timestamp":1646055680120014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-673aaa9d33fdaeddec30f3a76f61450e-e473f66663bc2e53-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-673aaa9d33fdaeddec30f3a76f61450e-e473f66663bc2e53-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:41:20 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"90384d0c9c960791","trace_id":"2e74c4d73e3622976b21a225942fb115","duration":30.06,"timestamp":1646055680173033,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/268","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/268","full":"http://opbeans-node:3000/api/orders/268"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:20 GMT","content-length":"279","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"44f7dbd687f35cf5","transaction_id":"90384d0c9c960791","parent_id":"90384d0c9c960791","trace_id":"2e74c4d73e3622976b21a225942fb115","subtype":"http","action":"GET","timestamp":1646055680176821,"duration":15.522,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders/268"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"2941cd5a66f7dc3f","transaction_id":"0c015ee9b1dd78ca","parent_id":"0c015ee9b1dd78ca","trace_id":"96115d97eb2452d3a39a93bd170ebebf","subtype":"postgresql","action":"query","timestamp":1646055680501959,"duration":5.779,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"f986ac7d39f8efec","transaction_id":"0c015ee9b1dd78ca","parent_id":"0c015ee9b1dd78ca","trace_id":"96115d97eb2452d3a39a93bd170ebebf","subtype":"postgresql","action":"query","timestamp":1646055680514988,"duration":5.719,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"0c015ee9b1dd78ca","trace_id":"96115d97eb2452d3a39a93bd170ebebf","parent_id":"61bfb863eda6eddc","duration":39.337,"timestamp":1646055680491018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/3","full":"http://opbeans-node:3000/api/types/3"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-96115d97eb2452d3a39a93bd170ebebf-61bfb863eda6eddc-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-96115d97eb2452d3a39a93bd170ebebf-61bfb863eda6eddc-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:41:20 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"96c7a82d918c30f6","transaction_id":"ed89250fa5fd1d36","parent_id":"ed89250fa5fd1d36","trace_id":"7c52703ca5e7262d11dd5c07c25d29fa","subtype":"redis","action":null,"timestamp":1646055680682693,"duration":6.408,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"ea5566f5e5ac37ee","transaction_id":"ed89250fa5fd1d36","parent_id":"ed89250fa5fd1d36","trace_id":"7c52703ca5e7262d11dd5c07c25d29fa","subtype":"postgresql","action":"query","timestamp":1646055680702399,"duration":7.686,"context":{"db":{"statement":"SELECT * FROM product_types","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types","type":"request","result":"HTTP 2xx","id":"ed89250fa5fd1d36","trace_id":"7c52703ca5e7262d11dd5c07c25d29fa","duration":83.55,"timestamp":1646055680656020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"112","etag":"W/\"70-1z6hT7P1WHgBgS/BeUEVeHhOCQU\"","date":"Mon, 28 Feb 2022 13:41:20 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"ddb9c409da6666bc","trace_id":"c2eb15e432794a73b68961cc5573aeb5","duration":100.333,"timestamp":1646055681194049,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:21 GMT","content-length":"110","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"71002920a5c8a8a7","transaction_id":"ddb9c409da6666bc","parent_id":"ddb9c409da6666bc","trace_id":"c2eb15e432794a73b68961cc5573aeb5","subtype":"http","action":"GET","timestamp":1646055681227646,"duration":36.189,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c02c1a583873aa67","trace_id":"6c00f95cd56b03f2f3b29c83b6a25f29","parent_id":"f3238423e3ecff5b","duration":62.19,"timestamp":1646055681627015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/1","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types/1","full":"http://opbeans-node:3000/api/types/1"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-6c00f95cd56b03f2f3b29c83b6a25f29-f3238423e3ecff5b-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-6c00f95cd56b03f2f3b29c83b6a25f29-f3238423e3ecff5b-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"658ac86b5b65e3d6724bd91007f7bcdd\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"58fefea8-0cfa-40f6-afa5-d2cb126884a5","x-runtime":"0.013833","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:21 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"2dc599fb059bb60e","transaction_id":"c02c1a583873aa67","parent_id":"c02c1a583873aa67","trace_id":"6c00f95cd56b03f2f3b29c83b6a25f29","subtype":"http","action":"GET","timestamp":1646055681631182,"duration":37.446,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types/1"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id/customers","type":"request","result":"HTTP 2xx","id":"9afc9fe03f00584d","trace_id":"a80ead92e006cdfe58d43d00ba78308c","duration":53.506,"timestamp":1646055681654013,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/5/customers?count=orders&limit=50","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/5/customers","search":"?count=orders&limit=50","full":"http://opbeans-node:3000/api/products/5/customers?count=orders&limit=50"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","date":"Mon, 28 Feb 2022 13:41:21 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"bc9764ca67a36420","transaction_id":"9afc9fe03f00584d","parent_id":"9afc9fe03f00584d","trace_id":"a80ead92e006cdfe58d43d00ba78308c","subtype":"postgresql","action":"query","timestamp":1646055681659783,"duration":37.762,"context":{"db":{"statement":"SELECT c.* FROM customers c LEFT JOIN orders o ON c.id=o.customer_id LEFT JOIN order_lines l ON o.id=l.order_id LEFT JOIN products p ON l.product_id=p.id WHERE p.id=$1 LIMIT $2","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"d04fdc1328cbab70","transaction_id":"5e296e4b8789b2f0","parent_id":"5e296e4b8789b2f0","trace_id":"43d6c95e7a0a965ad63b68aaac1ae18c","subtype":"redis","action":null,"timestamp":1646055682164438,"duration":5.759,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"31ea9cd211730fc8","transaction_id":"5e296e4b8789b2f0","parent_id":"5e296e4b8789b2f0","trace_id":"43d6c95e7a0a965ad63b68aaac1ae18c","subtype":"postgresql","action":"query","timestamp":1646055682171662,"duration":4.9,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"5e296e4b8789b2f0","trace_id":"43d6c95e7a0a965ad63b68aaac1ae18c","duration":40.161,"timestamp":1646055682157028,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:41:22 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"1ab0d06d2c0f8b5c","trace_id":"120005287d24c4fde5f30e79d30c1126","parent_id":"acb26b80fdc45155","duration":44.885,"timestamp":1646055682437013,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers","full":"http://opbeans-node:3000/api/customers"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-120005287d24c4fde5f30e79d30c1126-acb26b80fdc45155-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-120005287d24c4fde5f30e79d30c1126-acb26b80fdc45155-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"37992d7e5d1df22332cd7c5be552ddce\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"e80844f4-0890-4fd6-a90c-5e051c55f579","x-runtime":"0.015901","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:22 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"843696eab634daa3","transaction_id":"1ab0d06d2c0f8b5c","parent_id":"1ab0d06d2c0f8b5c","trace_id":"120005287d24c4fde5f30e79d30c1126","subtype":"http","action":"GET","timestamp":1646055682441514,"duration":36.76,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/customers"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM order_lines","type":"db","id":"b932a6ca8c86f0f1","transaction_id":"42da6837c0bb21c0","parent_id":"42da6837c0bb21c0","trace_id":"f0a87ff07e60c1017264f671122347ac","subtype":"postgresql","action":"query","timestamp":1646055682667637,"duration":3.491,"context":{"db":{"statement":"SELECT product_id, COUNT(product_id) AS amount FROM order_lines GROUP BY product_id LIMIT 3","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"6d348cb601e3f30f","trace_id":"c53150b25141d281f65aa1f425c6387a","parent_id":"7a11059a5ef4df3d","duration":28.886,"timestamp":1646055682653013,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:22 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/top","type":"request","result":"HTTP 2xx","id":"42da6837c0bb21c0","trace_id":"f0a87ff07e60c1017264f671122347ac","parent_id":"a939f5168e184671","duration":30.872,"timestamp":1646055682663014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-f0a87ff07e60c1017264f671122347ac-a939f5168e184671-01","elastic-apm-traceparent":"00-f0a87ff07e60c1017264f671122347ac-a939f5168e184671-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"275","etag":"W/\"113-kGf/4E6c4vAA/SGw6gYFM6YnwsY\"","date":"Mon, 28 Feb 2022 13:41:22 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":4},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"675125a0ab64397d","transaction_id":"42da6837c0bb21c0","parent_id":"42da6837c0bb21c0","trace_id":"f0a87ff07e60c1017264f671122347ac","subtype":"postgresql","action":"query","timestamp":1646055682672439,"duration":12.978,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"14fcc3f499a64c3a","transaction_id":"42da6837c0bb21c0","parent_id":"42da6837c0bb21c0","trace_id":"f0a87ff07e60c1017264f671122347ac","subtype":"postgresql","action":"query","timestamp":1646055682674696,"duration":13.375,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"ff58093440e21ac3","transaction_id":"42da6837c0bb21c0","parent_id":"42da6837c0bb21c0","trace_id":"f0a87ff07e60c1017264f671122347ac","subtype":"postgresql","action":"query","timestamp":1646055682677056,"duration":13.455,"context":{"db":{"statement":"SELECT id, sku, name, stock FROM products WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /*","type":"request","result":"HTTP 2xx","id":"0e5fffcd49bfb9e8","trace_id":"5932140f5ace8f824c2b312b9d392753","parent_id":"44069821b789ff2e","duration":8.762,"timestamp":1646055683163018,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/","full":"http://opbeans-node:3000/"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"text/html","content-length":"813","date":"Mon, 28 Feb 2022 13:41:23 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"c71ea64b2c5599d9","trace_id":"dd9877bbddfa0df681622d13c2b23129","parent_id":"e9d40f275794e360","duration":112.159,"timestamp":1646055683208014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/stats","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/stats","full":"http://opbeans-node:3000/api/stats"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-dd9877bbddfa0df681622d13c2b23129-e9d40f275794e360-01","elastic-apm-traceparent":"00-dd9877bbddfa0df681622d13c2b23129-e9d40f275794e360-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:23 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"bb968097862cc439","transaction_id":"c71ea64b2c5599d9","parent_id":"c71ea64b2c5599d9","trace_id":"dd9877bbddfa0df681622d13c2b23129","subtype":"http","action":"GET","timestamp":1646055683213146,"duration":89.796,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/stats"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"a0ee077f8a8c0cf0","transaction_id":"dd7b46170b6266f6","parent_id":"dd7b46170b6266f6","trace_id":"f12c39982d30c780df104bbf6c833bca","subtype":"postgresql","action":"query","timestamp":1646055683663222,"duration":5.43,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 4xx","id":"dd7b46170b6266f6","trace_id":"f12c39982d30c780df104bbf6c833bca","parent_id":"90628c4f27fac178","duration":20.891,"timestamp":1646055683654017,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/8752","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/8752","full":"http://opbeans-node:3000/api/customers/8752"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-f12c39982d30c780df104bbf6c833bca-90628c4f27fac178-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-f12c39982d30c780df104bbf6c833bca-90628c4f27fac178-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:41:23 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"15cafeb884b6ef26","trace_id":"81077c4d21b1eb4d623b08699792e28b","duration":68.12,"timestamp":1646055683681036,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-length":"123","content-type":"application/json","date":"Mon, 28 Feb 2022 13:41:23 GMT","referrer-policy":"same-origin","server":"gunicorn","vary":"Cookie","x-content-type-options":"nosniff","x-frame-options":"DENY","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"faa2f432c6538654","transaction_id":"15cafeb884b6ef26","parent_id":"15cafeb884b6ef26","trace_id":"81077c4d21b1eb4d623b08699792e28b","subtype":"http","action":"GET","timestamp":1646055683689833,"duration":55.59,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/types"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"967320a2c04bd48c","trace_id":"4134a5a1e562d00af6f25d1a70903c31","parent_id":"4593bfaf626f936e","duration":39.705,"timestamp":1646055683732037,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-4134a5a1e562d00af6f25d1a70903c31-4593bfaf626f936e-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-4134a5a1e562d00af6f25d1a70903c31-4593bfaf626f936e-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","date":"Mon, 28 Feb 2022 13:41:23 GMT","connection":"close","transfer-encoding":"chunked"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-go:3000","type":"external","id":"836b308445d1cc01","transaction_id":"967320a2c04bd48c","parent_id":"967320a2c04bd48c","trace_id":"4134a5a1e562d00af6f25d1a70903c31","subtype":"http","action":"GET","timestamp":1646055683740030,"duration":25.185,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-go:3000/api/orders"},"destination":{"service":{"name":"http://opbeans-go:3000","resource":"opbeans-go:3000","type":"external"},"address":"opbeans-go","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"208c26854c47c125","transaction_id":"faeaaa49a67078de","parent_id":"faeaaa49a67078de","trace_id":"8dbd2020a32bdbd2cfb34d2994511d37","subtype":"redis","action":null,"timestamp":1646055683809561,"duration":1.742,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"21976bc0f53df564","transaction_id":"faeaaa49a67078de","parent_id":"faeaaa49a67078de","trace_id":"8dbd2020a32bdbd2cfb34d2994511d37","subtype":"postgresql","action":"query","timestamp":1646055683812954,"duration":3.14,"context":{"db":{"statement":"SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products","type":"request","result":"HTTP 2xx","id":"faeaaa49a67078de","trace_id":"8dbd2020a32bdbd2cfb34d2994511d37","parent_id":"652716a178a4207d","duration":16.77,"timestamp":1646055683805014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-8dbd2020a32bdbd2cfb34d2994511d37-652716a178a4207d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-8dbd2020a32bdbd2cfb34d2994511d37-652716a178a4207d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"1023","etag":"W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\"","date":"Mon, 28 Feb 2022 13:41:23 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/customers/:id","type":"request","result":"HTTP 2xx","id":"812da7d5ab050d37","trace_id":"c1a2c05178f4987d9116954736ae0a36","parent_id":"959dad953c91b805","duration":43.762,"timestamp":1646055684142014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/323","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/323","full":"http://opbeans-node:3000/api/customers/323"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-c1a2c05178f4987d9116954736ae0a36-959dad953c91b805-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-c1a2c05178f4987d9116954736ae0a36-959dad953c91b805-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"192","etag":"W/\"c0-JMvI//hr6zWmUSagdTC/4Hwp0LE\"","date":"Mon, 28 Feb 2022 13:41:24 GMT","connection":"close"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM customers","type":"db","id":"28e22519cf3aed55","transaction_id":"812da7d5ab050d37","parent_id":"812da7d5ab050d37","trace_id":"c1a2c05178f4987d9116954736ae0a36","subtype":"postgresql","action":"query","timestamp":1646055684161035,"duration":20.473,"context":{"db":{"statement":"SELECT * FROM customers WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"stacktrace":[{"filename":"node_modules/pg-pool/index.js","lineno":406,"function":"PendingItem.callback","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":298,"function":"_acquireClient","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":146,"function":"_pulseQueue","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"node_modules/pg-pool/index.js","lineno":179,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/pg-pool/index.js"},{"filename":"internal/process/task_queues.js","lineno":77,"function":"processTicksAndRejections","library_frame":true,"abs_path":"internal/process/task_queues.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"79e742b50026335a","trace_id":"c1a2c05178f4987d9116954736ae0a36","parent_id":"c1e1e0be411e7b19","duration":118.003,"timestamp":1646055684106014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/323","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/323","full":"http://opbeans-node:3000/api/customers/323"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-c1a2c05178f4987d9116954736ae0a36-c1e1e0be411e7b19-01","elastic-apm-traceparent":"00-c1a2c05178f4987d9116954736ae0a36-c1e1e0be411e7b19-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:24 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"54ee89f51dfa66d1","transaction_id":"79e742b50026335a","parent_id":"79e742b50026335a","trace_id":"c1a2c05178f4987d9116954736ae0a36","subtype":"http","action":"GET","timestamp":1646055684110689,"duration":107.647,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/customers/323"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET static file","type":"request","result":"HTTP 2xx","id":"131bd996e86bf0c7","trace_id":"207f1a4a909953fbd72371b676aabd22","duration":36.798,"timestamp":1646055684206015,"sampled":true,"context":{"user":{},"tags":{},"custom":{},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/favicon.ico","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/favicon.ico","full":"http://opbeans-node:3000/favicon.ico"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=0","last-modified":"Sat, 11 Dec 2021 17:17:01 GMT","etag":"W/\"3aee-17daa7f7ac8\"","content-type":"image/x-icon","content-length":"15086","date":"Mon, 28 Feb 2022 13:41:24 GMT","connection":"close"}}},"span_count":{"started":0},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"501bdeb611d40373","trace_id":"c1a2c05178f4987d9116954736ae0a36","parent_id":"51a608dc6f2de10b","duration":191.953,"timestamp":1646055684062026,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/323","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/323","full":"http://opbeans-node:3000/api/customers/323"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-c1a2c05178f4987d9116954736ae0a36-51a608dc6f2de10b-01","elastic-apm-traceparent":"00-c1a2c05178f4987d9116954736ae0a36-51a608dc6f2de10b-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:24 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"192","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"6e9b51c8f91ad282","transaction_id":"501bdeb611d40373","parent_id":"501bdeb611d40373","trace_id":"c1a2c05178f4987d9116954736ae0a36","subtype":"http","action":"GET","timestamp":1646055684073299,"duration":176.424,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/323"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"f8e515dd0400945f","trace_id":"c1a2c05178f4987d9116954736ae0a36","parent_id":"8f86366448890461","duration":246.891,"timestamp":1646055684029015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/323","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/323","full":"http://opbeans-node:3000/api/customers/323"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-c1a2c05178f4987d9116954736ae0a36-8f86366448890461-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-c1a2c05178f4987d9116954736ae0a36-8f86366448890461-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:24 GMT","connection":"close","content-type":"application/json; charset=utf-8","x-frame-options":"DENY","content-length":"192","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"fdb8579b3ab5dc63","transaction_id":"f8e515dd0400945f","parent_id":"f8e515dd0400945f","trace_id":"c1a2c05178f4987d9116954736ae0a36","subtype":"http","action":"GET","timestamp":1646055684036916,"duration":232.359,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/323"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"3eba5ab4c6596cd2","trace_id":"e2b7a915c4917a0564461554b5cd993a","parent_id":"76711a3f0721f18f","duration":34.492,"timestamp":1646055684594020,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/types","full":"http://opbeans-node:3000/api/types"},"headers":{"host":"opbeans-node:3000","user-agent":"python-requests/2.27.1","accept-encoding":"gzip, deflate","accept":"*/*","connection":"keep-alive","traceparent":"00-e2b7a915c4917a0564461554b5cd993a-76711a3f0721f18f-01","elastic-apm-traceparent":"00-e2b7a915c4917a0564461554b5cd993a-76711a3f0721f18f-01","tracestate":"es=s:1.0"},"socket":{"remote_address":"::ffff:172.23.0.11"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:24 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"6fc52b52d4e507c6","transaction_id":"3eba5ab4c6596cd2","parent_id":"3eba5ab4c6596cd2","trace_id":"e2b7a915c4917a0564461554b5cd993a","subtype":"http","action":"GET","timestamp":1646055684598269,"duration":20.253,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/types"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"93908d14bffe2563","transaction_id":"47a01ab5d0a02ff7","parent_id":"47a01ab5d0a02ff7","trace_id":"740feb0fdb57f22d050794fdebf272e7","subtype":"redis","action":null,"timestamp":1646055684658891,"duration":1.825,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"27adb5a4806799c9","transaction_id":"47a01ab5d0a02ff7","parent_id":"47a01ab5d0a02ff7","trace_id":"740feb0fdb57f22d050794fdebf272e7","subtype":"postgresql","action":"query","timestamp":1646055684661940,"duration":9.885,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"47a01ab5d0a02ff7","trace_id":"740feb0fdb57f22d050794fdebf272e7","duration":20.989,"timestamp":1646055684655013,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:41:24 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"e2bbe68976eb3db3","transaction_id":"ad088b6d0b22ec2f","parent_id":"ad088b6d0b22ec2f","trace_id":"ae3b0612a0c4ec0a390df75d333af8e0","subtype":"postgresql","action":"query","timestamp":1646055684691907,"duration":2.636,"context":{"db":{"statement":"SELECT * FROM orders WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders/:id","type":"request","result":"HTTP 4xx","id":"ad088b6d0b22ec2f","trace_id":"ae3b0612a0c4ec0a390df75d333af8e0","parent_id":"06493b7fee37949d","duration":22.792,"timestamp":1646055684680013,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders/10","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders/10","full":"http://opbeans-node:3000/api/orders/10"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-ae3b0612a0c4ec0a390df75d333af8e0-06493b7fee37949d-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-ae3b0612a0c4ec0a390df75d333af8e0-06493b7fee37949d-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":404,"headers":{"x-powered-by":"Express","date":"Mon, 28 Feb 2022 13:41:24 GMT","connection":"close","content-length":"0"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"583a7c63680e1023","trace_id":"13c1aee7a5f897ad25a413ed5019cee1","parent_id":"6c104c7db2c19e1f","duration":69.915,"timestamp":1646055684742063,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/top","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products/top","full":"http://opbeans-node:3000/api/products/top"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-13c1aee7a5f897ad25a413ed5019cee1-6c104c7db2c19e1f-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-13c1aee7a5f897ad25a413ed5019cee1-6c104c7db2c19e1f-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:24 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"309","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"5c6a159e9c0827bc","transaction_id":"583a7c63680e1023","parent_id":"583a7c63680e1023","trace_id":"13c1aee7a5f897ad25a413ed5019cee1","subtype":"http","action":"GET","timestamp":1646055684749321,"duration":54.912,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/products/top"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"a1c208b3d50f7147","trace_id":"e7de800ee5cde2b8e0129082037a3026","duration":84.761,"timestamp":1646055685169244,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/customers/911","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/customers/911","full":"http://opbeans-node:3000/api/customers/911"},"headers":{"user-agent":"workload/2.4.3","host":"opbeans-node:3000","connection":"close"},"socket":{"remote_address":"::ffff:172.23.0.10"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","server":"gunicorn","date":"Mon, 28 Feb 2022 13:41:25 GMT","connection":"close","content-type":"application/json","x-frame-options":"DENY","content-length":"199","vary":"Cookie","x-content-type-options":"nosniff","referrer-policy":"same-origin"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-python:3000","type":"external","id":"d517bbbc7b46dcf1","transaction_id":"a1c208b3d50f7147","parent_id":"a1c208b3d50f7147","trace_id":"e7de800ee5cde2b8e0129082037a3026","subtype":"http","action":"GET","timestamp":1646055685173666,"duration":54.924,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-python:3000/api/customers/911"},"destination":{"service":{"name":"http://opbeans-python:3000","resource":"opbeans-python:3000","type":"external"},"address":"opbeans-python","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"GET","type":"cache","id":"48d69bff89ce8256","transaction_id":"4ec93507e62e6ca7","parent_id":"4ec93507e62e6ca7","trace_id":"300dc7af06bf51423695dee68f2b1a37","subtype":"redis","action":null,"timestamp":1646055685529616,"duration":1.933,"context":{"destination":{"service":{"name":"redis","resource":"redis","type":"cache"},"address":"redis","port":6379}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM orders","type":"db","id":"55d1fac903ad0fd1","transaction_id":"4ec93507e62e6ca7","parent_id":"4ec93507e62e6ca7","trace_id":"300dc7af06bf51423695dee68f2b1a37","subtype":"postgresql","action":"query","timestamp":1646055685533068,"duration":5.303,"context":{"db":{"statement":"SELECT o.*, c.full_name AS customer_name FROM orders o LEFT JOIN customers c ON c.id=o.customer_id LIMIT $1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/orders","type":"request","result":"HTTP 2xx","id":"4ec93507e62e6ca7","trace_id":"300dc7af06bf51423695dee68f2b1a37","parent_id":"db23f3aca983bcae","duration":18.529,"timestamp":1646055685524015,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/orders","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/orders","full":"http://opbeans-node:3000/api/orders"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-300dc7af06bf51423695dee68f2b1a37-db23f3aca983bcae-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-300dc7af06bf51423695dee68f2b1a37-db23f3aca983bcae-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"944","etag":"W/\"3b0-rWgARGLKLFmxUfMIqElPSHpCVrU\"","date":"Mon, 28 Feb 2022 13:41:25 GMT","connection":"close"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"54295c29c5c76672","transaction_id":"45cd193aef99aae8","parent_id":"45cd193aef99aae8","trace_id":"39f1e367bd9ed91c2af5f2d1a7e2ada7","subtype":"postgresql","action":"query","timestamp":1646055685622868,"duration":5.894,"context":{"db":{"statement":"SELECT p.*, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id WHERE p.id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/products/:id","type":"request","result":"HTTP 2xx","id":"45cd193aef99aae8","trace_id":"39f1e367bd9ed91c2af5f2d1a7e2ada7","parent_id":"6e8c8b131afcbeec","duration":20.783,"timestamp":1646055685615073,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products/1","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/products/1","full":"http://opbeans-go:3000/api/products/1"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-39f1e367bd9ed91c2af5f2d1a7e2ada7-6e8c8b131afcbeec-01","traceparent":"00-39f1e367bd9ed91c2af5f2d1a7e2ada7-6e8c8b131afcbeec-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"231","etag":"W/\"e7-6JlJegaJ+ir0C8I8EmmOjms1dnc\"","date":"Mon, 28 Feb 2022 13:41:25 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api","type":"request","result":"HTTP 2xx","id":"03a1e350d0c036f9","trace_id":"58ee154e841b75e23c669ab7bb6a5747","parent_id":"cf09b00220606b8c","duration":75.214,"timestamp":1646055685593014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/products","protocol":"http:","hostname":"opbeans-node","port":"3000","pathname":"/api/products","full":"http://opbeans-node:3000/api/products"},"headers":{"connection":"close","host":"opbeans-node:3000","user-agent":"http.rb/5.0.4","traceparent":"00-58ee154e841b75e23c669ab7bb6a5747-cf09b00220606b8c-01","tracestate":"es=s:1.0","elastic-apm-traceparent":"00-58ee154e841b75e23c669ab7bb6a5747-cf09b00220606b8c-01"},"socket":{"remote_address":"::ffff:172.23.0.12"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","x-frame-options":"SAMEORIGIN","x-xss-protection":"1; mode=block","x-content-type-options":"nosniff","x-download-options":"noopen","x-permitted-cross-domain-policies":"none","referrer-policy":"strict-origin-when-cross-origin","content-type":"application/json; charset=utf-8","etag":"W/\"e7a2362bf423f315691b319c14409fa6\"","cache-control":"max-age=0, private, must-revalidate","x-request-id":"b1746325-8b37-4675-be30-567851bd4ee5","x-runtime":"0.029842","connection":"close","transfer-encoding":"chunked","date":"Mon, 28 Feb 2022 13:41:25 GMT"}}},"span_count":{"started":1},"outcome":"success","sample_rate":1}}
{"span":{"name":"GET opbeans-ruby:3000","type":"external","id":"df6c7553f6b00b64","transaction_id":"03a1e350d0c036f9","parent_id":"03a1e350d0c036f9","trace_id":"58ee154e841b75e23c669ab7bb6a5747","subtype":"http","action":"GET","timestamp":1646055685602687,"duration":61.242,"context":{"http":{"method":"GET","status_code":200,"url":"http://opbeans-ruby:3000/api/products"},"destination":{"service":{"name":"http://opbeans-ruby:3000","resource":"opbeans-ruby:3000","type":"external"},"address":"opbeans-ruby","port":3000}},"stacktrace":[{"filename":"server.js","lineno":101,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  req.log.debug('proxying request: %s => %s:%s', req.originalUrl, opts.hostname, opts.port + opts.path)",""],"context_line":"  const clientReq = http.request(opts)","post_context":["","  clientReq.on('response', clientRes => {"]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":641,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":260,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":174,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":47,"function":"router","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"server.js","lineno":80,"function":"<anonymous>","library_frame":false,"abs_path":"/app/server.js","pre_context":["  })",""],"context_line":"  next()","post_context":["})",""]},{"filename":"node_modules/express/lib/router/layer.js","lineno":95,"function":"handle","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/layer.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":323,"function":"trim_prefix","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":284,"function":"<anonymous>","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":341,"function":"process_params","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/express/lib/router/index.js","lineno":275,"function":"next","library_frame":true,"abs_path":"/app/node_modules/express/lib/router/index.js"},{"filename":"node_modules/serve-static/index.js","lineno":121,"function":"error","library_frame":true,"abs_path":"/app/node_modules/serve-static/index.js"},{"filename":"events.js","lineno":400,"function":"emit","library_frame":true,"abs_path":"events.js"},{"filename":"node_modules/send/index.js","lineno":270,"function":"error","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":421,"function":"onStatError","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":735,"function":"next","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"node_modules/send/index.js","lineno":724,"function":"onstat","library_frame":true,"abs_path":"/app/node_modules/send/index.js"},{"filename":"fs.js","lineno":191,"function":"FSReqCallback.oncomplete","library_frame":true,"abs_path":"fs.js"},{"filename":"internal/async_hooks.js","lineno":130,"function":"callbackTrampoline","library_frame":true,"abs_path":"internal/async_hooks.js"}],"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM product_types","type":"db","id":"3bd125bb9e3350a1","transaction_id":"32d47144df5b102a","parent_id":"32d47144df5b102a","trace_id":"4e7f19d375e7c9687c27f3c1138aab10","subtype":"postgresql","action":"query","timestamp":1646055685675892,"duration":5.061,"context":{"db":{"statement":"SELECT * FROM product_types WHERE id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"span":{"name":"SELECT FROM products","type":"db","id":"9d8662640dda382f","transaction_id":"32d47144df5b102a","parent_id":"32d47144df5b102a","trace_id":"4e7f19d375e7c9687c27f3c1138aab10","subtype":"postgresql","action":"query","timestamp":1646055685682216,"duration":3.864,"context":{"db":{"statement":"SELECT id, name FROM products WHERE type_id=$1","type":"sql"},"destination":{"service":{"name":"postgresql","resource":"postgresql","type":"db"},"address":"postgres","port":5432}},"sync":false,"outcome":"success","sample_rate":1}}
{"transaction":{"name":"GET /api/types/:id","type":"request","result":"HTTP 2xx","id":"32d47144df5b102a","trace_id":"4e7f19d375e7c9687c27f3c1138aab10","parent_id":"caf87fa9fc8cc7f9","duration":34.991,"timestamp":1646055685654014,"sampled":true,"context":{"user":{"id":42,"username":"kimchy","email":"kimchy@elastic.co"},"tags":{"foo":"bar","lorem":"ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.","this-is-a-very-long-tag-name-without-any-spaces":"test","multi-line":"foo\nbar\nbaz"},"custom":{"shoppingBasketCount":42},"service":{},"cloud":{},"message":{},"request":{"http_version":"1.1","method":"GET","url":{"raw":"/api/types/3","protocol":"http:","hostname":"opbeans-go","port":"3000","pathname":"/api/types/3","full":"http://opbeans-go:3000/api/types/3"},"headers":{"host":"opbeans-go:3000","user-agent":"Python/3.7 aiohttp/3.3.2","accept":"*/*","accept-encoding":"gzip, deflate","elastic-apm-traceparent":"00-4e7f19d375e7c9687c27f3c1138aab10-caf87fa9fc8cc7f9-01","traceparent":"00-4e7f19d375e7c9687c27f3c1138aab10-caf87fa9fc8cc7f9-01","tracestate":"es=s:1","x-forwarded-for":"172.23.0.14"},"socket":{"remote_address":"::ffff:172.23.0.9"}},"response":{"status_code":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"189","etag":"W/\"bd-0uDu9PtTLClFU3E2SJb37cpSxP4\"","date":"Mon, 28 Feb 2022 13:41:25 GMT","connection":"keep-alive","keep-alive":"timeout=5"}}},"span_count":{"started":2},"outcome":"success","sample_rate":1}}
