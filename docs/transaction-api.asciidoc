== Transaction API

To send transaction records you need to send a HTTP POST request to APM Server `transactions` endpoint. Information pertaining to the record must be sent as a JSON object to the endpoint.

--
See <<transaction-api-examples,Examples>> for sending a request to the transaction endpoint.

See the schema definitions for how the transaction payload has to look like:

* <<transaction-payload-schema>>
* <<transaction-transaction-schema>>
* <<transaction-trace-schema>>
* <<transaction-app-schema>>
* <<transaction-system-schema>>
* <<transaction-context-schema>>
* <<transaction-stacktraceframe-schema>>
* <<transaction-request-schema>>
* <<transaction-user-schema>>

--

[[transaction-payload-schema]]
=== Payload

[source,json]
----
include::./spec/transactions/payload.json[]
----

[[transaction-transaction-schema]]
=== Transaction 

[source,json]
----
include::./spec/transactions/transaction.json[]
----

[[transaction-trace-schema]]
=== Trace 

[source,json]
----
include::./spec/transactions/trace.json[]
----

[[transaction-app-schema]]
=== App

[source,json]
----
include::./spec/app.json[]
----

[[transaction-system-schema]]
=== System

[source,json]
----
include::./spec/system.json[]
----

[[transaction-context-schema]]
=== Context 

[source,json]
----
include::./spec/context.json[]
----

[[transaction-stacktraceframe-schema]]
=== Stacktrace Frame 

[source,json]
----
include::./spec/stacktrace_frame.json[]
----

[[transaction-request-schema]]
=== Request 

[source,json]
----
include::./spec/request.json[]
----

[[transaction-user-schema]]
=== User

[source,json]
----
include::./spec/user.json[]
----

[[transaction-api-examples]]
=== Examples

See the examples on how to send a transaction request to the APM Server.

["source","sh",subs="attributes"]
------------------------------------------------------------
curl http://localhost:8200/v1/transactions \
  --header "Content-Type: application/json" \
  --data @docs/data/intake-api/generated/transaction/payload.json
------------------------------------------------------------

==== Payload with several Transactions

[source,json]
----
include::./data/intake-api/generated/transaction/payload.json[]
----

==== Payload with a minimal Transaction

[source,json]
----
include::./data/intake-api/generated/transaction/minimal_payload.json[]
----

==== Payload with a Transaction with a minimal Trace

[source,json]
----
include::./data/intake-api/generated/transaction/minimal_trace.json[]
----
