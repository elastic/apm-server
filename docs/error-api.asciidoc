== Error API

To send error records you need to send a HTTP POST request to APM Server `errors` endpoint. Information pertaining to the error record must be sent as a JSON object to the endpoint.

See the schema definitions for how the error payload has to look like below.

=== Payload

[source,json]
----
include::./spec/errors/payload.json[]
----

=== Error 

[source,json]
----
include::./spec/errors/error.json[]
----

=== App

[source,json]
----
include::./spec/app.json[]
----

=== System

[source,json]
----
include::./spec/system.json[]
----

=== Context 

[source,json]
----
include::./spec/context.json[]
----

=== Stacktrace Frame 

[source,json]
----
include::./spec/stacktrace_frame.json[]
----

=== Request 

[source,json]
----
include::./spec/request.json[]
----

=== User

[source,json]
----
include::./spec/user.json[]
----


=== Example

See the example on how to send an error request to the APM Server.

["source","sh",subs="attributes"]
------------------------------------------------------------
curl http://localhost:8200/v1/errors \
  --header "Content-Type: application/json" \
  --data @docs/data/intake-api/generated/error/payload.json
------------------------------------------------------------

==== Payload with an Error

[source,json]
----
include::./data/intake-api/generated/error/payload.json[]
----

==== Payload with an Error with minimal Exception Information

[source,json]
----
include::./data/intake-api/generated/error/minimal_payload_exception.json[]
----

==== Payload with an Error with minimal Log Information

[source,json]
----
include::./data/intake-api/generated/error/minimal_payload_log.json[]
----
