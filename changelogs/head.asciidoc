[[release-notes-head]]
== APM version HEAD

https://github.com/elastic/apm-server/compare/8.9\...main[View commits]

[float]
==== Breaking Changes

[float]
==== Deprecations

[float]
==== Bug fixes

[float]
==== Intake API Changes

[float]
==== Added
- Add a self-instrumentation transaction to the source map periodic refresh action. {pull}11116[11116]
- Add a self-instrumentation transaction to the agent config periodic refresh action. {pull}11129[11129]
- Stop dropping metadata fields from span documents. {pull}11089[11089]
- Add permissions to reroute events in the integration package. {pull}11168[11168]

[float]
==== Aggregation improvements
- Replace aggregation with LSM-based aggregator which has a lower memory footprint {pull}11117[11117]
- Add `service.language.name` to service destination metrics {pull}11117[11117]
- Modify per-service transaction groups limit to consider more than service.name; Add per-service service destination groups limit and per-service service transaction groups limit {pull}11117[11117]
